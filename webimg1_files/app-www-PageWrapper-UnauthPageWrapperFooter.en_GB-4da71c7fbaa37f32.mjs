"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69345,33185,34722],{32346:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},922719:(e,t,n)=>{n.d(t,{CC:()=>o,Ll:()=>l,XF:()=>a});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),o=(e,t)=>i(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,l=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},197059:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(616550),o=n(807657),a=n(554786);function l(){let e=(0,i.k6)(),t=(0,a.HG)();return n=>{t?(0,o.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},549629:(e,t,n)=>{n.d(t,{Q:()=>s,Z:()=>c});var i=n(667294),o=n(587703),a=n(525364),l=n(996523),r=n(5859);function s(e,t){let{setViewContextData:n}=(0,a.sV)(),{requestIdentifier:s}=(0,r.B)(),c=(0,o.Z)(),{viewData:d}=(0,a.SU)();(0,i.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:s}))},[t])}function c(e){let{children:t,log:n}=e;return s(n),t||null}},399404:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>{let n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},11109:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},742424:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);let o=(0,i.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,i.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:"ï£¿"})})})},119936:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),o=n(883119),a=n(32346),l=n(696534),r=n(844683),s=n(140017),c=n(30378),d=n(5859),u=n(55202),_=n(217058),p=n(554786),h=n(239821),g=n(785893);let m=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function b({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:b=!1,children:x,closeOnOutsideClick:y=!0,footer:w,heading:v,isOpen:j,mobileAccessibilityCloseIconLabel:k,mobileHeadingSize:P,mobileHideCloseIcon:A,mobileIsFooter:S,mobileIsFullscreen:C,mobileIsFullpage:z,mobileIsSlideUp:Z,onDismiss:E,subHeading:T,type:I,zIndex:L}){let O=(0,s.ZP)(),{isRTL:B}=(0,d.B)(),M=(0,i.useRef)(!1),[R,F]=(0,i.useState)(!1),{setAppFocusState:U}=(0,h.I)(),D=(0,p.ZP)(),$=(0,l.vs)();return((0,i.useEffect)(()=>(M.current=(0,a.Z)(()=>{M.current&&F(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&M.current&&(window.cancelAnimationFrame(M.current),M.current=null)}),[]),(0,i.useEffect)(()=>(j?(c.Z.pause(),U(!1),(0,_.My)(`mweb_unauth.mobile_modal.${I||"unknown_type"}.did_mount.is_open.true`)):(c.Z.resume(),U(!0)),()=>{j&&(c.Z.resume(),U(!0),(0,_.My)(`mweb_unauth.mobile_modal.${I||"unknown_type"}.did_mount.is_open.false`))}),[U,j]),(0,i.useEffect)(()=>{let e=j&&!b;return e&&m(),()=>{e&&f()}},[j,b]),j)?(0,g.jsx)(u.Z,{allowClickAndDrag:n,children:(0,g.jsx)(o.mh,{children:(0,g.jsxs)(o.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:L||r.ZM,children:[(0,g.jsx)(o.iP,{accessibilityLabel:O.bt("Mobile sign-up modal mask", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${I||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),y&&E()},tapStyle:"none",children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new o.Ry(1)})}),(0,g.jsxs)(o.xu,{color:"default",dangerouslySetInlineStyle:Z?(0,r.Vf)({isFullscreen:C,isTablet:"tablet"===D,isShowing:R,isRelatedInterestsModal:"related_interests_modal"===I,isDarkMode:$}):(0,r.JN)({isDarkMode:$,variant:z?"fullpage":C?"fullscreen":"tablet"===D?"tablet":S?"footer":"signup"===I?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,g.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[k&&!A?(0,g.jsx)(o.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,g.jsx)(o.hU,{accessibilityLabel:k,icon:"cancel",iconColor:$?"gray":"darkGray",onClick:E,padding:4,size:"sm"})}):null,v?(0,g.jsx)(o.kC.Item,{flex:"grow",children:(0,g.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:k&&!A?{marginRight:B?-10:50,marginLeft:B?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[C?v:(0,g.jsx)(o.xv,{align:t,size:P||"400",weight:"bold",children:v}),T?(0,g.jsx)(o.xv,{align:t,children:T}):null]})})}):null]}),(0,g.jsxs)(o.xu,{overflow:"auto",children:[x,w]})]})]})})}):null}},391884:(e,t,n)=>{n.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:o}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let a=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),l=Object.keys(a);return o&&"orig"===l[l.length-1]&&l.pop(),a[l.pop()]||""}},53162:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e}){return(0,i.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,i.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,i.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,i.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,i.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},516256:(e,t,n)=>{n.d(t,{Z:()=>i});let i={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9}},43342:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(224796),o=n(658583),a=n(622541),l=n(191313),r=n(702497),s=n(624797),c=n(337478);let d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"",_=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,p=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==i.MM)return null;let n=(0,l.qn)(i.MM);return(0,l.L_)(i.MM),n};function h(e,t){let n;if(!d){t.error?.({message:"Window is undefined"});return}let i=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),l=async e=>{if(!e.isTrusted)return;let r=e instanceof MessageEvent?_(e):p(e),d=(0,s.mB)(r);if(d.state&&d.code&&d.state===i){t.fetching?.(),n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(o.U2(a.fS))}`},method:"POST",body:(0,c.Z)({code:d.code,redirect_uri:u})}),{id_token:n,access_token:i}=await e.json();n&&i?t.success({line_id_token:n,line_access_token:i}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",l),window.removeEventListener("storage",l),t.complete?.()}}};window.addEventListener("message",l),window.addEventListener("storage",l),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.zal}&redirect_uri=${encodeURIComponent(u)}&state=${i}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},640258:(e,t,n)=>{n.d(t,{Z:()=>o});let i=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),o=e=>JSON.parse(decodeURIComponent(atob(i(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},776427:(e,t,n)=>{n.d(t,{GH:()=>s,JF:()=>f,Jb:()=>p,MI:()=>g,_V:()=>c,sl:()=>u,we:()=>_});var i=n(11109),o=n(372085),a=n(794658),l=n(990822),r=n(217058);let s="274266067164",c=()=>["public_profile","email","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,r.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,r.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,r.dy)({event:"global_object_not_found",provider:"facebook"}):(0,r.My)("pcons.non_autologin.fb.global_object_not_found")},_=(e,t)=>(t&&(0,r.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,l.Z)(e),"FACEBOOK").then(()=>u(t))),p=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),h=({userID:e,accessToken:t,data:{birthday:n,email:o,first_name:a,gender:l,last_name:r,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:o,first_name:a,gender:l,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:r});async function g(e){let t=(await (0,o.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:d}})).resource_response.data||{};return(0,r.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let m=(e,t)=>new Promise((n,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:o,accessToken:a}=e.authResponse;g(a).then(e=>{n({creds:{facebook_id:o,facebook_token:a,facebook_autologin:t?.autologin||!1},signupOptions:h({userID:o,accessToken:a,data:e})})},i)}),f=()=>new Promise(e=>{window.FB.login(e,{scope:c().join(",")})}).then(e=>m(e))},990822:(e,t,n)=>{n.d(t,{Z:()=>o});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},o=e=>`//connect.facebook.net/${i(e)}/sdk.js`},86083:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(71328);let a=()=>{let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=(0,o.Z)(()=>t(window.scrollY),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e}},86264:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(214877),o=n(340523),a=n(5859),l=n(344064),r=n(669177),s=n(286988),c=n(624797),d=n(953565);let u="http://play.google.com/store/apps/details?id=com.pinterest",_=["access_token","new_password","new_password_confirm","password","next"],p=(e,t)=>t?(0,c.ru)(e,{invite_code:t}):e,h=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?p(e,n):"ios"===t||"ipad"===t?p(e.iOS,n):"android"===t?p(e.android,n):null},g=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:o,app_upsell_type:a})=>({deeplink_path:h(e,n,t),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:o,utm_source:140,utm_medium:2152,app_upsell_type:a,...i?{af_r:i}:null}),m=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:o})=>{let a=JSON.stringify({deeplink_path:h(e,n,t),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:i});return{referrer:(0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:o})}},f=({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}),b=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,logContextEvent:o,platform:a,redirectToLite:l,unauthId:r,userAgent:_,app_upsell_type:p})=>{if(o?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),t){let h=g({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,platform:a,unauthId:r,userAgent:_,app_upsell_type:p});if((0,d.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:a}}),i&&(0,d.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,d.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!r}}),l){(0,d.nP)("mweb.deeplink.lite_link",{sampleRate:1}),o?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}});let e=f({unauthId:r,app_upsell_type:p});window.location.href=(0,c.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){let e=m({deeplinkUri:t,invite_code:i,platform:a,unauthId:r,app_upsell_type:p});(0,s.v)()?(0,s.Z)().then(t=>{if(t.length>0){let e=(0,c.ru)(window.location.href,h);o?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.open(e)||o?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}})}else o?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.location.href=(0,c.ru)(u,e)}).catch(()=>{(0,d.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(o?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.location.href=(0,c.ru)(u,e))}else{if((0,d.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,c.ru)("https://pinterest.com/pinterest-predicts",h);return}o?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.location.href=(0,c.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var x=n(785893);function y({children:e,invite_code:t}){let{isAuthenticated:n,isBot:l,unauthId:s,userAgent:{platform:c,raw:d}}=(0,a.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:_}=(0,o.F)();return e(async(e,i,o)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),b({isAuthenticated:n,checkExperiment:_,deeplinkUri:e,fallbackUrl:o,invite_code:t,logContextEvent:u,platform:c,redirectToLite:(0,r.Rp)({isBot:l,platform:c,userAgent:d}),unauthId:s,userAgent:d,app_upsell_type:i})})}let w=e=>(0,x.jsx)(l.ty,{children:t=>(0,x.jsx)(y,{...e,invite_code:t})});w.displayName="DeepLinkNavigator";let v=w},407996:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),o=n(140017),a=n(785893);let l=({isInModal:e})=>{let t=(0,o.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),children:(0,a.jsx)(i.$j,{accessibilityLabel:t.bt("Loading", "Loading", "Full page loading state", undefined, true),show:!0})})}},490166:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:l,fullWidth:r=!1,pressState:s="none",accessibilityLabel:c,role:d}){let u=(Array.isArray(s)?s:[s]).includes("compress");return(0,o.jsx)(i.iP,{accessibilityLabel:c,fullWidth:r,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),role:d,rounding:l,tapStyle:u?"compress":"none",children:e})}},763676:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tn});var i=n(667294),o=n(545007),a=n(616550),l=n(43604),r=n(214877),s=n(658583),c=n(622541),d=n(510989),u=n(25919),_=n(96157),p=n(5859),h=n(608516),g=n(241552),m=n(573810),f=n(217058),b=n(624797),x=n(554786),y=n(494125),w=n(407053),v=n(216167),j=n(942397),k=n(431718),P=n(646487),A=n(883119),S=n(194602);function C({children:e}){return!(0,S.Z)()&&e}var z=n(454514),Z=n(140017),E=n(96452),T=n(516256),I=n(13848),L=n(27460),O=n(785893);let B="keychainAutologinDisabled",M="mweb.unauth.ios_keychain_autologin";function R(){let[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),l=(0,i.useRef)(!1),r=!!e&&!!n,s=(0,i.useRef)(null),c=(0,L.f)(),d=(0,a.k6)(),u=(0,a.TH)(),_=(0,Z.ZP)(),{showToast:p}=(0,I.F9)();(0,i.useEffect)(()=>{s.current&&s.current.focus()},[]);let h=({errorReason:e,errorCode:t,errorMessage:n})=>{let i=e||t===E.oP?"invalid_password":t===E.hU?"invalid_email":"login";(0,f.My)(`${M}.failure.${i}`),(0,m.Nh)(B,!0),d.push({pathname:"/login",state:{keychainiOSAutologinError:{code:t,message:n}}})};(0,i.useEffect)(()=>{l.current!==r&&(l.current=r,(0,m.Nh)(B,!0),c({username_or_email:e,password:n},d,u.pathname,{isAutologin:!0},{event_type:7534,view_type:9,view_parameter:63,aux_data:{signup_login_method:T.Z.EMAIL,upsell_reason:"autologin_keychain"}}).then(()=>{p(({hideToast:e})=>(0,O.jsx)(z.ZP,{onHide:e,text:_.bt("You're logged in!", "You're logged in!", "mweb.unauth.ios_keychain_autologin.login_success_toast", undefined, true)})),(0,f.My)(`${M}.login_success`)}).catch(e=>{h({errorCode:e.api_error_code,errorMessage:e.message})}))});let g=({value:e,type:n})=>{if(1===e.length){h({errorReason:"manual_input_attempt"});return}"email"===n?t(e):o(e)},b=()=>{r||(0,f.My)(`${M}.failure.user_dismissed_prompt`),(0,m.Nh)(B,!0)};return(0,O.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{zIndex:-100}},opacity:0,position:"absolute",top:!0,children:(0,O.jsxs)("form",{"aria-hidden":"true",autoComplete:"on",onSubmit:e=>{e.preventDefault()},children:[(0,O.jsx)(A.nv,{ref:s,autoComplete:"username",id:"username",onBlur:b,onChange:({value:e})=>g({value:e,type:"email"}),size:"lg",type:"email",value:e}),(0,O.jsx)(A.nv,{autoComplete:"current-password",id:"current-password",onBlur:b,onChange:({value:e})=>g({value:e,type:"password"}),size:"lg",type:"password",value:n})]})})}let F=()=>{let e=(0,a.TH)(),{isBot:t,userAgent:{browserName:n}}=(0,p.B)();return!t&&"Mobile Safari"===n&&((0,_.bo)(e)||(0,_.E0)(e)||(0,_.dr)(e)||(0,_.gT)(e)||(0,_.uM)(e)||(0,_.am)(e))&&!(0,m.qn)(B,!1)};function U(){return F()&&(0,O.jsx)(R,{})}function D(){return(0,O.jsx)(C,{children:(0,O.jsx)(U,{})})}var $=n(233440);let N="susdst",H="susdd",W=e=>{$.Z.getItem(H)||$.Z.setItem(H,e),$.Z.setItem(N,new Date().getTime())},G=()=>{if("undefined"==typeof window)return!1;let e=$.Z.getItem(N),t=$.Z.getItem(H);return!!e&&!!t&&new Date().getTime()-e<=t},Y=(e,t)=>e===t||!!e&&!!t&&e.pathname===t.pathname,X=e=>e&&!!e.key,J=({newLocation:e,oldLocation:t})=>X(e)&&(0,_.L6)(e)&&((0,_.L6)(t)||(0,_.am)(t)||(0,_.cD)(t)||(0,_.En)(t))&&!(0,m.qn)("openUnauthType",void 0)&&!G();var K=n(166630);let q=e=>e.includes("_created")||e.includes("boards"),V="SEEN_NAV_UPSELL",Q=({mobileSignupModalContext:e})=>{let t=(0,a.TH)(),n=(0,i.useRef)(t);(0,i.useEffect)(()=>{let i=n.current,o="?source=swipe"===t.search;if(i!==t&&!Y(i,t)&&!q(t.pathname)){(0,K.C)(t);let{showMobileSignupModal:n,dismissMobileSignupModal:a,incrementUpsellEligibleNavigationCount:l,upsellIsEnabledGlobally:r,upsellEligibleNavigationCount:s,modal:{isShown:c}}=e,d=s+1;c?a():r()&&J({newLocation:t,oldLocation:i})&&!o&&(s>=3&&!$.Z.getItem(V)&&(n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_${d}`,navigationTriggeredUpsell:{newLocation:t,oldLocation:i},headingType:"none"}),$.Z.setItem(V,!0),(0,f.My)(`mweb.nav.upsell.show.${d}`)),l())}n.current=t},[t,e])};function ee({context:e}){return Q({mobileSignupModalContext:e}),null}var et=n(170568),en=n(945172),ei=n(623409),eo=n(149722),ea=n(110155),el=n(155117);let er="sumdc",es=()=>{let e=(0,eo.Z)(),t=e&&e.isAuth,{referrerFromCookie:n}=(0,p.B)(),i=(0,en.Xn)((0,en.an)(n??"")),a=(0,o.v9)(({session:e})=>e.unauthSavePinId&&!t),{unauthCommentPinId:l,removeUnauthCommentPinId:r}=(0,ea.C)(),s=l&&t,{unauthFollowUserId:c,removeUnauthFollowUserId:d}=(0,el.f)(),u=c&&t,_=(0,o.I0)(),h=(0,ei.Z)();return()=>{a&&_((0,et.n1)()),s&&r(),u&&d(),(0,f.NC)("hide_dismissable_modal"),h({action:"dismiss",item:"signup-modal"});let e=$.Z.getItem(er)||0;e+=1,$.Z.setItem(er,e);let t=1===e;i&&t&&W(6e4)}};var ec=n(205841),ed=n(339001),eu=n(340523),e_=n(702497),ep=n(490166),eh=n(717473),eg=n(627457),em=n(953565);function ef(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eb={visible:{transform:"translateY(0)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},hiding:{transform:"translateY(350px)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},wash:{backgroundColor:"rgba(0, 0, 0, 0.5)",height:"100%",touchAction:"none",width:"100%",zIndex:10001,position:"fixed",top:0,left:0},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",width:"100%",zIndex:1}}};class ex extends i.PureComponent{constructor(...e){super(...e),ef(this,"state",{visible:!1,hiding:!1,showWash:!1}),ef(this,"getTitle",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.first_name;return(this.props.i18n.bt("Join {{ name }} on Pinterest for more ideas", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",n||"")}),ef(this,"getAvatar",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.image_medium_url,i=t&&t.full_name;return(0,O.jsx)(ec.qE,{name:i||"",size:"sm",src:n||""})}),ef(this,"handleHide",()=>{let{onDismiss:e}=this.props;(0,em.nP)("mweb_facebook_social_upsell.close"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),ef(this,"handleHideOutsideTap",()=>{let{onDismiss:e}=this.props;(0,em.nP)("mweb_facebook_social_upsell.close.outside.modal"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),ef(this,"handleFBConnect",e=>{(0,em.nP)(`mweb_facebook_social_upsell.fb_connect_button_click.${e}`)}),ef(this,"handleSignupClick",()=>{let e=this.props.location.state?.attributionLabel;(0,em.nP)("mweb_facebook_social_upsell.signup_button_click"),this.props.history.push({pathname:"/",state:{from:this.props.location.pathname,next:this.props.location.pathname,attributionLabel:e}})}),ef(this,"initializeShowAnimation",()=>{(0,em.nP)("mweb_facebook_social_upsell.shown"),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{this.setState({visible:!0})},1e3)})})}componentDidMount(){(0,em.nP)("mweb_facebook_social_upsell.land");let{invite:e}=this.props,t=e?e.invite_channel:null;t&&(0,em.nP)(`mweb_social_unauth.invite_channel.${t}`),this.initializeShowAnimation()}componentWillUnmount(){void 0!==this.slideInAnimation&&window.cancelAnimationFrame(this.slideInAnimation)}renderDefaultLoginHeader(){return(0,O.jsxs)(A.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginBottom:2,children:[(0,O.jsxs)(A.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,children:[(0,O.jsx)(A.xu,{children:(0,O.jsx)(A.xv,{align:"start",size:"400",weight:"bold",children:this.props.i18n.bt("Sign up to see more", "Sign up to see more", "Title on mobile web signup modal to prompt users to signup for Pinterest.", undefined, true)})}),(0,O.jsx)(A.xu,{marginBottom:1}),(0,O.jsx)(A.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,O.jsx)(A.xv,{align:"start",children:this.props.i18n.bt("Free, unlimited access to ideas", "Free, unlimited access to ideas", "First value prop on mobile web sign up modal", undefined, true)})})]}),(0,O.jsx)(A.iz,{})]})}renderInviterHeader(){return(0,O.jsxs)(A.xu,{alignItems:"center",display:"flex",flex:"grow",marginBottom:2,children:[(0,O.jsxs)(A.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:3,children:[(0,O.jsx)(A.xu,{children:(0,O.jsx)(A.xv,{align:"start",size:"400",weight:"bold",children:this.getTitle()})}),(0,O.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"26%"}},children:this.getAvatar()})]}),(0,O.jsx)(A.iz,{})]})}render(){let{location:e,invite:t,checkExperiment:n}=this.props,{visible:i,hiding:o,showWash:a}=this.state,l=e_.ZEf,r=t?t.sender:null,s=i&&!o?eb.visible:eb.hiding;return(0,O.jsxs)(A.xu,{dangerouslySetInlineStyle:{__style:a?eb.wash:{}},children:[i&&!o?(0,O.jsx)(ep.Z,{onTouch:this.handleHideOutsideTap,pressState:"none",children:(0,O.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:eb.mask.baseStyles},left:!0,opacity:1,position:"fixed",top:!0})}):null,(0,O.jsx)(A.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{...s,boxShadow:"0 1px 5px 0 rgba(0,0,0,0.25)",paddingBottom:"5%",paddingTop:"2%",touchAction:"none"}},paddingX:6,position:"fixed",width:"100%",zIndex:new A.Ry(10001),children:(0,O.jsxs)(A.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:400,children:[(0,O.jsx)(A.xu,{paddingY:2}),(0,O.jsx)(A.xu,{left:!0,marginStart:4,marginTop:2,position:"absolute",top:!0,children:(0,O.jsx)(A.hU,{accessibilityLabel:this.props.i18n.bt("Close modal", "Close modal", "Close the modal for facebook upsell", undefined, true),icon:"cancel",iconColor:"gray",onClick:this.handleHide,size:"sm"})}),(0,O.jsx)(A.xu,{paddingY:2}),r?this.renderInviterHeader():this.renderDefaultLoginHeader(),(0,O.jsx)(A.xu,{height:40,marginBottom:1,children:(0,O.jsx)(eh.Z,{attributionLabel:e.state?.attributionLabel,facebook:!n("mweb_unauth_remove_fb_signup_iteration").anyEnabled,fbConnectHandler:this.handleFBConnect,from:e.pathname,next:e.pathname})}),(0,O.jsx)(A.xu,{marginBottom:1,marginTop:2,children:(0,O.jsx)(A.zx,{color:"gray",fullWidth:!0,onClick:this.handleSignupClick,text:this.props.i18n.bt("Sign Up", "Sign Up", "Button to redirect user to Signup Page on mweb", undefined, true)})}),(0,O.jsx)(A.xu,{marginTop:3,children:(0,O.jsx)(A.xv,{align:"center",color:"subtle",size:"100",children:(0,ed.nk)(this.props.i18n.bt("Have an account? {{ logIn }}", "Have an account? {{ logIn }}", "Asking users if they already have an account", undefined, true),{logIn:(0,O.jsx)(A.rU,{display:"inlineBlock",href:l,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:(0,O.jsx)(A.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:this.props.i18n.bt("Log in", "Log in", "Mobile web link to log in page", undefined, true)})})})})}),(0,O.jsx)(A.xu,{marginTop:3,children:(0,O.jsx)(eg.Z,{size:"xs"})})]})})]})}}function ey(e){let t=(0,a.k6)(),n=(0,a.TH)(),i=(0,Z.ZP)(),{checkExperiment:o}=(0,eu.F)();return(0,O.jsx)(ex,{...e,checkExperiment:o,history:t,i18n:i,location:n})}var ew=n(525364),ev=n(766311),ej=n(119936);let ek=({children:e,isOpen:t,onDismiss:n,type:i})=>(0,O.jsx)(ej.default,{accessibilityModalLabel:"",isOpen:t,mobileAllowScroll:!0,mobileHideCloseIcon:!0,mobileIsFooter:!0,onDismiss:n,type:i,children:(0,O.jsx)(A.xu,{padding:4,children:e})});var eP=n(800516);class eA extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="handleJoinBoardClick",n=({event:e})=>{e.stopPropagation();let{history:t,socialCollabGroupBoardPath:n}=this.props;(0,em.nP)("mweb.social.group_board.public.modal.display"),t.push({pathname:"/signup/step1/",state:{next:n||"",isFromGroupBoardsInvite:!0}})},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){let{inviteObject:e}=this.props,t=e?e.invite_channel:null;(0,em.nP)("mweb.social.group_board.public.modal.display"),t&&(0,em.nP)(`mweb.social.group_board.public.invite_channel.${t}`)}render(){let{viewType:e,viewParameter:t,inviteObject:n,board:i}=this.props,o=n?n.sender:null,a=o?o.first_name:"",l=o?o.image_medium_url:"",r=o?o.full_name:"",s=a?(this.props.i18n.bt("{{ name }} invited you to join their board", "{{ name }} invited you to join their board", "Mobile Modal prompting users to join a friends({{ name }}) board", undefined, true)).replace("{{ name }}",a):this.props.i18n.bt("Your friends invited you to join their board", "Your friends invited you to join their board", "Mobile Modal prompting users to join a friends board", undefined, true),c=this.props.i18n.bt("Join board", "Join board", "Join Board Button", undefined, true);return(0,O.jsx)(ev.Z,{component:13196,viewParameter:t,viewType:e||202,children:(0,O.jsx)(ek,{isOpen:!0,onDismiss:()=>{},type:"groupboard_join",children:i?(0,O.jsxs)(A.xu,{padding:3,children:[(0,O.jsxs)(A.xu,{children:[(0,O.jsxs)(A.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,O.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"5%"}},width:"48px",children:(0,O.jsx)(ec.qE,{name:r||"",src:l||""})}),(0,O.jsx)(A.xu,{maxWidth:"74%",children:(0,O.jsx)(A.xv,{align:"start",overflow:"normal",weight:"bold",children:s})})]}),(0,O.jsx)(A.xu,{marginBottom:4})]}),(0,O.jsx)(A.zx,{color:"red",fullWidth:!0,onClick:this.handleJoinBoardClick,text:c,type:"button"})]}):(0,O.jsx)(A.xu,{padding:3,children:(0,O.jsx)(A.$j,{accessibilityLabel:this.props.i18n.bt("Loading board", "Loading Board", "Accessiblity label for Spinner searching for board", undefined, true),show:!0})})})})}}function eS({inviteObject:e,socialCollabGroupBoardPath:t}){let n=(0,Z.ZP)(),i=(0,a.k6)(),{country:l}=(0,p.B)(),{viewType:r,viewParameter:s}=(0,ew.SU)(),c=t&&t.split("?")[0]||"",d=(0,o.v9)(e=>(0,eP.Z)(e)[c]);return(0,O.jsx)(eA,{board:d,country:l,history:i,i18n:n,inviteObject:e,socialCollabGroupBoardPath:t,viewParameter:s,viewType:r})}var eC=n(587703),ez=n(696534),eZ=n(391884),eE=n(468653),eT=n(86083),eI=n(506449),eL=n(634467),eO=n(336054),eB=n(100896),eM=n(810052),eR=n(19447),eF=n(90647);function eU({children:e,expCtaCallback:t}){let n=(0,ei.Z)();return(0,O.jsx)(eF.Z,{app_upsell_type:"unauth-floating-upsell",componentType:14156,children:({handleOpenApp:i})=>(0,O.jsx)(A.iP,{onTap:()=>{n({action:"click",item:"floating-app-upsell"}),t?t():i()},children:e})})}var eD=n(242724),e$=n(721055),eN=n(340249);let eH=new A.Ry(1e4),eW=()=>{let e=(0,a.TH)(),t=(0,a.UO)(),{countryFromIp:n,isBot:i,userAgent:{isMobile:l}}=(0,p.B)(),r=(0,eR.S6)(),s=t.id?r(t.id):void 0;return(0,o.v9)(t=>{let o=(0,eP.Z)(t)[e.pathname],a=o?.cover_pin?.pin_id,c=a&&s&&r(a),d=s||c,{session:{isSocialBot:u}}=t,_=(0,eB.Z)(n||"",i||u,!l)&&["Dialup","Cellular"].includes(d?.pinner?.connection_type),p=(0,eZ.Z)({imagesUrls:d?.images?Object.keys(d.images).reduce((e,t)=>t&&d.images?.[t]?.url?{...e,[t]:d.images[t].url}:e,{}):void 0,embedSrc:d?.embed?.src,embedType:d?.embed?.type,preferredResolution:_&&"236x"||"736x",excludeOriginals:!i&&!u})||o&&o.image_cover_url||"";return p?{color:(d||{}).dominant_color,src:p}:null})},eG=({header:e,onDismiss:t,subheader:n})=>{let o=(0,Z.ZP)(),{viewType:a,viewParameter:l}=(0,ew.SU)(),r=(0,eD.Z)().length,s=eW(),c=(0,eC.Z)(),d=(0,ei.Z)(),u=(0,x.Wb)(),_=(0,ez.vs)(),p=e||o.bt("Loving these ideas?", "Loving these ideas?", "unauth.mweb.floating_app_modal.main_text", undefined, true),h=n||(u?o.bt("Get the free Pinterest app to see more", "Get the free Pinterest app to see more", "unauth.mweb.floating_app_modal.main_text", undefined, true):o.bt("Get the app to see more", "Get the app to see more", "unauth.mweb.floating_app_modal.main_text.experimental", undefined, true));return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(A.xu,{alignSelf:u?"end":void 0,dangerouslySetInlineStyle:{__style:{flexGrow:u?void 0:0}},"data-test-id":"cancel-button",display:"flex",children:(0,O.jsx)(A.hU,{accessibilityLabel:o.bt("Cancel", "Cancel", "unauth.mweb.floating_app_modal.cancel_button", undefined, true),icon:"cancel",iconColor:u?"gray":"darkGray",onClick:({event:e})=>{(0,f.tj)("mweb_unauth.float_app_upsell.dismiss_tap",{x:e?.pageX||-1,y:e?.pageY||-1}),(0,f.My)(`pcons_dismiss_floating_app_upsell_after_${r}_rp_clicks`),(0,f.NC)("click_dismiss_float_app_upsell"),c({component:14156,element:75,event_type:102,view_type:a,view_parameter:l}),d({action:"click",item:"close-button",within:"unauth-floating-upsell"}),e.stopPropagation(),t()},size:"sm"})}),(0,O.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{flexGrow:u?void 0:1}},children:(0,O.jsxs)(A.xu,{"data-test-id":"interest-image",display:"flex",margin:u?2:0,children:[u?s&&(0,O.jsx)(A.xu,{height:64,marginEnd:4,minWidth:48,overflow:"hidden",rounding:2,children:(0,O.jsx)(A.Ee,{alt:"image",color:s.color||"white",fit:"cover",naturalHeight:64,naturalWidth:48,src:s.src})}):(0,O.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:16}},children:(0,O.jsx)(A.xu,{color:_?"inverse":"default",dangerouslySetInlineStyle:{__style:{padding:"6px"}},rounding:1,children:(0,O.jsx)(A.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:28})})}),(0,O.jsxs)(A.kC,{alignItems:"stretch",direction:"column",justifyContent:u?"start":"center",children:[(0,O.jsx)(A.xu,{children:(0,O.jsx)(A.xv,{weight:u?"bold":void 0,children:p})}),(0,O.jsx)(A.xv,{weight:u?void 0:"bold",children:h})]})]})})]})},eY=()=>{let e=(0,Z.ZP)(),t=(0,a.TH)(),{checkExperiment:n}=(0,eu.F)();return(0,O.jsxs)(A.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:2,paddingY:4,children:[(0,O.jsx)(A.xu,{flex:"grow",children:(0,O.jsxs)(A.xu,{marginBottom:6,children:[(0,O.jsx)(A.xu,{marginBottom:2,children:(0,O.jsx)(A.X6,{align:"center",overflow:"normal",size:"400",children:e.bt("You are signed out", "You are signed out", "Heading on the bottom right upsell suggesting user is not signed in", undefined, true)})}),(0,O.jsx)(A.xv,{align:"center",overflow:"normal",children:e.bt("Sign in to get the best experience", "Sign in to get the best experience", "Subheader value prop on the bottom right upsell", undefined, true)})]})}),(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(eh.Z,{attributionLabel:t.state?.attributionLabel,facebook:!n("mweb_unauth_remove_fb_signup_iteration").anyEnabled,google:!0,line:!0,next:(0,eO.Z)(t),showEmailButton:!0}),(0,O.jsx)(A.xu,{marginTop:-3,paddingX:6,children:(0,O.jsx)(eg.Z,{})})]})]})};function eX({onDismiss:e}){let{checkExperiment:t}=(0,eu.F)(),n=(0,ei.Z)(),o=(0,eM.a)(),l=(0,ez.vs)(),s=!!o?.hasScrolledPastMainContent,c=!!o?.hasDraggedDrawerToFullScreen,d=(0,x.Wb)(),u=(0,a.TH)(),h=(0,eT.Z)(),[g,m]=(0,i.useState)(!1),{viewType:b,viewParameter:y}=(0,ew.SU)(),w=(t("mweb_better_related_pins_drawer").group||"").includes("draggable"),v=(0,i.useRef)(h),{isAuthenticated:j}=(0,p.B)(),k=(0,Z.ZP)(),P=(0,eN.Z)(j||!(0,_.am)(u)),{invite_channel:S,sender:C}=P?.invite||{},{isNativeAppInstalled:z}=(0,eL.N)(),{anyEnabled:E,group:T}=!j&&!z&&32===S&&C&&t("unauth_insta_story_board_sharing_cta_floating")||{},I=(0,eI.Z)({group:T||"",i18n:k,sender:C?.full_name||C?.username||""}),{trackConversionUpsell:L}=(0,eE.Z)(),{logContextEvent:B}=(0,r.v)(),M=(0,a.k6)(),R=(0,i.useCallback)(()=>{(0,f.NC)("press_email_signup"),(0,f.Rp)({event:"start",provider:"email"}),n({action:"click",item:"email-signup-button"}),L({viewType:b,viewParameter:y,eventType:14689,element:13506}),B({view_type:b,view_parameter:y,element:31,event_type:102,aux_data:{},component:14156}),L({eventType:14688,component:14156,incrementUpsellReasonCounter:!1}),e(),M.push({pathname:"/signup/step1/",search:u.search})},[M,u.search,B,e,L,n,y,b]);return(0,i.useEffect)(()=>{d?h>200?m(!0):d&&m(!1):(m(h>700&&h>v.current),v.current=h)},[h,d,s,w,c,t]),(0,i.useEffect)(()=>{n({action:"trigger",item:g?"show-floating-app-upsell":"hide-floating-app-upsell"})},[g,u,n]),(0,O.jsx)(ev.Z,{component:13130,viewParameter:y,viewType:b||202,children:(0,O.jsx)(eU,{expCtaCallback:E?R:void 0,children:(0,O.jsx)(A.xu,{alignItems:d?"center":void 0,borderStyle:"shadow",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?ez.N$:"#fff",marginTop:d?void 0:16,transition:"transform 225ms ease-in-out",transform:d?`translateY(${g?0:d?145:-120}%)`:`translateY(${g?"-84px":"120%"})`,marginBottom:d?84:void 0,paddingRight:d?void 0:"8px",flexDirection:d?void 0:"row-reverse"}},"data-test-id":"floating-app-upsell",direction:"column",display:"flex",justifyContent:d?"center":void 0,left:!d,marginEnd:4,marginStart:d?0:4,maxHeight:d?void 0:96,maxWidth:d?350:void 0,opacity:1,padding:4,position:"fixed",right:!0,rounding:d?6:4,top:!1,zIndex:d?eH:new A.Ry(2),children:d?(0,O.jsx)(eY,{}):(0,O.jsx)(eG,{header:I.heading,onDismiss:e,subheader:I.description})})})})}function eJ(){let{viewType:e,viewParameter:t}=(0,ew.SU)(),[n,o]=(0,i.useState)(!1),a=(0,e$.Z)();return(0,O.jsx)(ev.Z,{component:13198,viewParameter:t,viewType:e||202,children:(0,O.jsx)(A.xu,{children:a&&!n&&(0,O.jsx)(eX,{onDismiss:()=>{o(!0)}})})})}var eK=n(866265);let eq=[5,18,17,6,19],eV=(0,i.lazy)(()=>Promise.all([n.e(24766),n.e(86560)]).then(n.bind(n,68613))),eQ=()=>{let e=es(),t=(0,x.ZP)(),n=(0,g.l)();if(!n||!n.modal.isShown)return null;let{dismissMobileSignupModal:i,modal:{displayProps:o,pinId:a}}=n;return(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_SignupModal",children:(0,O.jsx)(h.Z,{fallback:(0,O.jsx)(A.xu,{}),children:(0,O.jsx)(eV,{displayProps:o,isTablet:"tablet"===t,onDismiss:()=>{i(),e()},pinId:a})})})};function e0(){let e=(0,a.TH)(),t=(0,eN.Z)(),n=(0,o.I0)(),l=(0,o.v9)(({session:e})=>e.unauthInterstitialDismissed),r=(0,eK.Z)(),s=(0,g.l)(),[c,u]=(0,i.useState)(!1),_=!!s?.modal.isShown;(0,i.useEffect)(()=>{_&&(u(!0),n((0,et.W)()))},[_,n]);let p=_&&(0,O.jsx)(eQ,{});if(!p&&t&&t.invite){let{invite:n,pageType:i}=t;"board"===i&&n.sender?.invite_category===4?p=(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_GroupBoardsJoinModal",children:(0,O.jsx)(h.Z,{children:(0,O.jsx)(eS,{inviteObject:n,socialCollabGroupBoardPath:`${e.pathname}${e.search}`})})}):eq.includes(n.invite_channel)&&!c&&(p=(0,O.jsx)(ey,{invite:n,onDismiss:()=>u(!0)}))}return(0,O.jsxs)(i.Fragment,{children:[r&&!l&&(0,O.jsx)(eJ,{}),(0,O.jsx)(A.xu,{children:p})]})}var e1=n(478693),e2=n(836313),e3=n(292398),e5=n(434017);let e6=["CA","VA","CO","CT"];var e4=n(706196),e7=n(431489);let e8=(0,i.lazy)(()=>n.e(17021).then(n.bind(n,117021))),e9=(0,i.lazy)(()=>n.e(47639).then(n.bind(n,647639))),te=(e,t,n)=>{let i={...n.getStatslogData()},o={...i.core,...i.counts,browserEventName:t,event:e};return Object.keys(i).forEach(n=>{(0,f.My)(`lop_unauth_user_state.${e}.${t}.${n}`,i[n])}),o},tt=()=>{let{unauthUserState:e,unauthUserStateDispatch:t}=(0,P.R)(),{logContextEvent:n}=(0,r.v)(),i=(0,a.TH)(),d=(0,o.I0)(),{isBot:_,userAgent:{raw:h}}=(0,p.B)(),g=t=>{n({event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(te("site_entry",t,e)),unauth_revisitation:e.revisitationState.count,unauth_previously_logged_out:s.U2(c.e7)}})};(0,y.Z)(()=>{let t=t=>{(0,k.Vd)({count:(0,k.iU)().count??1,time:new Date().getTime()}),n({event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(te("site_exit",t,e)),unauth_revisitation:e.revisitationState.count,unauth_previously_logged_out:s.U2(c.e7)}})},i=!0,o=()=>{let{visibilityState:e}=document;if("visible"===e&&!i){i=!0,g("visibilitychange");return}i=!1,t("visibilitychange")},a=()=>{i=!1,t("beforeunload")};return _?()=>{}:(document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",a),()=>{document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",a)})}),(0,y.Z)(()=>{if((i.search||"").includes("amp_client_id")&&(0,f.My)("amp_duplo_redirect"),!_){d((0,u.pz)([1000180],_)),(function(){let e=v.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let i=e.resource_response.data,o=!!s.U2(c.x3);return i?((0,j.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,f.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${o?"true":"false"}`),t(i)):((0,f.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${o?"true":"false"}`),n({}))}).catch(e=>{if(e&&e.message){let t=e.message.replace(/\s/g,"_").toLowerCase();(0,f.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,f.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})})().then(e=>{d((0,et.iW)(e))},()=>{d((0,et.iW)())});let{revisitationState:n}=e;n&&!(n.count<1)&&n.time?new Date().getTime()-n.time>6e5&&(n={...n,count:n.count+1},(0,k.Vd)(n)):(n=(0,k.K7)(),(0,k.Vd)(n)),g("onMount"),t({type:"UPDATE"})}(0,l.$K)(h)&&(0,m.Nh)("openUnauthType",w.zu)})};function tn(){let e=(0,x.HG)(),t=(0,a.TH)(),n=(0,e7.U)();(0,i.useEffect)(()=>{n&&setTimeout(()=>{n.preload?.(e4.ke("login.js"))},500)},[]);let{referrerFromCookie:o,userAgent:l}=(0,p.B)(),r=(0,g.l)(),s=t&&t.search?(0,b.mB)(t.search):"",c=!!s&&"1"===s.ur,u=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{!u.current&&c&&(0,K.C)(t),u.current=c,"GSA"===l.browserName&&"ios"===l.platform?(0,f.My)("pcons.gsa_and_ios_session.platform"):"GSA"===l.browserName&&"iOS"===l.osName&&(0,f.My)("pcons.gsa_and_ios_session.osName")}),(0,i.useEffect)(()=>{(0,f.My)("mweb.unauth_seo.referrer",{referrer:o,docReferrer:document.referrer})},[o]),!function(){let{country:e,countryFromHostName:t,countryFromIp:n,isBot:o,regionFromIp:a,unauthId:l}=(0,p.B)(),r=new Set(e2.Z),s=r.has(e)||r.has(t)||r.has(n),c=e6.includes(a),d=e_.nBl.includes(a),u="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;(0,i.useEffect)(()=>{s||c||u&&d||((0,e3.NR)({country:e,isBot:o})&&(0,e5.kQ)({unauthId:l}),(0,e3.c_)({country:e,isBot:o})&&(0,e5.X)({id:e1.Un,eventName:"Mobile"}),(0,e3.$r)({country:e,regionFromIp:a,isBot:o})&&(0,e5.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,e3.Fc)({country:e,isBot:o})&&l&&(0,e5.o4)({unauthId:l}))},[e,s,l,o,a,c,d,u])}(),tt(),(0,O.jsxs)(i.Fragment,{children:[!(0,_.re)(t)&&!(0,_.FO)(t)&&(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_AutoLogin",children:(0,O.jsx)(h.Z,{children:(0,O.jsx)(e8,{})})}),(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_GoogleOneTap",children:(0,O.jsx)(h.Z,{children:(0,O.jsx)(e9,{})})}),(0,O.jsx)(D,{}),!e&&(0,O.jsx)(e0,{}),r&&(0,O.jsx)(ee,{context:r})]})}},766311:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(587703),a=n(217058);let l=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),r=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:o,component:r,clientTrackingParams:s,element:c},d)=>{let u=l({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:o,component:r,clientTrackingParams:s,element:c});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),d(u)};function s(e){let{auxData:t,clientTrackingParams:n,children:a,component:l,element:s,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,p=(0,o.Z)(),h=JSON.stringify(t),g=JSON.stringify(d);return(0,i.useEffect)(()=>{r(e,p)},[p,h,n,l,s,c,g,u,_]),i.Children.only(a)}},90647:(e,t,n)=>{n.d(t,{B:()=>g,Z:()=>m});var i=n(667294),o=n(616550),a=n(214877),l=n(525364),r=n(96157),s=n(5859),c=n(217058),d=n(623409),u=n(773616),_=n(86264),p=n(953565),h=n(785893);let g=(e,t)=>"/"===e.pathname?"/":(0,r.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function m({children:e,componentType:t,app_upsell_type:n}){let r=(0,o.TH)(),{flushContextEvents:m,logContextEvent:f}=(0,a.v)(),{viewType:b,viewParameter:x}=(0,l.SU)(),y=(0,d.Z)(),{userAgent:{platform:w}}=(0,s.B)();(0,i.useEffect)(()=>{y({action:"view",item:"download-button",within:n})},[r,n,y]);let v=(0,i.useRef)(!1);(0,i.useEffect)(()=>{b&&202!==b?(f({component:t||13106,element:10308,event_type:9976,view_type:b,view_parameter:x,aux_data:{app_upsell_type:n,app_upsell_is_dupe:v.current}}),v.current=!0):(0,p.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:b,view_parameter:x,app_upsell_type:n,app_upsell_is_dupe:v.current}})},[t,f,x,b,n]);let j=(0,u.Z)();return(0,i.useEffect)(()=>{j||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[j,n]),(0,h.jsx)(_.Z,{children:i=>e({handleOpenApp:e=>{y({action:"click",item:"download-button",within:n}),(0,c.NC)("press_open_app",!0),f({component:t||13106,element:10308,event_type:102,view_type:b||202,view_parameter:x,aux_data:{app_upsell_type:n}}),f({component:t||13106,element:10308,event_type:9977,view_type:b||202,view_parameter:x,aux_data:{app_upsell_type:n}}),m(!0),i&&(f({component:t||13106,element:10308,event_type:1701,view_type:b||202,view_parameter:x,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??g(r,"android"===w),n))}})})}},506449:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(339001);let o=({group:e,i18n:t,sender:n})=>{let o={description:"",heading:""};switch(e){case"enabled_1":o.heading=t.bt("Keep track of what inspires you", "Keep track of what inspires you", "mweb.unauth.board_instagram_story_referred_upsell.heading1", undefined, true),o.description=t.bt("Sign up to save these ideas", "Sign up to save these ideas", "mweb.unauth.board_instagram_story_referred_upsell.description1", undefined, true);break;case"enabled_2":o.heading=t.bt("Feeling inspired?", "Feeling inspired?", "mweb.unauth.board_instagram_story_referred_upsell.heading2", undefined, true),o.description=t.bt("Sign up to create your own board", "Sign up to create your own board", "mweb.unauth.board_instagram_story_referred_upsell.description2", undefined, true);break;case"enabled_3":o.heading=t.bt("Loving these ideas?", "Loving these ideas?", "mweb.unauth.board_instagram_story_referred_upsell.heading3", undefined, true),o.description=(0,i.nk)(t.bt("Sign up to follow {{sender}} for more inspiration", "Sign up to follow {{sender}} for more inspiration", "mweb.unauth.board_instagram_story_referred_upsell.description3", undefined, true),{sender:n})}return o}},110155:(e,t,n)=>{n.d(t,{C:()=>r,p:()=>s});var i=n(667294),o=n(342513),a=n(785893);let{Provider:l,useHook:r}=(0,o.Z)("Session");function s({children:e}){let[t,n]=(0,i.useState)(void 0),o=(0,i.useCallback)(()=>n(void 0),[]),r=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:o}),[t,o]);return(0,a.jsx)(l,{value:r,children:e})}},758939:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(729817),o=n(217058);async function a(e){let t=await (0,i.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,o.tj)(`mweb_multiple_accounts_${e}`,n)}},373236:(e,t,n)=>{n.d(t,{eN:()=>d,_:()=>_,kB:()=>u});var i=n(702497),o=n(624797),a=n(940910),l=n(616550);let r=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],s=(e,t)=>{let n=new URL(e,t);return r.some(e=>!!(0,l.LX)(n.pathname,{path:e,exact:!0}))};var c=n(953565);let d=e=>e&&(0,o.Qg)(e)&&i.lfe!==e?(0,o.Qc)(e).relative:"/",u=(e,t)=>{let n=(0,o.Jx)(e);return s(n,t)||(0,a.Z)(n)===o.vx.TRUSTED_DIFFERENT_ORIGIN},_=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i,origin:a})=>{let l=(0,o.Jx)(n);u(n,a)||!t||e?(e&&(0,c.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(l)):i?t.push(d(l)):t.replace(d(l))}},336054:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},942397:(e,t,n)=>{function i(e){return!!e?.is_matured_new_user}n.d(t,{IR:()=>l,V0:()=>i,Wn:()=>a,xT:()=>o});let o=e=>!!e&&2===e.login_state,a=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function l(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},908738:(e,t,n)=>{n.d(t,{Z:()=>x,u:()=>f});var i=n(667294),o=n(616550),a=n(883119),l=n(29156),r=n(742424),s=n(454514),c=n(140017),d=n(191313),u=n(217058),_=n(623409),p=n(13848),h=n(336054),g=n(27460),m=n(785893);let f="web_siwa_redirect_path",b="id_token=";function x(){let e=(0,c.ZP)(),t=(0,o.TH)(),n=(0,g.f)(),x=(0,o.k6)(),{showToast:y}=(0,p.F9)(),[w,v]=(0,i.useState)(!1),j=(0,_.Z)(),k=t.hash.indexOf(b),P=k>=0?t.hash.substring(k+b.length):null,A=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=async i=>{(0,u.My)("in_app_oauth.login.siwa.returned_with_token"),v(!0),n({apple_token:i},x,t.pathname,{noImmediateRedirect:!0},{event_type:7534,view_type:10}).then(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_success");let e=(0,d.qn)(f);(0,d.L_)(f),(0,l.Z)(e||"/")}).catch(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_failure"),y(({hideToast:t})=>(0,m.jsx)(s.ZP,{onHide:t,text:e.bt("Sorry. You do not have an account connected with Apple. Please try another method.", "Oops! You do not have an account connected with Apple. Please try another method.", "mweb.unauth.oauth_apple_login.login_failure_toast", undefined, true),type:"error"}))})};A.current!==P&&P&&i(P),A.current=P},[x,e,P,t,n,y]),w?(0,m.jsx)(a.$j,{accessibilityLabel:e.bt("Loading...", "Loading...", "Loading", undefined, true),show:!0}):(0,m.jsx)(a.iP,{onTap:()=>{j({action:"click",item:"apple-connect-button"});let e=t.state?.next||(0,h.Z)(t),n=e?decodeURIComponent(e):null;(0,d.Nh)(f,n),(0,l.Z)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,m.jsxs)(a.xu,{alignItems:"center",color:"dark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,m.jsx)(a.xu,{marginStart:-3,marginTop:-2,children:r.Z}),(0,m.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",children:(0,m.jsx)(a.xv,{color:"light",weight:"bold",children:e.bt("Continue with Apple", "Continue with Apple", "mweb.unauth.oauth_apple_login.login_button", undefined, true)})})]})})}},323721:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(883119),a=n(930837),l=n(140017),r=n(217058),s=n(785893);function c({onDismiss:e}){let t=(0,l.ZP)();(0,i.useEffect)(()=>{(0,r.My)("unauth_mweb.login_rate_limited.view")},[]);let n=t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true);return(0,s.jsxs)(a.ZP,{accessibilityModalLabel:n,heading:(0,s.jsxs)(o.xu,{"data-test-id":"login-rate-limited-header",children:[(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,s.jsx)(o.JO,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",icon:"pinterest",size:40})}),(0,s.jsx)(o.X6,{accessibilityLevel:1,align:"center",size:"500",children:n})]}),isOpen:!0,onDismiss:e,children:[(0,s.jsx)(o.xu,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,s.jsx)(o.xv,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,s.jsx)(o.xu,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,s.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:e,text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},913870:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),o=n(883119),a=n(640258),l=n(897650),r=n(974371),s=n(340523),c=n(5859),d=n(217058),u=n(623409),_=n(140017),p=n(53162),h=n(472980),g=n(963773),m=n(785893);function f(){let e=(0,_.ZP)(),[t,n]=(0,i.useState)();return(0,h.Z)()?null:(0,m.jsxs)(o.xu,{position:"relative",children:[(0,m.jsx)(o.iP,{onTap:()=>n(!0),children:(0,m.jsxs)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,m.jsx)(o.xu,{height:24,marginTop:1,width:24,children:(0,m.jsx)(p.Z,{size:20})}),(0,m.jsx)(o.xu,{marginStart:2,children:(0,m.jsx)(o.xv,{weight:"bold",children:e.bt("Connect with Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,m.jsx)(g.Z,{onDismiss:()=>n(!1),type:"google"})]})}function b({onGoogleConnectSuccess:e,onTouch:t}){let{locale:n}=(0,c.B)(),s=(0,i.useRef)(null),_=(0,r.M)(),p=(0,i.useRef)(e),h=(0,u.Z)();return(0,i.useEffect)(()=>{p.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,d.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,d.NC)("press_google_connect_button");let n=(0,a.Z)(e);p.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await _?.ensureInit("button",e),(0,l.ru)({buttonRef:s,isDesktop:!1,locale:n,onTouch:t})})(),()=>{_?.removeButtonCallback(e)}},[_,n]),(0,m.jsx)(o.xu,{position:"relative",children:(0,m.jsx)(o.iP,{onTap:()=>{h({action:"click",item:"google-connect-button"}),(0,d.EX)({event:"start",provider:"google"})},children:(0,m.jsx)(o.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,m.jsx)(o.xu,{ref:s,width:"100%"})})})})}function x({onGoogleConnectSuccess:e,onTouch:t}){let{checkExperiment:n}=(0,s.F)(),{anyEnabled:i}=n("mweb_google_disabled");return i?(0,m.jsx)(f,{}):(0,m.jsx)(b,{onGoogleConnectSuccess:e,onTouch:t})}},295923:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(883119),a=n(922719),l=n(406893);let r={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},s="DelightfulBubbles__",c=(e,t)=>{let n=e.length,i=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[i]},d=[`${s}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${s}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${s}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(()=>{let e=Object.keys(r);return e.map(t=>{let n=c(e,t);return`${s}colorChange_${t} {
      0% {
        background-color: ${r[t]};
      }
      50% {
        background-color: ${r[n]};
      }
    }
    `})})()],u=(0,a.Ll)(d),_=(e,t,n,i,o,a,l,c)=>({bubblePositionStyles:{position:"absolute",marginLeft:`${a/2-o}px`,marginTop:`${n/2-o}px`,left:`${l}px`,top:`${c}px`},bubbleSwirlStyles:{animation:`${s}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${s}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${s}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${s}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:r[i],opacity:0,animation:`${s}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${s}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${s}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${s}fadeIn 3s linear ${e}s 1 forwards`}});var p=n(785893);function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=e=>{let{delay:t,diameter:n,height:i,initialColor:a,width:l,xOffset:r,yOffset:s}=e,c=Math.floor(n/2),d=_(t,n,i,a,c,l,r,s);return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubblePositionStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleSwirlStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleGrowShrinkStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleShapeStyles}})})})})};class m extends i.Component{constructor(...e){super(...e),h(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:i,numBubbles:o,xRadiusAdjustment:l,yRadiusAdjustment:s}=this.props,c=e+2*s,d=t+2*l,u=[],_=Object.keys(r);for(let l=0;l<o;l+=1){let o=16+(0,a.XF)(-4,4),r=_[l%_.length],{x:s,y:h}=(0,a.CC)(c,d);u.push((0,p.jsx)(g,{delay:l*n+i,diameter:o,height:e,initialColor:r,width:t,xOffset:s,yOffset:h},l))}return u}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,p.jsxs)(o.xu,{height:t,position:"relative",width:n,children:[(0,p.jsx)(l.Z,{unsafeCSS:u}),(0,p.jsxs)(o.xu,{ref:e=>this.containerElement=e,position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,p.jsx)(o.xu,{position:"relative",children:this.props.children})]})]})}}h(m,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let f=m},310822:(e,t,n)=>{n.d(t,{R:()=>p,Z:()=>h});var i=n(667294),o=n(883119),a=n(22724),l=n(549629),r=n(140017),s=n(5859),c=n(407996),d=n(407053),u=n(295923),_=n(785893);let p=e=>new Set([...d.EU,...d.rT,...d.IO]).has(e);function h({isReducedHeader:e,progressBarAnimationDuration:t}){let n=(0,r.ZP)(),{country:d}=(0,s.B)(),h=p(d);return(0,_.jsx)(i.Fragment,{children:h?(0,_.jsx)(l.Z,{log:{view_type:10,view_parameter:259},children:(0,_.jsxs)(o.xu,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,_.jsx)(a.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,_.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,_.jsxs)(o.xu,{"data-test-id":"account-creation-heading",margin:10,children:[(0,_.jsx)(o.X6,{overflow:"normal",size:e?"500":"600",children:n.bt("Your account is being created.", "Your account is being created!", "account created heading", undefined, true)}),(0,_.jsx)(o.xv,{overflow:"normal",children:n.bt("You can now save ideas, get personalised recommendations and more", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})]}),(0,_.jsx)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(u.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(o.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(o.JO,{accessibilityLabel:n.bt("Loading", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(c.Z,{})})}},100896:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(407053);let o=(e,t,n)=>!t&&!n&&i.ZR.has(e)},27460:(e,t,n)=>{n.d(t,{f:()=>T,l:()=>I});var i=n(667294),o=n(545007),a=n(216167),l=n(224796),r=n(587703),s=n(658583),c=n(622541),d=n(305657),u=n(957753),_=n(769666),p=n(739670),h=n(508218),g=n(340523),m=n(182962),f=n(891276),b=n(5859),x=n(107905),y=n(731714),w=n(191313),v=n(217058),j=n(722363),k=n(407053),P=n(758939),A=n(373236),S=n(926234),C=n(844998),z=n(67661),Z=n(953565);let E=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),T=()=>{let e=(0,r.Z)(),t=(0,g.F)(),n=(0,o.I0)(),{country:T,countryFromHostName:I,countryFromIp:L,regionFromIp:O,userAgent:{isTablet:B,isMobile:M}}=(0,b.B)(),R=(0,m.Z)(),F=(0,j.Z)();return(0,i.useCallback)(async(i,o,r="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},m)=>{R();let b=!B&&!M,{isAutologin:j,isSwitchAccount:U,noLocationReplace:D,recaptchaV3Token:$,noImmediateRedirect:N,useAlternativeResourceCall:H,trigger:W,accountUnlinked:G}=g;y.Z.setItem(l.V6,(0,h.nY)(i));let Y=t=>{e({...m,event_type:t,aux_data:{...m.aux_data,upsell_reason:m.aux_data?.upsell_reason||(j?"autologin":y.Z.getItem(l.bg)||null),upsell_view_count:y.Z.getItem(l.w0)||0}}),7536===t&&y.Z.setItem(l.w0,0)},X={get_user:!0,...i,app_type_from_client:6,recaptchaV3Token:$},J=(0,z.t_)();J&&(X={...X,visited_pages_before_login:J});let K=(0,S.O)();K&&(X={...X,referrer:K});let q=a.Z.create("UserSessionResource",X).callCreate();if(H&&i.username_or_email&&i.password){let e=new FormData;e.append("username",i.username_or_email),e.append("password",i.password),q=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,d.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>Promise.reject(e))}try{j?(0,v.dy)({event:"login_api_call_start",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_start",provider:(0,h.nY)(i)}),Y(7534),F({action:j?"autologin":"login",event:"attempt",type:(0,h.lp)(i),trigger:W});let e=await q;j?(0,v.dy)({event:"login_api_call_success",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_success",provider:(0,h.nY)(i)}),n(E(e.resource_response.data.user));let a=e.client_context,l=e.resource_response.data.user.gatekeeper_experiments;if(l){let{active:e,triggerable:n}=l;e&&n||(0,Z.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,Z.nP)("webapp.authentication.updateExperimentsFailed");a&&a.placed_experiences&&n((0,u.OD)(a.placed_experiences)),(0,P.Z)("authentication.login_success"),h.ZP.storeLoginCredentialsToBrowser(i),Y(7536),F({action:j?"autologin":"login",event:"success",type:(0,h.lp)(i),trigger:W}),(0,_.Z)(),s.zN(c.e7.name),s.zN(c.x3.name),(0,w.Nh)(k.AA,1),"/"!==r&&(0,C.E)(!0),U?(0,x.Z)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(G?`?message=${p.aU}`:"");window.location.href=t}):j&&!b||N||(0,A._)({forceFullPageNavigation:b,history:o,next:r,noLocationReplace:D,origin:window.location.toString()}),(0,f.ko)({country:T,countryFromHostName:I,countryFromIp:L,regionFromIp:O,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(j?(0,v.dy)({event:"login_api_call_failure",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_failure",provider:(0,h.nY)(i)}),1201!==e.api_error_code||j||b)throw Y(7535),F({action:j?"autologin":"login",event:"fail",type:(0,h.lp)(i),trigger:W}),U&&(0,P.Z)("authentication.login_error"),e;if(o){let t={creds:i,next:r,phoneNumber:e?.data?.phone_number_end};o.push({pathname:"/login/mfa/",state:t})}}},[n,T,I,L,R,t,M,B,e,O,F])},I=()=>{let e=(0,g.F)(),t=(0,o.I0)(),n=(0,m.Z)();return({client_context:i,resource_response:o})=>{let{data:a}=o;a&&(n(),t(E(a.user)));let l=a.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,Z.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,Z.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");i&&t((0,u.OD)(i.placed_experiences))}}},615208:(e,t,n)=>{n.d(t,{m:()=>T});var i=n(545007),o=n(216167),a=n(224796),l=n(324358),r=n(587703),s=n(658583),c=n(622541),d=n(957753),u=n(769666),_=n(916963),p=n(96452),h=n(321725),g=n(340523),m=n(182962),f=n(891276),b=n(5859),x=n(107905),y=n(731714),w=n(573810),v=n(217058),j=n(722363),k=n(758939),P=n(926234),A=n(191313),S=n(407053),C=n(310822),z=n(67661),Z=n(953565);let E=e=>({type:"REGISTER_USER",payload:{user:e}}),T=()=>{let e=(0,g.F)(),t=(0,i.I0)(),{country:n,countryFromHostName:T,countryFromIp:I,regionFromIp:L,isAuthenticated:O}=(0,b.B)(),B=(0,m.Z)(),M=(0,r.Z)(),R=(0,j.Z)();return(i,{signupAttemptContextEvent:r})=>{let g=(0,h.yV)(i),m=e=>{M({...r,event_type:e,aux_data:{...r.aux_data,upsell_reason:r.aux_data?.upsell_reason||y.Z.getItem(a.bg)||null,upsell_view_count:y.Z.getItem(a.w0)||0}}),7487===e&&y.Z.setItem(a.w0,0)};m(7537),R({action:"signup",event:"attempt",type:g}),B();let b=0,j=(0,C.R)(n),F=new Promise(e=>{j?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((a,r)=>{let y=()=>{let j=(0,z.t_)(),C=(0,P.O)(),B={...i,user_behavior_data:function(e){let t={};return e.forEach(e=>{let n=JSON.parse((0,A.qn)(e));n&&(t[e]=n)}),JSON.stringify(t)}([S.E9]),visited_pages:j},M=(0,_.Z)({checkExperiment:e.checkExperiment});M.length>0&&(B={...B,privacy_disclaimer_acknowledge:M}),C&&(B={...B,referrer:C}),(0,Z.nP)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,h.Eh)(B,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,h.Eh)(B,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,h.Eh)(B,"DEPRECATED_CHECK_TRUTHY")}}),o.Z.create("UserRegisterResource",{...B,get_user:!0}).callCreate().then(o=>F.then(()=>{(0,w.L_)("d_pif_invite");let r=o.client_context;t(E(o.resource_response.data.user));let s=o.resource_response.data.user.gatekeeper_experiments;if(s){let{active:t,triggerable:n}=s;t&&n||(0,Z.nP)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,Z.nP)("webapp.registration.updateExperimentsFailed");r&&r.placed_experiences&&t((0,d.OD)(r.placed_experiences)),O&&(0,k.Z)("registration.signup_success");let c=i.email||i.username||null,_=i.password||null,{credentials:p}=navigator;if(p&&c&&_)try{let e=new window.PasswordCredential({id:c,password:_});(0,v.My)("unauth_mweb.navigatorCredentials.store.attempt"),p.store(e).then(()=>{(0,v.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,v.My)("unauth_mweb.navigatorCredentials.store.error")}m(7487),R({action:"signup",event:"success",type:g}),(0,l.Z)(),(0,u.Z)(),O&&(0,x.Z)(),(0,f.ko)({country:n,countryFromHostName:T,countryFromIp:I,regionFromIp:L,deviceType:"Mobile",eventCategory:"NewUsers"}),a()})).catch(e=>{e?.api_error_code===p.tz&&((0,v.My)("multi_step_set_age_restrict_cookie"),s.t8(c.It,"1",(0,s.kZ)(c.It))),b<3&&[p.dO,p.cZ].includes(e?.api_error_code)?(b+=1,y()):(m(7488),R({action:"signup",event:"fail",type:g}),O&&(0,k.Z)("registration.signup_error"),r(e))})};y()})}}},800516:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(0,n(442279).P1)(e=>e.boards,e=>Object.keys(e).reduce((t,n)=>{let i=e[n];t[i.url??""]=i;let{oldSlugUrl:o}=i;return o&&(t[o]=i),t},{}))},963773:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(930837),a=n(140017),l=n(785893);function r({type:e,onDismiss:t}){let n=(0,a.ZP)(),r="facebook"===e?n.bt("Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):n.bt("Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),s="facebook"===e?n.bt("It looks as though Facebook isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):n.bt("It looks as though Google isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,l.jsx)(o.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,l.jsxs)(i.xu,{padding:5,children:[(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:r})}),(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.xv,{children:s})}),(0,l.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,l.jsx)(i.xu,{paddingY:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true),color:"red",onClick:t,size:"lg",text:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true)})})})]})})}},717473:(e,t,n)=>{n.d(t,{Z:()=>H});var i=n(667294),o=n(545007),a=n(616550),l=n(883119),r=n(197059),s=n(587703),c=n(399404),d=n(454514),u=n(140017),_=n(96452),p=n(602377),h=n(321725),g=n(516256),m=n(340523),f=n(5859),b=n(217058),x=n(623409),y=n(468653),w=n(13848),v=n(149722),j=n(407996),k=n(490166),P=n(908738),A=n(776427),S=n(963773),C=n(785893);let z="rgb(0, 116, 232)";function Z(e){let t=(0,i.useRef)(null),n=(0,u.ZP)(),{locale:o}=(0,f.B)(),{checkExperiment:a}=(0,m.F)(),{anyEnabled:r}=a("mweb_facebook_disabled"),[s,c]=(0,i.useState)(!1),[d,_]=(0,i.useState)(!1);(0,i.useEffect)(()=>{r||(t.current&&(t.current.style.backgroundColor=z),(async()=>{await (0,A.we)(o),c(!0)})(),(0,b.My)("pcons.facebook_connect_button_renderd"))},[o,r]);let p=()=>{(0,b.EX)({event:"start",provider:"facebook"}),e.onTouch(),r?_(!0):s&&(async()=>{try{let{creds:t,signupOptions:n}=await (0,A.JF)();e.onConnectSuccess(t,n)}catch(t){e.onConnectError()}})()};return(0,C.jsxs)(l.xu,{"data-test-id":"FacebookConnectContainer",position:"relative",width:"100%",children:[(0,C.jsx)(()=>(0,C.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,rounding:5,top:!0,children:(0,C.jsx)("div",{className:"fb-login-button","data-auth-type":e.isRerequest?"rerequest":void 0,"data-auto-logout-link":"false","data-button-type":"continue_with","data-layout":"rounded","data-max-rows":"1","data-scope":(0,A._V)().join(","),"data-show-faces":"false","data-size":"large","data-use-continue-as":a("mweb_unauth_remove_fb_autologin_and_personalization").anyEnabled?void 0:"true","data-width":"100%"})}),{}),(0,C.jsx)(l.iP,{"data-test-id":"FacebookConnectButton",fullWidth:!0,onTap:()=>p(),children:(0,C.jsx)(l.xu,{ref:t,height:40,paddingX:3,rounding:"pill",width:"100%",children:(0,C.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,C.jsx)(()=>{let e=(0,i.useRef)(null),t="facebook";return(0,i.useEffect)(()=>{if(e.current){let n=e.current.children||[],i=Array.prototype.find.call(n,e=>e.ariaLabel===t);i&&(i.style.color=z)}}),(0,C.jsx)(l.xu,{ref:e,color:"light",dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px"}},marginEnd:1,rounding:"circle",children:(0,C.jsx)(l.JO,{accessibilityLabel:n.bt("Facebook", "facebook", "accessible label for facebook icon", undefined, true),icon:t,size:19})})},{}),(0,C.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:n.bt("Continue with Facebook", "Continue with Facebook", "Login page button", undefined, true)})]})})}),d&&(0,C.jsx)(S.Z,{onDismiss:()=>_(!1),type:"facebook"})]})}var E=n(43342);function T(e){let t=(0,u.ZP)(),{locale:n}=(0,f.B)();return(0,C.jsx)(l.iP,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,E.Z)(n,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,C.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,C.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,C.jsx)(l.xu,{height:32,width:32,children:(0,C.jsx)(l.Ee,{alt:t.bt("line", "line", "accessible label for line icon", undefined, true),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-a34b3f23.png"})}),(0,C.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:t.bt("Continue with LINE", "Continue with LINE", "Login page button", undefined, true)})]})})})}var I=n(323721),L=n(913870),O=n(310822),B=n(27460),M=n(615208),R=n(170568),F=n(96157),U=n(90647);function D({app_upsell_type:e}){let t=(0,u.ZP)(),n=(0,a.TH)(),{userAgent:{platform:i}}=(0,f.B)(),o=(0,x.Z)(),{trackConversionUpsell:r}=(0,y.Z)(),{pathname:s}=n;return(0,C.jsx)(l.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,C.jsx)(U.Z,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:a})=>(0,C.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{r({element:10308,eventType:14689}),o({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),s&&a({deepLinkUri:"/"===s?"/":(0,F.cD)(n)&&("ios"===i||"ipad"===i)?"user"+s:s.substr(1)})},text:t.bt("Get Pinterest app", "Get Pinterest App", "unauth.modal.get_app.button_text", undefined, true)})})})}var $=n(706196),N=n(431489);function H({apple:e,facebook:t,fbConnectHandler:n,footer:A,from:S,google:z,isBusiness:E,isRerequest:F,line:U,next:H="/",noImmediateRedirect:W,disableFBSignup:G,onFacebookTouch:Y,onLoginTouch:X,onSignupTouch:J,showAppInstallButton:K,showEmailButton:q,showTextDivider:V,viewParameter:Q,app_upsell_type:ee,attributionLabel:et}){let en=(0,a.k6)(),ei=(0,a.TH)(),{country:eo}=(0,f.B)(),ea=(0,u.ZP)(),{showToast:el}=(0,w.F9)(),er=(0,s.Z)(),es=(0,x.Z)(),ec=(0,o.I0)(),ed=(0,B.f)(),eu=(0,N.U)(),{flush:e_}=(0,m.F)(),ep=(0,M.m)(),eh=(0,r.Z)(),{isAuth:eg,isLimitedLogin:em}=(0,v.Z)(),{checkExperiment:ef}=(0,m.F)(),[eb,ex]=(0,i.useState)(null),[ey,ew]=(0,i.useState)(!1),[ev,ej]=(0,i.useState)("default"),{trackConversionUpsell:ek}=(0,y.Z)(),eP="facebook"===ev&&5e3||"google"===ev&&4e3||void 0;(0,i.useEffect)(()=>{eu&&(A&&eu.preload?.($.ke("login.js")),q&&eu.preload?.($.ke("signup.js")))},[]);let eA=eg?{login_state:em?p.Z.LIMITED:p.Z.DEFAULT}:Object.freeze({}),eS=e=>{er({view_type:10,view_parameter:Q,element:e,event_type:102,aux_data:eA})},eC=e=>{ek({viewType:10,viewParameter:Q,eventType:14689,element:e})},ez=(e,t)=>{let n,i;switch(t){case"facebook":n=3205,i=g.Z.FACEBOOK;break;case"google":n=3204,i=g.Z.GPLUS;break;case"line":n=3556,i=g.Z.LINE}return{event_type:e,view_type:10,view_parameter:n,element:i===g.Z.GPLUS?12981:void 0,aux_data:{...eA,signup_login_method:i,upsell_reason:et}}},eZ=(e,t,n,i)=>{ex(null);let o=()=>el(({hideToast:e})=>(0,C.jsx)(d.ZP,{onHide:e,text:t&&t.api_error_code&&t.message?t.message:ea.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "Error message when user having trouble login in.", undefined, true)}));if(t){if((0,b.My)(`unauth_mweb.login_error.api_error_code.${String(t.api_error_code)}`),[_.xN,_.lg,_.Pv].includes(t.api_error_code??-1)){if("facebook"===n.type&&ef("mweb_unauth_remove_fb_signup_iteration").anyEnabled){G?.();return}(0,b.Rp)({event:"start",provider:i}),"facebook"!==n.type||n.email?(()=>{(0,b.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,b.My)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,c.Z)(e)){e_(),en.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===n.type?{...n,email_source_site:h.E_.FACEBOOK}:n,progressBarAnimationDuration:eP},attributionLabel:et});return}ex("signup"),ej(i);let t="facebook"===n.type?{...n,email_source_site:h.E_.FACEBOOK,birthday_source_site:h.E_.FACEBOOK,birthday:e}:{...n,birthday:e};(0,b.Rp)({event:"signup_api_call_start",provider:i}),ep(t,{signupAttemptContextEvent:ez(7537,i)}).then(()=>{(0,b.NC)("signup_via_login_buttons"),(0,b.Rp)({event:"signup_api_call_success",provider:i}),["facebook","google"].includes(i)&&eh(H||"/"),ex(null)},e=>{(0,b.Rp)({event:"signup_api_call_failure",provider:i}),"line"===n.type&&(e.api_error_code===_.iZ?en.push({pathname:"/signup/line-email-collect/",state:{signupOptions:n},attributionLabel:et}):e.api_error_code===_.NF&&en.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:n},attributionLabel:et})),el(({hideToast:t})=>(0,C.jsx)(d.ZP,{onHide:t,text:e.api_error_code&&e.message?e.message:ea.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "Error logging on", undefined, true)})),ex(null)})})():(en.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:n},attributionLabel:et}),(0,b.My)("unauth_mweb.reg_via_fb.has_email_perm.false"))}else _.ik.includes(t.api_error_code)&&ew(!0);o()}else(0,b.My)("unauth_mweb.login.unexpected_error"),o()},eE=e=>(t,i)=>{let o="google"===e?"gsi_btn":"other",a=ei.state?.switch_account==="true"?{isSwitchAccount:!0,trigger:o}:{noImmediateRedirect:W,trigger:o};"facebook"===e&&(n?.("success"),(0,b.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,b.NC)(e+"_login_success"),ed(t,en,H,a,ez(7534,e)).catch(n=>{eZ(t,n,i,e)}),ex("login"),ej(e)},eT=({event:e})=>{e.stopPropagation(),e.preventDefault(),X?.(),S&&ec((0,R.rm)(S)),es({action:"click",item:"login-button"}),eS(30),(0,b.My)(`unauth_mweb.login_buttons.footer.${A?.type||"button"}`),(0,b.NC)("press_login"),ek({eventType:14689,element:30,viewType:10,viewParameter:Q}),ek({eventType:14688,component:14213,upsellReason:et,incrementUpsellReasonCounter:!1}),en.push({pathname:E?"/business/login/":"/login/",search:ei.search,state:{next:H,attributionLabel:et}})};return(0,C.jsxs)(l.xu,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:E?-5:0,maxWidth:400,children:[ey&&(0,C.jsx)(I.Z,{onDismiss:()=>ew(!1)}),V&&(0,C.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,C.jsx)(l.xv,{align:"center",size:"100",weight:"bold",children:ea.bt("Or", "OR", "Separator for email login button and social login button", undefined, true)})}),(0,C.jsx)(l.xu,{marginBottom:6,children:(0,C.jsxs)(i.Fragment,{children:[K&&(0,C.jsx)(D,{app_upsell_type:ee}),q&&(0,C.jsx)(l.xu,{"data-test-id":"continue-email-button",marginBottom:E?-2:2,children:(0,C.jsx)(l.zx,{color:K?"gray":"red",fullWidth:!0,onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,b.NC)("press_email_signup"),(0,b.Rp)({event:"start",provider:"email"}),es({action:"click",item:"email-signup-button"}),J?.(),S&&ec((0,R.rm)(S)),eC(13506),eS(31),ek({eventType:14688,component:14215,upsellReason:et,incrementUpsellReasonCounter:!1}),en.push({pathname:E?"/business/signup/step1/":"/signup/step1/",search:ei.search,state:{next:H,attributionLabel:et}})},text:E?ea.bt("Create account", "Create account", "Button text for creating a business account", undefined, true):ea.bt("Continue with email", "Continue with email", "Sign up button", undefined, true)})}),t&&(0,C.jsx)(l.xu,{"data-test-id":"facebook-connect-button",marginBottom:2,children:(0,C.jsx)(Z,{isRerequest:F??!1,onConnectError:()=>{n?.("error"),(0,b.EX)({event:"receive_no_credential_response_from_provider",provider:"facebook"}),el(({hideToast:e})=>(0,C.jsx)(d.ZP,{onHide:e,text:ea.bt("Unable to connect to Facebook", "Unable to connect to Facebook", "Error logging on with Facebook", undefined, true)}))},onConnectSuccess:eE("facebook"),onTouch:()=>{Y?.(),eC(13505),es({action:"click",item:"facebook-connect-button"}),eS(68)}})}),z&&(0,C.jsx)(l.xu,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,C.jsx)(L.Z,{onGoogleConnectSuccess:eE("google"),onTouch:()=>{eC(13504)}})}),U&&"JP"===eo&&(0,C.jsx)(l.xu,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,C.jsx)(T,{onConnectError:()=>el(({hideToast:e})=>(0,C.jsx)(d.ZP,{onHide:e,text:ea.bt("Unable to connect to LINE", "Unable to connect to Line", "Error logging on with Line", undefined, true)})),onConnectSuccess:eE("line"),onTouch:()=>{eC(13507),eS(12277),es({action:"click",item:"line-connect-button"})}})}),e&&(0,C.jsx)(l.xu,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,C.jsx)(P.Z,{})})]})}),A&&("member_link"===A.type?(0,C.jsx)(l.xu,{"data-test-id":"login-member",marginTop:-4,children:(0,C.jsx)(k.Z,{onTouch:e=>eT({event:e}),pressState:"none",children:(0,C.jsx)(l.xu,{marginBottom:A.increasedSpaceBelow?-1:-2,paddingY:A.noPadding?0:4,children:(0,C.jsx)(l.xv,{align:"center",color:A.textColorIsLight?"light":"default",size:"200",weight:"bold",children:ea.bt("Already a member? Log in", "Already a member? Log in", "Link on mobile web sign up modal to direct unauth users to the login page", undefined, true)})})})}):(0,C.jsx)(l.xu,{"data-test-id":"login-button",marginBottom:5,children:(0,C.jsx)(l.zx,{color:"transparent",fullWidth:!0,onClick:eT,text:ea.bt("Log in", "Log in", "Login page button", undefined, true)})})),eb&&("signup"===eb?(0,C.jsx)(O.Z,{progressBarAnimationDuration:eP}):(0,C.jsx)(j.Z,{}))]})}},627457:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),o=n(587703),a=n(525364),l=n(696534),r=n(140017),s=n(339001),c=n(340523),d=n(702497),u=n(623409),_=n(785893);function p({isMobileHomepage:e,isBusiness:t=!1,alignText:n="center",isSignupStep:p=!1}){let h=(0,r.ZP)(),g=(0,o.Z)(),m=(0,u.Z)(),{checkExperiment:f}=(0,c.F)(),{viewType:b,viewParameter:x}=(0,a.SU)(),y=(0,l.vs)(),w=e?"default":"subtle";!y&&e&&(w="inverse");let v=(0,_.jsx)(i.xu,{"data-test-id":"business-tos",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:t?d.V$B:d.U5h,onClick:()=>{m({action:"click",item:"business-tos"}),b&&g({view_type:b,view_parameter:x,element:8012,event_type:102})},target:"blank",underline:"hover",children:t?h.bt("Business Terms of Service", "Business Terms of Service", "termOfService.link.termsOfService.business", undefined, true):h.bt("Terms of Service", "Terms of Service", "termOfService.link.termsOfService.pinner", undefined, true)})})},"termsOfService"),j=(0,_.jsx)(i.xu,{"data-test-id":"privacy",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:d.R_9,onClick:()=>{m({action:"click",item:"privacy-policy"}),b&&g({view_type:b,view_parameter:x,element:8004,event_type:102})},target:"blank",underline:"hover",children:h.bt("Privacy Policy", "Privacy Policy", "termOfService.link.privacyPolicy", undefined, true)})})},"privacyPolicy");return(0,_.jsx)(i.xu,{alignItems:"left"===n?"start":"center",alignSelf:"center","data-test-id":"business-terms-of-service",direction:"row",display:"flex",justifyContent:"center",paddingX:4,wrap:!0,children:(0,_.jsx)(i.xv,{align:"left"===n?"start":"center",color:w,inline:!0,overflow:"normal",size:"100",children:p&&f("fdbr_teen_compliance").anyEnabled?(0,s.nk)(h.bt("By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge that you've read our {{ privacyPolicy }}. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{deleteYourAccount}}.", "By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge you've read our {{ privacyPolicy }}. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{deleteYourAccount}}.", "termOfService.text.floridaCompliance", undefined, true),{termsOfService:v,privacyPolicy:j,deleteYourAccount:(0,_.jsx)(i.xu,{"data-test-id":"deleteYourAccount",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:d.QA0,target:"blank",underline:"hover",children:h.bt("delete your account", "delete your account", "termOfService.link.deleteYourAccount", undefined, true)},"deleteYourAccount")})},"deleteYourAccount")}):(0,s.nk)(h.bt("By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge that you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", "By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", "termOfService.text.default", undefined, true),{termsOfService:v,privacyPolicy:j,noticeAtCollection:(0,_.jsx)(i.xu,{"data-test-id":"noticeAtCollection",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:d.cvl,onClick:()=>{m({action:"click",item:"notice-at-collection"})},target:"blank",underline:"hover",children:h.bt("Notice at collection", "Notice at collection", "Mobile web notice at collection link", undefined, true)})})},"noticeAtCollection")})})})}},866265:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),o=n(43604),a=n(5859),l=n(624797),r=n(810052);let s=()=>{let e=(0,i.TH)(),t=(0,r.a)(),{locale:n,userAgent:{platform:s,raw:c}}=(0,a.B)();if(!t)return!1;let{appInstallBannerIsEnabled:d,pinPageGlobalContext:u}=t,_=!!(0,l.mB)(e.search).invite_code;return d&&!(0,o.$K)(c)&&!(n.includes("ar")&&"ios"!==s)&&!(u?.isStoryPin===!0&&_)}},721055:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(545007),o=n(616550),a=n(43604),l=n(96157),r=n(5859),s=n(573810),c=n(554786),d=n(773616),u=n(669177),_=n(166630),p=n(953565);let h=e=>!!(0,a.dh)(e)&&((0,s.qn)("ufausfiiab")||((0,p.nP)("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,s.Nh)("ufausfiiab","1")),!0),g=()=>{let{isBot:e}=(0,r.B)(),t=(0,o.TH)(),{userAgentPlatform:n,userAgent:a}=(0,i.v9)(e=>e.session),s=(0,d.Z)();return!((0,c.ml)()&&!s)&&!(0,u.Rp)({isBot:e,platform:n,userAgent:a})&&((0,l.uM)(t)||(0,l.am)(t))&&!(0,_.P)()&&!h(a)}},340249:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(616550),a=n(96157),l=n(757640),r=n(344064);let s=e=>{let t=(0,r.vE)(),n=(0,o.TH)(),[s]=(0,i.useState)(n),c=n.pathname===s.pathname&&n.search===s.search&&(0,a.Fw)(n)||null,[d,u]=(0,i.useState)(null),{isLoaded:_,data:p}=(0,l.Z)(!e&&t&&c?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,i.useEffect)(()=>{_&&p&&u(p??null)},[_,p]),t&&c?{invite:d,pageType:c}:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-PageWrapper-UnauthPageWrapperFooter.en_GB-4da71c7fbaa37f32.mjs.map