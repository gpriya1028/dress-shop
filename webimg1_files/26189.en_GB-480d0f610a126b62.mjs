"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[26189,84631],{690674:(e,l,i)=>{var t,n,a,s,r,o,d;i.r(l),i.d(l,{default:()=>p});let c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[s,r,o,d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},d],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};c.hash="6932152931fe069ad54b218e36e66908";let p=c;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let l=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[l]=e}}}(c.default||c)},32346:(e,l,i)=>{i.d(l,{Z:()=>t});function t(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},119936:(e,l,i)=>{i.r(l),i.d(l,{default:()=>x});var t=i(667294),n=i(883119),a=i(32346),s=i(696534),r=i(844683),o=i(140017),d=i(30378),c=i(5859),p=i(55202),_=i(217058),u=i(554786),h=i(239821),m=i(785893);let g=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function x({accessibilityModalLabel:e,align:l="center",allowClickAndDrag:i,allowScroll:x=!1,children:y,closeOnOutsideClick:w=!0,footer:b,heading:v,isOpen:j,mobileAccessibilityCloseIconLabel:P,mobileHeadingSize:A,mobileHideCloseIcon:k,mobileIsFooter:z,mobileIsFullscreen:C,mobileIsFullpage:S,mobileIsSlideUp:I,onDismiss:T,subHeading:R,type:U,zIndex:L}){let Z=(0,o.ZP)(),{isRTL:E}=(0,c.B)(),O=(0,t.useRef)(!1),[F,N]=(0,t.useState)(!1),{setAppFocusState:B}=(0,h.I)(),D=(0,u.ZP)(),W=(0,s.vs)();return((0,t.useEffect)(()=>(O.current=(0,a.Z)(()=>{O.current&&N(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&O.current&&(window.cancelAnimationFrame(O.current),O.current=null)}),[]),(0,t.useEffect)(()=>(j?(d.Z.pause(),B(!1),(0,_.My)(`mweb_unauth.mobile_modal.${U||"unknown_type"}.did_mount.is_open.true`)):(d.Z.resume(),B(!0)),()=>{j&&(d.Z.resume(),B(!0),(0,_.My)(`mweb_unauth.mobile_modal.${U||"unknown_type"}.did_mount.is_open.false`))}),[B,j]),(0,t.useEffect)(()=>{let e=j&&!x;return e&&g(),()=>{e&&f()}},[j,x]),j)?(0,m.jsx)(p.Z,{allowClickAndDrag:i,children:(0,m.jsx)(n.mh,{children:(0,m.jsxs)(n.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:L||r.ZM,children:[(0,m.jsx)(n.iP,{accessibilityLabel:Z.bt("Mobile sign-up modal mask", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${U||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),w&&T()},tapStyle:"none",children:(0,m.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new n.Ry(1)})}),(0,m.jsxs)(n.xu,{color:"default",dangerouslySetInlineStyle:I?(0,r.Vf)({isFullscreen:C,isTablet:"tablet"===D,isShowing:F,isRelatedInterestsModal:"related_interests_modal"===U,isDarkMode:W}):(0,r.JN)({isDarkMode:W,variant:S?"fullpage":C?"fullscreen":"tablet"===D?"tablet":z?"footer":"signup"===U?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,m.jsxs)(n.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[P&&!k?(0,m.jsx)(n.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,m.jsx)(n.hU,{accessibilityLabel:P,icon:"cancel",iconColor:W?"gray":"darkGray",onClick:T,padding:4,size:"sm"})}):null,v?(0,m.jsx)(n.kC.Item,{flex:"grow",children:(0,m.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,m.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:P&&!k?{marginRight:E?-10:50,marginLeft:E?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[C?v:(0,m.jsx)(n.xv,{align:l,size:A||"400",weight:"bold",children:v}),R?(0,m.jsx)(n.xv,{align:l,children:R}):null]})})}):null]}),(0,m.jsxs)(n.xu,{overflow:"auto",children:[y,b]})]})]})})}):null}},48481:(e,l,i)=>{i.d(l,{Z:()=>a});var t=i(877457),n=i(241552);let a=()=>{let e=(0,t.g)(),l=(0,n.l)();return i=>{let{mobileOptions:t,desktopOptions:n,reason:a,attributionLabel:s,pinId:r}=i;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:s,...n?.modalOptions}):l&&l.showMobileSignupModal({reason:a,attributionLabel:s,headingType:t?.headingType??"none",pinId:r})}}},86264:(e,l,i)=>{i.d(l,{Z:()=>v});var t=i(214877),n=i(340523),a=i(5859),s=i(344064),r=i(669177),o=i(286988),d=i(624797),c=i(953565);let p="http://play.google.com/store/apps/details?id=com.pinterest",_=["access_token","new_password","new_password_confirm","password","next"],u=(e,l)=>l?(0,d.ru)(e,{invite_code:l}):e,h=(e,l,i)=>{if("ios"===l&&"string"==typeof e&&e.startsWith("discover/article/")){let l=e.split("/")[2];e=`discover_article/${l}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?u(e,i):"ios"===l||"ipad"===l?u(e.iOS,i):"android"===l?u(e.android,i):null},m=({deeplinkUri:e,invite_code:l,platform:i,fallbackUrl:t,unauthId:n,app_upsell_type:a})=>({deeplink_path:h(e,i,l),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:n,utm_source:140,utm_medium:2152,app_upsell_type:a,...t?{af_r:t}:null}),g=({deeplinkUri:e,invite_code:l,platform:i,unauthId:t,app_upsell_type:n})=>{let a=JSON.stringify({deeplink_path:h(e,i,l),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:t});return{referrer:(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:n})}},f=({unauthId:e,app_upsell_type:l})=>({referrer:encodeURI((0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:l}))}),x=({isAuthenticated:e,deeplinkUri:l,fallbackUrl:i,invite_code:t,logContextEvent:n,platform:a,redirectToLite:s,unauthId:r,userAgent:_,app_upsell_type:u})=>{if(n?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),l){let h=m({isAuthenticated:e,deeplinkUri:l,fallbackUrl:i,invite_code:t,platform:a,unauthId:r,userAgent:_,app_upsell_type:u});if((0,c.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:a}}),t&&(0,c.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,c.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!r}}),s){(0,c.nP)("mweb.deeplink.lite_link",{sampleRate:1}),n?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}});let e=f({unauthId:r,app_upsell_type:u});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){let e=g({deeplinkUri:l,invite_code:t,platform:a,unauthId:r,app_upsell_type:u});(0,o.v)()?(0,o.Z)().then(l=>{if(l.length>0){let e=(0,d.ru)(window.location.href,h);n?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.open(e)||n?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}})}else n?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.location.href=(0,d.ru)(p,e)}).catch(()=>{(0,c.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(n?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.location.href=(0,d.ru)(p,e))}else{if((0,c.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",h);return}n?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:u}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var y=i(785893);function w({children:e,invite_code:l}){let{isAuthenticated:i,isBot:s,unauthId:o,userAgent:{platform:d,raw:c}}=(0,a.B)(),{logContextEvent:p}=(0,t.v)(),{checkExperiment:_}=(0,n.F)();return e(async(e,t,n)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:t}}),x({isAuthenticated:i,checkExperiment:_,deeplinkUri:e,fallbackUrl:n,invite_code:l,logContextEvent:p,platform:d,redirectToLite:(0,r.Rp)({isBot:s,platform:d,userAgent:c}),unauthId:o,userAgent:c,app_upsell_type:t})})}let b=e=>(0,y.jsx)(s.ty,{children:l=>(0,y.jsx)(w,{...e,invite_code:l})});b.displayName="DeepLinkNavigator";let v=b},490166:(e,l,i)=>{i.d(l,{Z:()=>a});var t=i(883119),n=i(785893);function a({children:e,onMouseEnter:l,onMouseLeave:i,onTouch:a,rounding:s,fullWidth:r=!1,pressState:o="none",accessibilityLabel:d,role:c}){let p=(Array.isArray(o)?o:[o]).includes("compress");return(0,n.jsx)(t.iP,{accessibilityLabel:d,fullWidth:r,onMouseEnter:l&&(({event:e})=>l(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:a&&(({event:e})=>a(e)),role:c,rounding:s,tapStyle:p?"compress":"none",children:e})}},766311:(e,l,i)=>{i.d(l,{Z:()=>o});var t=i(667294),n=i(587703),a=i(217058);let s=e=>Object.keys(e).reduce((l,i)=>(void 0===e[i]&&delete l[i],l),{...e}),r=({viewType:e,viewParameter:l,viewData:i,auxData:t,objectIdStr:n,component:r,clientTrackingParams:o,element:d},c)=>{let p=s({event_type:13,view_type:e,view_parameter:l,view_data:i,aux_data:t,object_id_str:n,component:r,clientTrackingParams:o,element:d});-1===Object.keys(p).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),c(p)};function o(e){let{auxData:l,clientTrackingParams:i,children:a,component:s,element:o,objectIdStr:d,viewData:c,viewParameter:p,viewType:_}=e,u=(0,n.Z)(),h=JSON.stringify(l),m=JSON.stringify(c);return(0,t.useEffect)(()=>{r(e,u)},[u,h,i,s,o,d,m,p,_]),t.Children.only(a)}},90647:(e,l,i)=>{i.d(l,{B:()=>m,Z:()=>g});var t=i(667294),n=i(616550),a=i(214877),s=i(525364),r=i(96157),o=i(5859),d=i(217058),c=i(623409),p=i(773616),_=i(86264),u=i(953565),h=i(785893);let m=(e,l)=>"/"===e.pathname?"/":(0,r.am)(e)&&l?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function g({children:e,componentType:l,app_upsell_type:i}){let r=(0,n.TH)(),{flushContextEvents:g,logContextEvent:f}=(0,a.v)(),{viewType:x,viewParameter:y}=(0,s.SU)(),w=(0,c.Z)(),{userAgent:{platform:b}}=(0,o.B)();(0,t.useEffect)(()=>{w({action:"view",item:"download-button",within:i})},[r,i,w]);let v=(0,t.useRef)(!1);(0,t.useEffect)(()=>{x&&202!==x?(f({component:l||13106,element:10308,event_type:9976,view_type:x,view_parameter:y,aux_data:{app_upsell_type:i,app_upsell_is_dupe:v.current}}),v.current=!0):(0,u.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:l,view_type:x,view_parameter:y,app_upsell_type:i,app_upsell_is_dupe:v.current}})},[l,f,y,x,i]);let j=(0,p.Z)();return(0,t.useEffect)(()=>{j||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${i}`)},[j,i]),(0,h.jsx)(_.Z,{children:t=>e({handleOpenApp:e=>{w({action:"click",item:"download-button",within:i}),(0,d.NC)("press_open_app",!0),f({component:l||13106,element:10308,event_type:102,view_type:x||202,view_parameter:y,aux_data:{app_upsell_type:i}}),f({component:l||13106,element:10308,event_type:9977,view_type:x||202,view_parameter:y,aux_data:{app_upsell_type:i}}),g(!0),t&&(f({component:l||13106,element:10308,event_type:1701,view_type:x||202,view_parameter:y,aux_data:{app_upsell_type:i}}),t(e?.deepLinkUri??m(r,"android"===b),i))}})})}},677233:(e,l,i)=>{i.d(l,{Z:()=>p,y:()=>c});var t=i(667294),n=i(805783),a=i(191313),s=i(573810),r=i(194602),o=i(766311),d=i(785893);let c=()=>{(0,a.Nh)("appUpsell",Date.now()),(0,a.qn)("firstUpsellTime")||(0,a.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function p({children:e,clientTrackingParams:l,viewParameter:i,viewType:a}){return(0,r.Z)()||(0,n.FP)(window)?null:(0,d.jsx)(o.Z,{clientTrackingParams:l,component:13106,viewParameter:i,viewType:a,children:(0,d.jsx)(t.Fragment,{children:e})})}},126189:(e,l,i)=>{i.d(l,{Z:()=>U});var t=i(667294),n=i(616550),a=i(883119),s=i(214877),r=i(119936),o=i(140017),d=i(339001),c=i(96157),p=i(340523),_=i(5859),u=i(757640),h=i(217058),m=i(623409),g=i(468653),f=i(624797),x=i(554786),y=i(90647),w=i(677233),b=i(506449),v=i(634467),j=i(686703),P=i(260488),A=i(669177),k=i(19447),z=i(340249),C=i(785893);let S=({description:e,handleDismiss:l,heading:i,i18n:t,appUpsellType:n,expCtaCallback:s,ctaText:r})=>(0,C.jsx)(y.Z,{app_upsell_type:n,componentType:14155,children:({handleOpenApp:n})=>(0,C.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,C.jsx)(a.xu,{paddingY:2,children:(0,C.jsx)(a.X6,{align:"center",size:"400",children:i})}),(0,C.jsx)(a.xu,{width:246,children:(0,C.jsx)(a.xv,{align:"center",size:"300",children:e})}),(0,C.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:5,children:[(0,C.jsx)(a.xu,{marginBottom:2,width:246,children:(0,C.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,w.y)(),s?s():n()},size:"lg",text:r||t.bt("Open app", "Open app", "mweb.auth.referred_app_upsell.open_app", undefined, true)})}),(0,C.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:()=>{l()},size:"lg",text:t.bt("Continue in browser", "Continue in browser", "mweb.auth.referred_app_upsell.continue", undefined, true)})]})]})}),I=({handleDismiss:e,i18n:l,iconSize:i,appUpsellType:t})=>(0,C.jsxs)(a.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new a.Ry(5),children:[(0,C.jsx)(a.xu,{"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,C.jsx)(a.hU,{accessibilityLabel:l.bt("Cancel", "Cancel", "mweb.auth.referred_app_upsell.close_modal_label", undefined, true),icon:"cancel",onClick:e,size:"sm"})}),(0,C.jsxs)(a.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,C.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,C.jsx)(a.JO,{accessibilityLabel:l.bt("Logo", "Logo", "mweb.auth.referred_app_upsell.logo", undefined, true),color:"brandPrimary",icon:"pinterest",size:i})}),(0,C.jsx)(S,{appUpsellType:t,description:l.bt("Save ideas, interact with friends and be inspired", "Save ideas, interact with friends, and get inspired", "mweb.auth.referred_app_upsell.description1", undefined, true),handleDismiss:e,heading:l.bt("Pinterest is better in the app", "Pinterest is better in the app", "mweb.auth.referred_app_upsell.heading1", undefined, true),i18n:l})]})]}),T=({backgroundImageUrl:e,handleDismiss:l,heroImage:i,i18n:t,multipleImages:n,appUpsellType:s})=>(0,C.jsxs)(a.xu,{alignItems:"center",bottom:!0,color:"light",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new a.Ry(5),children:[(0,C.jsx)(a.xu,{height:319,position:"absolute",top:!0,width:"100%",zIndex:new a.Ry(2),children:(0,C.jsx)(a.Ee,{alt:t.bt("App upsell image", "App upsell image", "mweb.auth.referred_app_upsell.image", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})}),(0,C.jsxs)(a.xu,{alignItems:"center",bottom:!0,color:"light",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(12px)"}},direction:"column",display:"flex",left:!0,paddingX:5,position:"absolute",right:!0,top:!0,zIndex:new a.Ry(3),children:[(0,C.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{background:"transparent"}},"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,C.jsx)(a.hU,{accessibilityLabel:t.bt("Cancel", "Cancel", "mweb.auth.referred_app_upsell.close_modal_label", undefined, true),icon:"cancel",onClick:l,size:"sm"})}),(0,C.jsxs)(a.xu,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,C.jsx)(a.kC,{justifyContent:"center",children:i}),(0,C.jsx)(S,{appUpsellType:s,description:n?t.bt("Save these ideas, get similar recommendations and more", "Save these ideas, get similar recs, and more", "mweb.auth.referred_app_upsell.description2", undefined, true):t.bt("Save this idea, get similar recommendations and more", "Save this idea, get similar recs, and more", "mweb.auth.referred_app_upsell.description5", undefined, true),handleDismiss:l,heading:t.bt("It's better in the Pinterest app", "It's better in the Pinterest app", "mweb.auth.referred_app_upsell.heading1", undefined, true),i18n:t})]})]})]}),R=({pinUrl:e,i18n:l})=>(0,C.jsx)(a.xu,{height:235,marginBottom:6,overflow:"hidden",rounding:4,width:176,children:(0,C.jsx)(a.Ee,{alt:l.bt("App upsell image", "App upsell image", "mweb.auth.referred_app_upsell.image", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})});function U({onDismiss:e,viewParameter:l,viewType:i}){let U=(0,o.ZP)(),L=(0,x.Wb)(),{isBot:Z,userAgent:{platform:E,raw:O},isAuthenticated:F}=(0,_.B)(),N=(0,A.Rp)({isBot:Z,platform:E,userAgent:O}),{logContextEvent:B}=(0,s.v)(),D=L?60:32,W=(0,n.k6)(),H=(0,n.$B)(),M=(0,n.TH)(),{invite_code:K}=(0,f.mB)(M.search),{appUpsellType:Q,uiType:q}=(0,j.n)(),G=()=>{B({component:14155,element:10308,event_type:10220,view_type:i||202,view_parameter:l,aux_data:{app_upsell_type:Q}}),(0,w.y)(),e()},J=H.params.id??"",{data:X}=(0,u.Z)(J?{name:"PinResource",options:{field_set_key:"detailed",id:J}}:null),Y=(0,k.S6)()(J),{username:$,slug:V}=(0,n.UO)(),{data:ee}=(0,u.Z)($&&V?{name:"BoardResource",options:{username:(0,f.Jx)($),slug:(0,f.Jx)(unescape(V||"")),field_set_key:"detailed"}}:null),el=(0,z.Z)(F||!(0,c.am)(M)),{invite_channel:ei,sender:et}=el?.invite||{},{checkExperiment:en}=(0,p.F)(),{isNativeAppInstalled:ea}=(0,v.N)(),{anyEnabled:es,group:er}=!F&&!ea&&32===ei&&et&&("unauth-social-iab"===Q||"unauth-social-referred"===Q)&&en("unauth_insta_story_board_sharing_cta_social_land")||{},eo=(0,b.Z)({group:er||"",i18n:U,sender:et?.full_name||et?.username||""}),ed=(0,m.Z)(),{trackConversionUpsell:ec}=(0,g.Z)(),ep=(0,t.useCallback)(()=>{(0,h.NC)("press_email_signup"),(0,h.Rp)({event:"start",provider:"email"}),ed({action:"click",item:"email-signup-button"}),ec({viewType:i,viewParameter:l,eventType:14689,element:13506}),B({view_type:i,view_parameter:l,element:31,event_type:102,aux_data:{},component:14155}),ec({eventType:14688,component:14155,incrementUpsellReasonCounter:!1}),e(),W.push({pathname:"/signup/step1/",search:M.search})},[W,M.search,B,e,ec,ed,l,i]);if("full"===q){let e="",l=null,i=!1;if((0,c.L6)(W.location)&&(e=(X??Y)?.images?.orig?.url||"",l=(0,C.jsx)(R,{i18n:U,pinUrl:e})),(0,c.am)(W.location)&&ee&&ee.images&&ee.images["474x"]){if(ee.images["474x"].length>2){e=ee.images["474x"][0].url||"";let t=ee.images["474x"][1].url||"",n=ee.images["474x"][2].url||"";i=!0,l=(0,C.jsx)(a.xu,{marginBottom:7,children:(0,C.jsxs)(a.kC,{children:[(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",marginRight:"1px"}},height:117,overflow:"hidden",width:117,children:(0,C.jsx)(a.Ee,{alt:U.bt("App upsell image", "App upsell image", "mweb.auth.referred_app_upsell.image", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:e})}),(0,C.jsxs)(a.kC,{direction:"column",children:[(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"16px",marginBottom:"1px"}},height:59,overflow:"hidden",width:57,children:(0,C.jsx)(a.Ee,{alt:U.bt("App upsell image", "App upsell image", "mweb.auth.referred_app_upsell.image", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}),(0,C.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:"16px"}},height:57,overflow:"hidden",width:58,children:(0,C.jsx)(a.Ee,{alt:U.bt("App upsell image", "App upsell image", "mweb.auth.referred_app_upsell.image", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:n})})]})]})})}else ee.images["474x"].length>0&&(e=ee.images["474x"][0].url||"",l=(0,C.jsx)(R,{i18n:U,pinUrl:e}))}return e?(0,C.jsx)(T,{appUpsellType:Q,backgroundImageUrl:e,handleDismiss:G,heroImage:l,i18n:U,multipleImages:i}):(0,C.jsx)(I,{appUpsellType:Q,handleDismiss:G,i18n:U,iconSize:D,upsellAppIsAndroidLiteApp:N})}if("inline"===q){let e=(0,C.jsx)(a.xu,{color:"light",padding:1,rounding:1,children:(0,C.jsx)(a.JO,{accessibilityLabel:U.bt("Pinterest logo", "Pinterest logo", "AppUpsellFooter.icon", undefined, true),color:"brandPrimary",icon:"pinterest",inline:!0,size:28})}),l=U.bt("It's better in the app", "It's better in the app", "mweb.auth.referred_app_upsell.heading3", undefined, true),i=U.bt("Get similar recommendations and more", "Get similar recs and more", "mweb.auth.referred_app_upsell.description4", undefined, true);return Q.endsWith("social-referred")&&K&&(l=(0,C.jsx)(P.UseCloseupInviteQuery,{variables:{inviteCode:K},children:e=>(0,d.nk)(U.bt("{{ invitee }} shared this idea", "{{ invitee }} shared this idea", "mweb.auth.referred_app_upsell.heading5", undefined, true),{invitee:e.v3GetInviteCodeQuery?.data?.sender?.firstName||""})}),i=U.bt("Open app to discover more", "Open app to discover more", "mweb.auth.referred_app_upsell.description6", undefined, true),K&&(e=(0,C.jsx)(P.UseCloseupInviteQuery,{variables:{inviteCode:K},children:e=>(0,C.jsx)(a.xu,{height:48,overflow:"hidden",rounding:6,width:48,children:(0,C.jsx)(a.Ee,{alt:U.bt("App upsell profile image", "App upsell profile image", "mweb.auth.referred_app_upsell.image1", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:e.v3GetInviteCodeQuery?.data?.sender?.imageMediumUrl||""})})}))),(0,C.jsx)(y.Z,{app_upsell_type:Q,children:({handleOpenApp:t})=>(0,C.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#F1F1F1"}},direction:"row",display:"flex",height:74,padding:4,width:"100%",zIndex:new a.Ry(99999),children:(0,C.jsx)(a.iP,{onTap:()=>{(0,w.y)(),t()},children:(0,C.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[e,(0,C.jsxs)(a.xu,{flex:"grow",marginStart:4,children:[(0,C.jsx)(a.xu,{marginBottom:1,children:(0,C.jsx)(a.xv,{children:l})}),(0,C.jsx)(a.xv,{weight:"bold",children:i})]}),(0,C.jsx)(a.xu,{"data-test-id":"referred-app-upsell-dismiss-button",children:(0,C.jsx)(a.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{G(),e.preventDefault(),e.stopPropagation()},size:"sm"})})]})})})})}{let e=U.bt("Pinterest is better in the app", "Pinterest is better in the app", "mweb.auth.referred_app_upsell.heading3", undefined, true);return Q.endsWith("social-referred")&&K&&(e=(0,C.jsx)(P.UseCloseupInviteQuery,{variables:{inviteCode:K},children:e=>(0,d.nk)(U.bt("Join {{ invitee }} on Pinterest", "Join {{ invitee }} on Pinterest", "mweb.auth.referred_app_upsell.heading4", undefined, true),{invitee:e.v3GetInviteCodeQuery?.data?.sender?.firstName||""})})),(0,C.jsx)(r.default,{accessibilityModalLabel:U.bt("modal", "modal", "mweb.auth.referred_app_upsell.modal_label", undefined, true),closeOnOutsideClick:!1,isOpen:!0,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new a.Ry(101),children:(0,C.jsxs)(a.xu,{"data-test-id":"appUpsell-iframe",padding:2,children:[(0,C.jsx)(a.xu,{display:"inlineBlock",position:"absolute",children:(0,C.jsx)(a.xu,{"data-test-id":"referred-app-upsell-dismiss-button",marginStart:1,marginTop:1,children:(0,C.jsx)(a.hU,{accessibilityLabel:U.bt("close", "close", "mweb.auth.referred_app_upsell.close", undefined, true),icon:"cancel",onClick:G,size:"sm"})})}),(0,C.jsxs)(a.xu,{marginBottom:5,marginTop:8,paddingX:2,children:[(0,C.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,C.jsx)(a.JO,{accessibilityLabel:U.bt("Logo", "Logo", "mweb.auth.referred_app_upsell.logo", undefined, true),color:"brandPrimary",icon:"pinterest",size:D})}),(0,C.jsx)(S,{appUpsellType:Q,ctaText:es?U.bt("Sign up", "Sign up", "mweb.unauth.board_instagram_story_referred_upsell.cta_text", undefined, true):void 0,description:es?eo.description:U.bt("Save ideas, interact with friends and be inspired", "Save ideas, interact with friends, and get inspired", "mweb.auth.referred_app_upsell.description3", undefined, true),expCtaCallback:es?ep:void 0,handleDismiss:G,heading:es?eo.heading:e,i18n:U})]})]})})}}},506449:(e,l,i)=>{i.d(l,{Z:()=>n});var t=i(339001);let n=({group:e,i18n:l,sender:i})=>{let n={description:"",heading:""};switch(e){case"enabled_1":n.heading=l.bt("Keep track of what inspires you", "Keep track of what inspires you", "mweb.unauth.board_instagram_story_referred_upsell.heading1", undefined, true),n.description=l.bt("Sign up to save these ideas", "Sign up to save these ideas", "mweb.unauth.board_instagram_story_referred_upsell.description1", undefined, true);break;case"enabled_2":n.heading=l.bt("Feeling inspired?", "Feeling inspired?", "mweb.unauth.board_instagram_story_referred_upsell.heading2", undefined, true),n.description=l.bt("Sign up to create your own board", "Sign up to create your own board", "mweb.unauth.board_instagram_story_referred_upsell.description2", undefined, true);break;case"enabled_3":n.heading=l.bt("Loving these ideas?", "Loving these ideas?", "mweb.unauth.board_instagram_story_referred_upsell.heading3", undefined, true),n.description=(0,t.nk)(l.bt("Sign up to follow {{sender}} for more inspiration", "Sign up to follow {{sender}} for more inspiration", "mweb.unauth.board_instagram_story_referred_upsell.description3", undefined, true),{sender:i})}return n}},260488:(e,l,i)=>{i.r(l),i.d(l,{UseCloseupInviteQuery:()=>b,default:()=>v});var t,n=i(167912),a=i(883119),s=i(608516),r=i(344064),o=i(205841),d=i(140017),c=i(48481),p=i(623409),_=i(490166),u=i(953565),h=i(785893);function m({isStoryPin:e,inviteText:l,inviterFirstName:i,isThinnerStyle:t,username:n}){let s=(0,p.Z)(),r=l.split(i);return(0,h.jsx)(a.xu,{children:(0,h.jsx)(_.Z,{onTouch:()=>{(0,u.nP)("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(a.xv,{inline:!0,size:"300",children:r[0]}),e?(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(a.rU,{href:"/"+n,onClick:()=>{s({action:"click",item:"invite-profiler"})},target:"blank",children:i})}):(0,h.jsx)(a.xv,{inline:!0,size:t?"200":"300",weight:t?"normal":"bold",children:(0,h.jsx)(a.rU,{href:"/"+n,onClick:()=>{s({action:"click",item:"invite-profiler-not-story"})},target:"blank",children:i})}),(0,h.jsx)(a.xv,{inline:!0,size:t?"200":"300",children:r[1]})]})})})}function g({inviter:e,socialContextBannerStyle:l,setShouldShowSocialUpsellBanner:i}){let{shouldShowSignupUpsellText:t,isDismissible:n}=l,s=(0,d.ZP)(),{username:r}=e,u=e.imageMediumUrl,g=e.firstName,f=(0,c.Z)(),x=(0,p.Z)();return(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:n?"center":"start",children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.iP,{fullHeight:!0,onTap:()=>{x({action:"click",item:"close-button",within:"social-banner"}),f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",height:44,marginBottom:6,marginStart:n?0:2,marginTop:2,paddingX:n?4:2,paddingY:4,position:n?"static":"absolute",rounding:"pill",top:!0,width:n?1012:void 0,zIndex:new a.Ry(1),children:[(0,h.jsx)(a.xu,{marginBottom:8,marginEnd:1,marginTop:8,width:32,children:(0,h.jsx)(_.Z,{onTouch:e=>{e.stopPropagation(),r&&window.open("/"+r),x({action:"click",item:"user-rep",within:"social-banner"})},pressState:"none",children:u?.includes("default")?(0,h.jsx)(a.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(o.qE,{name:g,size:"fit",src:u??void 0})})}),(0,h.jsxs)(a.kC,{direction:"row",flex:"grow",children:[(0,h.jsx)(m,{inviterFirstName:g,inviteText:t?(s.bt("{{ name }} shared this idea.", "{{ name }} shared this idea.", "pin.closeup.long_banner.desktop.shareNotification", undefined, true)).replace("{{ name }}",g):(s.bt("{{ name }} shared this idea ", "{{ name }} shared this idea ", "pin.closeup.banner.desktop.shareNotification", undefined, true)).replace("{{ name }}",g),isStoryPin:!1,isThinnerStyle:t,username:r}),t&&(0,h.jsx)(a.xu,{marginEnd:2,marginStart:1,children:(0,h.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:s.bt("Sign up to join them", "Sign up to join them", "pin.header.social_context_dweb", undefined, true)})})]}),n&&(0,h.jsx)(a.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{e.stopPropagation(),x({action:"dismiss",item:"close-button",within:"social-banner"}),i?.(!1)},size:"sm"})]})})})})}var f=i(90647),x=i(773616);function y({inviter:{imageMediumUrl:e,username:l,firstName:i},isStoryPin:t}){let n=(0,d.ZP)(),s=()=>(0,u.nP)("mweb_social_unauth.closeup.avatar_click"),r=(0,x.Z)(),c=(0,p.Z)(),g=(n.bt("{{ name }} shared this idea", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",l),y="undefined"!=typeof window&&window.innerWidth<360,w=l.length>25;return r&&t?(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",minHeight:w?100:80,children:[(0,h.jsx)(a.xu,{marginBottom:4,marginTop:4,width:40,children:(0,h.jsx)(_.Z,{onTouch:s,pressState:"none",children:(0,h.jsx)(o.qE,{name:i,size:"fit",src:e??void 0})})}),(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsxs)(a.xu,{alignItems:"center",direction:w?"column":"row",display:"flex",justifyContent:w?"start":"between",padding:w?3:0,children:[(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},wrap:!y,children:[(0,h.jsx)(a.kC,{children:(0,h.jsxs)(a.xv,{align:w?"center":"start",children:[(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:`/${l??""}/`,onClick:()=>{c({action:"click",item:"invite-profiler"})},target:"blank",underline:"hover",children:l})}),g.split(l)[1]]})}),!w&&(0,h.jsx)(a.xv,{size:"100",children:n.bt("Open Pinterest to see more", "Open Pinterest to see more", "unauth.mweb.shared.banner.edu", undefined, true)})]}),(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:w?3:0,minWidth:w?0:100,children:(0,h.jsx)(f.Z,{app_upsell_type:"social-context-header",componentType:14161,children:({handleOpenApp:e})=>(0,h.jsx)(a.zx,{onClick:()=>e(),size:"md",text:n.bt("Open app", "Open app", "unauth.mweb.shared.banner.cta", undefined, true)})})})]})})]}):(0,h.jsx)(_.Z,{pressState:"none",children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(a.xu,{marginBottom:4,marginStart:0,marginTop:4,width:48,children:(0,h.jsx)(_.Z,{onTouch:s,pressState:"none",children:(0,h.jsx)(o.qE,{name:i,src:e??void 0})})}),(0,h.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,h.jsx)(a.xu,{marginStart:0,children:(0,h.jsx)(m,{inviterFirstName:i,inviteText:(n.bt("{{ name }} shared this idea with you", "{{ name }} shared this idea with you", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",i),isStoryPin:t,isThinnerStyle:!1,username:l})})})]})})}let w=void 0!==t?t:t=i(690674),b=({children:e,variables:l})=>e((0,n.useLazyLoadQuery)(w,l));function v({inviterFirstNameRef:e,isDesktop:l,isStoryPin:i,setShouldShowSocialUpsellBanner:t,socialContextBannerStyle:n}){return(0,h.jsx)(s.Z,{children:(0,h.jsx)(r.ty,{children:s=>s?(0,h.jsx)(b,{variables:{inviteCode:s},children:s=>{let{firstName:r,imageMediumUrl:o,username:d}=s.v3GetInviteCodeQuery?.data?.sender??Object.freeze({});return r&&d?(e&&(e.current=r),l?(0,h.jsx)(g,{inviter:{firstName:r,imageMediumUrl:o,username:d},setShouldShowSocialUpsellBanner:t,socialContextBannerStyle:n??{isDismissible:!0,shouldShowSignupUpsellText:!0}}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginEnd:-2,marginStart:-2,paddingX:2,children:(0,h.jsx)(y,{inviter:{firstName:r,imageMediumUrl:o,username:d},isStoryPin:!!i})})):null}}):null})})}},340249:(e,l,i)=>{i.d(l,{Z:()=>o});var t=i(667294),n=i(616550),a=i(96157),s=i(757640),r=i(344064);let o=e=>{let l=(0,r.vE)(),i=(0,n.TH)(),[o]=(0,t.useState)(i),d=i.pathname===o.pathname&&i.search===o.search&&(0,a.Fw)(i)||null,[c,p]=(0,t.useState)(null),{isLoaded:_,data:u}=(0,s.Z)(!e&&l&&d?{name:"InviteCodeMetadataResource",options:{invite_code:l}}:null);return(0,t.useEffect)(()=>{_&&u&&p(u??null)},[_,u]),l&&d?{invite:c,pageType:d}:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/26189.en_GB-480d0f610a126b62.mjs.map