"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[64330],{904020:(e,t,o)=>{var i,s,a,l,n;o.r(t),o.d(t,{default:()=>c});let r={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},n={alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"352a5e60aedea45f1bf7be68da02cb782e8556623ba25c0de3716842fb3a3b99",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};r.hash="3e1016dfcba0fbbb6d9d96227b9486bd";let c=r;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(r.default||r)},696448:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(876594),s=o(140017),a=o(785893);function l({fillColor:e,size:t,noCircle:o}){let l=(0,s.ZP)();return(0,a.jsxs)("svg",{height:t,style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,a.jsx)("title",{children:l.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true)}),o?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:e??i.x_d,fillRule:"evenodd"})]})}},108321:(e,t,o)=>{o.d(t,{w:()=>S,Z:()=>z});var i=o(883119),s=o(771929),a=o(505433),l=o(372085),n=o(140017),r=o(785893);function c({callBack:e,color:t,email:o,inline:s,overrideText:a}){let c=(0,n.ZP)(),d=a||c.bt("Reset password", "Reset password", "Request a password reset email", undefined, true);return(0,r.jsx)(i.zx,{accessibilityLabel:d,color:t||"red",fullWidth:s,onClick:()=>{(0,l.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then(()=>e())},text:d})}var d=o(339001);function _({email:e,onClose:t,onPasswordResetSent:o,socialButtons:l}){let _=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:_.bt("Looks like you’re having trouble logging in", "Looks like you’re having trouble logging in", "Modal heading for user who have attempted to login three times", undefined, true),onDismiss:t,size:"sm",children:(0,r.jsx)(i.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,r.jsxs)(i.kC,{alignItems:"center",direction:"column",width:290,children:[(0,r.jsx)(i.xu,{marginBottom:6,children:(0,r.jsx)(i.xv,{align:"center",children:(0,d.nk)(_.bt("We sent an email to {{ email }} to help you get back in.", "We sent an email to {{ email }} to help you get back in.", " - ", undefined, true),{email:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,r.jsx)(i.xu,{marginBottom:8,width:"100%",children:(0,r.jsx)(c,{callBack:o,color:"red",email:e,inline:!0,overrideText:_.bt("Resend email", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsx)(i.xv,{children:_.bt("Or log in with Facebook or Google", "Or log in with Facebook or Google", "Upsell to use Facebook or Google for login", undefined, true)}),(0,r.jsx)(i.xu,{marginBottom:12,marginTop:4,width:"100%",children:l}),(0,r.jsx)(i.xu,{marginBottom:12,width:"100%",children:(0,r.jsx)(s.Z,{onClick:t})})]})})})}var u=o(703533);function h({email:e,loginWith:t,onClose:o,onPasswordResetSent:l}){let d=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:d.bt("Oops! Something went wrong", "Oops! Something went wrong", "Modal heading", undefined, true),onDismiss:o,size:"md",children:(0,r.jsxs)(i.xu,{marginBottom:4,paddingX:6,children:[(0,r.jsx)(i.xu,{marginBottom:6,children:"facebook"===t?(0,r.jsx)(i.xv,{children:d.bt("We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.", "We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)}):(0,r.jsx)(i.xv,{children:d.bt("We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)})}),(0,r.jsx)(c,{callBack:l,email:e,inline:!0}),(0,r.jsx)(i.xu,{marginTop:2,children:(0,r.jsx)(s.Z,{onClick:o})})]})})}var p=o(667294),g=o(454514),m=o(702497);function x({email:e,onClose:t}){let o=(0,n.ZP)(),[l,_]=(0,p.useState)(!1);return(0,r.jsxs)(p.Fragment,{children:[(0,r.jsx)(a.Z,{heading:o.bt("Password reset email sent", "Password reset email sent", "Modal label for confirmation of password reset send", undefined, true),onDismiss:t,children:(0,r.jsxs)(i.xu,{marginBottom:4,paddingX:6,children:[(0,r.jsx)(i.xv,{overflow:"normal",children:(0,d.nk)(o.bt("We sent instructions to pick a new password to {{ email }}.", "We sent instructions to pick a new password to {{ email }}.", "Statement that a password reset email has been sent to the user", undefined, true),{email:(0,r.jsx)(i.xv,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,r.jsx)(i.xu,{paddingY:4,children:(0,r.jsx)(c,{callBack:()=>_(!l),color:"gray",email:e,inline:!0,overrideText:o.bt("Resend email", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(i.xu,{marginBottom:4,children:(0,r.jsx)(i.xv,{children:(0,d.nk)(o.bt("Didn’t get the email? Try these {{ tips }}", "Didn’t get the email? Try these {{ tips }}", "Direction to help center if the password reset email failed", undefined, true),{tips:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:o.bt("tips from our Help Centre", "tips from our Help Center", "Link text to go to help center", undefined, true)},"helpCenterLink")},"helpCenter")})})}),(0,r.jsx)(i.xu,{marginBottom:4,children:(0,r.jsx)(i.xv,{children:(0,d.nk)(o.bt("Not your email address? {{ tryAgain }}", "Not your email address? {{ tryAgain }}", "Link to password reset flow for users who make an incorrect password reset request", undefined, true),{tryAgain:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:m.lfe,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o.bt("Try another", "Try another", "Link text to enter the password reset flow for a different email address/username", undefined, true)},"passwordResetLink")},"tryAgain")})})})]}),(0,r.jsx)(i.xu,{children:(0,r.jsx)(s.Z,{color:"red",onClick:t})})]})}),l&&(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,r.jsx)(g.ZP,{duration:3500,onHide:()=>_(!l),text:o.bt("Email sent", "Email sent!", " - ", undefined, true)})})]})}function y({email:e,onClose:t,onPasswordResetSent:o,socialButtons:l}){let d=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:d.bt("We protected your account", "We protected your account", "Modal heading for user who need to recover their accounts", undefined, true),onDismiss:t,size:480,children:(0,r.jsxs)(i.xu,{marginBottom:8,paddingX:12,children:[(0,r.jsx)(i.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(i.xv,{align:"center",children:d.bt("For security purposes, we've reset your Pinterest account password and logged you out of all devices and browsers.", "For security purposes we've reset your Pinterest account password and logged you out on all devices and browsers.", "softBannedAccountModal.modal.description", undefined, true)})}),(0,r.jsx)(i.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(i.xv,{align:"center",children:d.bt("Reset your password or log in with Facebook or Google to get back into your account.", "Reset your password or log in with Facebook or Google to get back into your account.", "Prompt to take action to reset password or upsell login with Facebook/Google", undefined, true)})}),(0,r.jsxs)(i.xu,{paddingX:12,children:[(0,r.jsx)(i.xu,{paddingY:2,children:(0,r.jsx)(c,{callBack:o,email:e,inline:!0})}),l,(0,r.jsx)(i.xu,{marginTop:4,children:(0,r.jsx)(s.Z,{onClick:t})})]})]})})}var w=o(353971),b=o(827499),f=o(767874),P=o(96452),v=o(508218),k=o(340523),A=o(535053);let S={[P.OW]:v.Ny.RATE_LIMITED,[P.bd]:v.Ny.RATE_LIMITED,[P.$j]:v.Ny.SOFT_BANNED,[P.an]:v.Ny.SUSPENDED,[P.RL]:v.Ny.LOGIN_ASSISTANCE,[P.yV]:v.Ny.SOFT_BANNED,[A.Ej]:v.Ny.RATE_LIMITED},E=({onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:o,updateAccountRecoveryModal:s,checkExperiment:a})=>(0,r.jsxs)(i.xu,{children:[!a("dweb_unauth_remove_fb_signup_iteration").anyEnabled&&(0,r.jsx)(b.Z,{container:"account_recovery",disablePostSignupNextUrl:!0,onLoginWithMfa:e,onLoginWithSuspended:t,showFallback:!0,showLoginRateLimited:()=>s(v.Ny.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>s(v.Ny.PREVENT_FACEBOOK_REGISTER)}}),(0,r.jsx)(i.xu,{marginTop:2,children:(0,r.jsx)(f.Z,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:e=>{s(null),o?.(e)},showLoginRateLimited:()=>s(v.Ny.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>s(v.Ny.PREVENT_GOOGLE_REGISTER)}})})]});function z({email:e,modalType:t,onLoginWithMfa:o,onLoginWithSuspended:i,onLoginWithVoluntarilyDeactivated:s,updateAccountRecoveryModal:a}){let l=()=>a(null),n=()=>a(v.Ny.PASSWORD_RESET_SENT),{checkExperiment:c}=(0,k.F)(),d=(0,r.jsx)(E,{checkExperiment:c,onLoginWithMfa:o,onLoginWithSuspended:i,onLoginWithVoluntarilyDeactivated:s,updateAccountRecoveryModal:a});switch(t){case v.Ny.SUSPENDED:return(0,r.jsx)(w.Z,{onClose:l});case v.Ny.LOGIN_ASSISTANCE:return(0,r.jsx)(_,{email:e,onClose:l,onPasswordResetSent:n,socialButtons:d});case v.Ny.RATE_LIMITED:return(0,r.jsx)(u.Z,{onClose:l});case v.Ny.SOFT_BANNED:return(0,r.jsx)(y,{email:e,onClose:l,onPasswordResetSent:n,socialButtons:d});case v.Ny.PREVENT_FACEBOOK_REGISTER:case v.Ny.PREVENT_GOOGLE_REGISTER:return(0,r.jsx)(h,{email:e,loginWith:t===v.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google",onClose:l,onPasswordResetSent:n});case v.Ny.PASSWORD_RESET_SENT:return(0,r.jsx)(x,{email:e,onClose:l});default:return null}}},771929:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(883119),s=o(140017),a=o(785893);function l({color:e,onClick:t,overrideText:o}){let l=(0,s.ZP)(),n=o||l.bt("Got it", "Got it", "Acknowledge protected account modal message", undefined, true);return(0,a.jsx)(i.zx,{accessibilityLabel:n,color:e||"gray",fullWidth:!0,onClick:t,text:n})}},505433:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(667294),s=o(883119),a=o(278967),l=o(30378),n=o(55202),r=o(785893);function c({children:e,headingNode:t,heading:o,onDismiss:c,size:d}){return(0,i.useEffect)(()=>(l.Z.pause(),function(){l.Z.resume()}),[]),(0,r.jsx)(s.mh,{zIndex:a.C,children:(0,r.jsx)(n.Z,{allowEsc:!0,children:(0,r.jsx)(s.u_,{accessibilityModalLabel:o,heading:t||o,onDismiss:()=>{l.Z.resume(),c()},padding:"none",role:"alertdialog",size:d||"md",children:e})})})}},703533:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),s=o(505433),a=o(140017),l=o(785893);function n({onClose:e}){let t=(0,a.ZP)();return(0,l.jsxs)(s.Z,{heading:t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true),headingNode:(0,l.jsxs)(i.xu,{children:[(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,l.jsx)(i.JO,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",icon:"pinterest",size:40})}),(0,l.jsx)(i.X6,{accessibilityLevel:1,align:"center",size:"500",children:t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true)})]}),onDismiss:e,size:"sm",children:[(0,l.jsx)(i.xu,{marginBottom:12,marginTop:4,paddingX:12,children:(0,l.jsx)(i.xv,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:12,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:e,text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},353971:(e,t,o)=>{o.d(t,{Z:()=>_});var i=o(667294),s=o(883119),a=o(771929),l=o(505433),n=o(559356),r=o(140017),c=o(339001),d=o(785893);function _({onClose:e}){let t=(0,r.ZP)(),o=t.bt("Common reasons for account deactivation include:", "Common reasons for account deactivation include:", " - ", undefined, true),_=t.bt("{{ help_link }} if you have questions or would like to reactivate your account.", "{{ help_link }} if you have questions or would like to reactivate your account.", " - ", undefined, true),u=[t.bt("Violating Pinterest Community Guidelines.", "Violating Pinterest Community Guidelines.", "One example reason for account deactivation", undefined, true),t.bt("We noticed unusual activity on your account.", "We noticed unusual activity on your account.", "One example reason for account deactivation", undefined, true),t.bt("You requested an account closure.", "You requested an account closure.", "One example reason for account deactivation", undefined, true)];return(0,d.jsx)(l.Z,{heading:t.bt("Your account has been deactivated", "Your account has been deactivated", "Modal heading for user who have attempted to login with a deactivated account", undefined, true),onDismiss:e,size:"md",children:(0,d.jsxs)(s.xu,{marginBottom:4,paddingX:6,children:[(0,d.jsxs)(s.xu,{marginBottom:4,children:[(0,d.jsxs)(s.xv,{children:[" ",o," "]}),(0,d.jsx)(s.xu,{paddingY:2,children:(0,d.jsx)(i.Fragment,{children:u.map(e=>(0,d.jsx)(s.xv,{children:"• "+e},`reasons-${e}`))})}),(0,d.jsx)(s.xv,{inline:!0,children:(0,c.nk)(_,{help_link:(0,d.jsx)(n.q,{},"suspended user help_link")})})]}),(0,d.jsx)(s.xu,{marginTop:4,children:(0,d.jsx)(a.Z,{color:"red",onClick:e,overrideText:t.bt("Got it", "Got it", "Acknowledge suspended account modal message", undefined, true)})})]})})}},559356:(e,t,o)=>{o.d(t,{q:()=>l});var i=o(883119),s=o(140017),a=o(785893);let l=()=>{let e=(0,s.ZP)();return(0,a.jsx)(i.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e.bt("Contact us", "Contact us", "link text shown to redirect to help.pinterest.com for appealing a suspension", undefined, true)})}},630592:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(140017),s=o(785893);function a(){let e=(0,i.ZP)();return(0,s.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e.bt("OR", "OR", " - ", undefined, true)})}},827499:(e,t,o)=>{o.d(t,{Z:()=>B});var i=o(667294),s=o(883119),a=o(399404),l=o(516562),n=o(239493),r=o(144556);let c=()=>o.e(51798).then(o.bind(o,948381)),d=({onError:e,onEventReceived:t,onSuccess:o,rerequestFacebookEmail:i,viewer:s})=>{let a=null,l=i=>{let s=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(i.origin!==s||"social-connect-complete"!==i.data.type&&"social-connect-error"!==i.data.type)return;let l=i.data;"facebook"===l.network&&(t(),a&&clearInterval(a),"social-connect-error"===l.type?e("OTHER_ERROR"):o({type:"PROFILE",profile:l.profile}))};if(window.addEventListener("message",l),i)c().then(({default:t})=>{t(t=>{t?.login(t=>{"connected"===t.status&&(t.authResponse.grantedScopes?.split(",")||[]).includes("email")?o({type:"ACCESS_TOKEN",id:t.authResponse.userID,access_token:t.authResponse.accessToken}):e("OTHER_ERROR")},{scope:"email",auth_type:"rerequest",return_scopes:!0})},s)});else{let t=(0,r.Z)(),o=window.open("/connect/facebook/","",t);o?a=setInterval(()=>{o.closed&&(a&&clearInterval(a),e("OTHER_ERROR"))},1e3):e("POPUP_DISABLED")}return{unsubscribe:()=>{window.removeEventListener("message",l)}}};var _=o(192978),u=o(785893);function h(e){let[t,o]=(0,i.useState)(!1);return!t&&e.message?(0,u.jsx)(s.J2,{anchor:e.anchor,color:"darkGray",idealDirection:"right",onDismiss:()=>o(!0),shouldFocus:!1,size:"md",children:(0,u.jsx)(s.xu,{padding:3,children:(0,u.jsx)(s.xv,{color:"light",overflow:"noWrap",size:"200",weight:"bold",children:e.message})})}):null}var p=o(656134),g=o(43531),m=o(322079),x=o(415382),y=o(614792),w=o(140017),b=o(54576),f=o(96452),P=o(776427),v=o(736771),k=o(990822),A=o(508218),S=o(321725),E=o(516256),z=o(340523),j=o(5859),C=o(217058),T=o(623409),L=o(149722);function R(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let Z=e=>"PROFILE"===e.type?{facebook_id:e.profile.id}:{facebook_id:e.id,facebook_token:e.access_token};class I extends i.Component{constructor(...e){super(...e),R(this,"state",{showModal:!1}),R(this,"unsubscribeThisButton",null),R(this,"loginWithFacebook",({facebookConnectData:e,isFromStatusChange:t,isAccountSwitch:o,handlePostSuccessConnect:i,loadingIndicatorCallback:s})=>{let{checkExperiment:a,container:l,desktopCoreLoginContext:{getDeviceAppTypeString:r},i18n:c,login:d,disableFBSignup:_,nextUrlParam:u,onLoginWithMfa:h,onLoginWithSuspended:p,pageContext:m,showResponseMessageModal:x,showLoginRateLimited:y,socialSignupCallbacks:w}=this.props,P={container:l,page:m?.pageType},v=Z(e);d({creds:v,loggingOptions:{loggingData:P,loginAttemptContextEvent:this.signupLoginContextEvent(7534)},isAccountSwitch:o}).then(e=>{let t=e?.resource_response.data?.user;if(o&&t&&(0,b.Z)(t,"facebook",l),(0,C.My)("login.facebook."+r()),x)x(!0);else{let e=!u&&a("dweb_auth_arr_full_upsell_after_login").anyEnabled?"?from_login=true":u;A.ZP.handleRedirect(e||A.ZP.defaultSocialLoginRedirectUrl())}i?.(),a("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,g.Z)()},o=>{o.api_error_code===f.Zn?(s?.(!1),(0,C.My)("login.facebook."+r()),h?.(v,{phoneNumberEnd:o.data?.phone_number_end})):o.api_error_code===f.xN||o.api_error_code===f.lg?a("dweb_unauth_remove_fb_signup_iteration").anyEnabled?_?.():"ACCOUNT_RECOVERY"===w.type?w.switchToAccountRecoverySignupFlow("facebook"):this.registerWithFacebook({facebookConnectData:e,loggingData:P,isFromStatusChange:t,switchToSocialSignupWithAgeFlow:w.switchToSocialSignupWithAgeFlow}):[f.ik].includes(o.api_error_code)?y?.():o.api_error_code===f.iU?(0,n.x)(o.message||""):(o.api_error_code&&(0,C.My)(`facebook_button.failed_login_${o.api_error_code}`),o.api_error_code===f.an&&p?p():(0,n.x)(c.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true)))})}),R(this,"statusChangeCallback",e=>{let t;this.props.onClick?.();let{connectErrorMessage:o,handlePostSuccessConnect:i,isAccountSwitch:s,loadingIndicatorCallback:a}=this.props;if((0,C.EX)({event:"start",provider:"facebook"}),"connected"===e.status){let{authResponse:o}=e;(0,C.My)("web.facebook_connect_button.login_status.connected"),a?.(!0),this.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:o.userID,access_token:o.accessToken},isFromStatusChange:!0,isAccountSwitch:s,handlePostSuccessConnect:i,loadingIndicatorCallback:a}),t="success"}else"not_authorized"===e.status?((0,C.My)("web.facebook_connect_button.cancel.not_authorized"),(0,n.x)(o),t="not_authorized"):((0,C.My)("web.facebook_connect_button.cancel.unknown"),(0,n.x)(o),t="other_error");let{handlePostConnectClick:l}=this.props;l?.(t)}),R(this,"showDefaultError",()=>{let{i18n:e,loadingIndicatorCallback:t}=this.props;t?.(!1),(0,n.x)(e.bt("Something went wrong. Please try again later.", "Something went wrong. Please try again later.", "facebookConnectButton.defaultError", undefined, true))}),R(this,"registerWithFacebook",async({facebookConnectData:e,loggingData:t,isFromStatusChange:o,switchToSocialSignupWithAgeFlow:i})=>{(0,C.Rp)({event:"start",provider:"facebook"});let{desktopCoreLoginContext:{register:s},disablePostSignupNextUrl:l,loadingIndicatorCallback:n,nextUrlParam:r,onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:d,showResponseMessageModal:u,showSignupWelcomeLoadingFn:h}=this.props,p=()=>{this.showDefaultError(),o||(this.rerequestFacebookEmail=!0)},g=null;if("PROFILE"===e.type)g={...e.profile};else try{g=await (0,P.MI)(e.access_token)}catch(e){p()}if(!g)return;let m=(0,_.Z)(g),x={type:"facebook",context:t,signupOptions:m};if(!g.email){d?(o||n?.(!1),d(x)):o&&c?c(x):p();return}let y={birthday_source_site:S.E_.FACEBOOK,email_source_site:S.E_.FACEBOOK};if(!o){i(x);return}let{birthday:w}=m;if(void 0===w||!(0,a.Z)(w)){n?.(!1),i({...x,signupOptions:{...x.signupOptions,email_source_site:S.E_.FACEBOOK}});return}u||h?.(!0),(0,C.Rp)({event:"signup_api_call_start",provider:"facebook"});try{await s({...m,...y,birthday:w},{signupContext:t,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}),(0,C.Rp)({event:"signup_api_call_success",provider:"facebook"})}catch(e){(0,C.Rp)({event:"signup_api_call_failure",provider:"facebook"}),p()}u?u(!0):A.ZP.handleSignupRedirect(o?r:r||window.location.pathname,l)})}componentDidMount(){if(this.props.webFacebookDisabled)return;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=()=>this.checkLoginState(),window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);let{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e)){if(window.fb_init!==v.Z.STARTED&&window.fb_init!==v.Z.FINISHED)this.initializeFB();else if(window.fb_init===v.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else{let e=setInterval(()=>{window.fb_init===v.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))},100)}}else setTimeout(()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}},50);this.props.isRerequest&&(this.props.loadingIndicatorCallback?.(!1),this.props.showSignupWelcomeLoadingFn?.(!1))}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){let e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}initializeFB(){let{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=()=>(0,P.sl)(),((t,o,i)=>{let s=t.getElementsByTagName(o)[0];if(t.getElementById(i))return;let a=t.createElement(o);a.id=i,a.src=(0,k.Z)(e),s&&s.parentNode&&s.parentNode.insertBefore(a,s)})(document,"script","facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus(e=>{this.statusChangeCallback&&this.statusChangeCallback(e)})}signupLoginContextEvent(e){let{desktopCoreLoginContext:{viewer:t}}=this.props;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:E.Z.FACEBOOK}}}renderProfilePicButtonWithFallback(){let{i18n:e,isRerequest:t,showFallback:o,container:i,checkExperiment:a}=this.props;return(0,u.jsxs)(s.xu,{ref:e=>{this._fallbackButton=e},"data-test-id":"facebook-connect-button",children:[(0,u.jsx)(s.iP,{onTap:()=>{let{connectErrorMessage:e,desktopCoreLoginContext:{getDeviceAppTypeString:t},i18n:o,webFacebookDisabled:i,viewer:s,trackInteraction:a}=this.props;if(i){this.setState({showModal:!0});return}a({action:"click",item:"facebook-connect-button"}),(0,C.NC)("press_facebook_login_fallback"),(0,C.My)(`unauth_web.social_connect.facebook.${t()}`),(0,C.EX)({event:"start",provider:"facebook"}),this.unsubscribeThisButton?.();let{unsubscribe:l}=d({onSuccess:e=>{(0,C.My)("unauth_web.facebook_connect.manual.success"),this.loginWithFacebook({facebookConnectData:e,isFromStatusChange:!1})},onError:t=>{(0,C.My)("unauth_web.facebook_connect.manual.failure"),(0,n.x)("POPUP_DISABLED"===t?o.bt("You must enable pop-ups.", "You must enable popups!", " - ", undefined, true):e)},onEventReceived:()=>{this.unsubscribeThisButton?.()},rerequestFacebookEmail:this.rerequestFacebookEmail,viewer:s});this.unsubscribeThisButton=()=>{l(),this.unsubscribeThisButton=null}},children:(0,u.jsx)(s.xu,{alignItems:"center",color:"infoBase",dangerouslySetInlineStyle:{__style:{padding:"0px 0px 0px 8px"}},display:"flex",height:40,justifyContent:"revamped_business_login_page"===i?"center":"start",marginTop:0,position:o?"relative":"absolute",rounding:5,width:"100%",children:(0,u.jsxs)(s.kC,{alignItems:"center",justifyContent:"revamped_business_login_page"===i?"center":"start",children:[(0,u.jsx)(s.xu,{"aria-hidden":!0,color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:5}},height:24,marginStart:1,paddingX:1,rounding:"circle",width:24,children:(0,u.jsx)(s.JO,{accessibilityLabel:"",color:"info",icon:"facebook",inline:!0,size:19})}),(0,u.jsx)(s.xu,{display:"inlineBlock",margin:6,marginStart:2,paddingY:1,width:"revamped_business_login_page"===i?void 0:"88%",children:(0,u.jsx)(s.xv,{color:"light",size:"300",weight:"bold",children:e.bt("Continue with Facebook", "Continue with Facebook", " - ", undefined, true)})})]})})}),!o&&(0,u.jsx)(s.xu,{ref:e=>{this.profilePicButton=e},dangerouslySetInlineStyle:{__style:{textAlign:"revamped_business_login_page"===i?"center":"left"}},height:40,children:(0,u.jsx)("div",{className:"fb-login-button","data-auth-type":t?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":(0,P._V)().join(","),"data-size":"large","data-use-continue-as":a("dweb_unauth_remove_fb_autologin_and_personalization").anyEnabled?void 0:"true","data-width":"268px"})})]})}render(){let{tooltip:e}=this.props;return(0,u.jsxs)(s.xu,{position:"relative",children:[this.renderProfilePicButtonWithFallback(),(0,u.jsx)(h,{anchor:this._fallbackButton??null,message:e??null}),this.state.showModal&&(0,u.jsx)(p.Z,{onDismiss:()=>this.setState({showModal:!1}),type:"facebook"})]})}}function B(e){let t=(0,w.ZP)(),o=(0,j.B)(),i=(0,l.B$)(),s=(0,y.lO)(),{checkExperiment:a}=(0,z.F)(),n=(0,L.Z)(),r=(0,T.Z)(),{anyEnabled:c}=a("web_facebook_disabled");return(0,u.jsx)(I,{...e,checkExperiment:a,connectErrorMessage:t.bt("Couldn't connect. You need to authorise Pinterest.", "Couldn't connect. You must authorize Pinterest.", " - ", undefined, true),desktopCoreLoginContext:i,i18n:t,login:(0,m.Z)(),pageContext:s,requestContext:o,trackInteraction:r,viewer:n,webFacebookDisabled:c})}},915978:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(883119),s=o(140017),a=o(340523),l=o(554786),n=o(785893);function r(){let e=(0,s.ZP)(),t=(0,l.HG)(),{checkExperiment:o}=(0,a.F)(),r=o(t?"dweb_unauth_remove_fb_signup_iteration":"mweb_unauth_remove_fb_signup_iteration").group;return(0,n.jsx)(i.xu,{marginTop:t?4:void 0,padding:t?4:void 0,children:(0,n.jsxs)(i.xu,{alignItems:"center",color:"errorWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:t?4:void 0,children:[(0,n.jsx)(i.xu,{marginEnd:4,children:(0,n.jsx)(i.JO,{accessibilityLabel:e.bt("error during Facebook sign-up", "error in Facebook signup", "facebook_signup_error_banner.icon", undefined, true),color:"default",icon:"workflow-status-problem",size:20})}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(i.xv,{children:r.startsWith("enabled_old_copy")?e.bt("We can't connect to your Facebook account. Please try another method", "We can't connect to your Facebook account. Try another method", "facebook_signup_error_banner.copy_1", undefined, true):e.bt("Facebook login isn't available for new users. Continue with email or Google:", "Facebook login isn't available for new users. Continue with email or Google:", "facebook_signup_error_banner.copy_2", undefined, true)})})]})})}},106110:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ti});var i,s=o(667294),a=o(616550),l=o(883119),n=o(29156),r=o(587703),c=o(746613),d=o(341640),_=o(658583),u=o(622541),h=o(11109),p=o(516562),g=o(785893);let m=({margin:e,wideLight:t})=>(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:`${t?"#efefef":"#dedede"} 1px solid`,margin:e??"10px auto"}},width:t?404:110});var x=o(415382),y=o(140017),w=o(5859),b=o(702497),f=o(623409),P=o(468653),v=o(598228);function k({type:e}){let{viewer:t}=(0,p.B$)(),o=(0,y.ZP)(),i=(0,r.Z)(),s=`${v.C0}${b.Hm8}`,{trackConversionUpsell:a}=(0,P.Z)(),n=(0,f.Z)();return(0,g.jsxs)(l.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",marginStart:"auto",marginTop:2,children:[(0,g.jsx)(l.xv,{size:"100",weight:"normal",children:o.bt("Are you a business?", "Are you a business?", "Prompt for business signup", undefined, true)}),(0,g.jsx)(l.xu,{"data-test-id":"business-start",marginStart:1,children:(0,g.jsx)(l.rU,{href:s,onClick:()=>{n({action:"click",item:"business-start"}),i({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,x.Z)(t.type)}),a({element:10281,eventType:14689})},target:"blank",underline:"none",children:(0,g.jsx)(l.xv,{size:"100",weight:"bold",children:o.bt("Get started here!", "Get started here!", "Prompt for signing up", undefined, true)})})})]})}let A=({children:e,layout:t})=>{let{isRTL:o}=(0,w.B)();switch(t){case"SIGNUP_LARGE":return(0,g.jsx)(l.xu,{children:(0,g.jsx)(l.xu,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,g.jsx)(l.xu,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,g.jsx)(l.xu,{margin:-4,children:(0,g.jsx)(l.xu,{"data-test-id":"login-button",padding:3,children:e})});case"LOGIN_INLINE":return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(m,{}),(0,g.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(m,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(m,{margin:"SIGNUP_DEFAULT"===t?o&&"20px -68px 15px 0px"||"20px 0px 15px -68px":o&&"20px 30px 15px -10px"||"20px -10px 15px -68px",wideLight:!0}),(0,g.jsx)(l.xu,{children:e})]});default:return e}};function S({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:i}){let s=(0,y.ZP)(),a=(0,f.Z)();return(0,g.jsxs)(A,{layout:e,children:[(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",children:(0,g.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===i&&(0,g.jsx)(l.xv,{size:"100",children:s.bt("Already a member?", "Already a member?", "modernized.nux.footer.text", undefined, true)}),(0,g.jsx)(l.xu,{marginStart:1,children:(0,g.jsx)(l.iP,{dataTestId:"login-signup-toggle",onTap:e=>{a({action:"click",item:"email-signup-button"}),t(e.event)},children:(0,g.jsx)(l.xv,{color:"default",size:"100",weight:"bold",children:"signupToLogin"===i&&s.bt("Log in", "Log in", "modernize.nux.switch.to.login.modal", undefined, true)||s.bt("Not on Pinterest yet? Sign up", "Not on Pinterest yet? Sign up", "nux.unauth.user.sign.up.message", undefined, true)})})})]})}),!o&&(0,g.jsx)(k,{type:i})]})}var E=o(120726),z=o(378432),j=o(96452),C=o(508218),T=o(321725),L=o(516256),R=o(340523),Z=o(61137),I=o(245593),B=o(217058),M=o(621018);let O=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:i,registrationCredentials:a,showResponseMessageModal:n})=>{let r=(0,y.ZP)(),{checkExperiment:m}=(0,R.F)(),{register:w,viewer:b}=(0,p.B$)(),{refreshToken:f}=(0,Z.D)(),[P,v]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),[O,F]=(0,s.useState)(!0),[N,U]=(0,s.useState)(!1),[V,D]=(0,s.useState)(""),[W,G]=(0,s.useState)(void 0),H=m("kr_privacy_consent").anyEnabled,$="other";switch(a?.type){case"google":$="google";break;case"facebook":$="facebook";break;case"line":$="line";break;case"sso":$="sso"}(0,s.useEffect)(()=>{"1"===_.U2(u.It)&&(U(!0),D(r.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.birthdaycollection.ineligible.msg", undefined, true)))},[r,D]),(0,s.useEffect)(()=>{(0,B.My)("dweb.signup_age_step",{type:a?.type,format:"birthday"})},[a?.type]);let Y=()=>{(0,B.My)("dweb.birthdaycollection.signup_success"),(0,B.Rp)({event:"signup_api_call_success",provider:$}),n?n(!0):C.ZP.handleSignupRedirect(i,e)},q=async e=>{if(!a||!W){o(!1);return}if(H&&!k){o(!1),A(!0);return}let t={};e&&(t={kr_privacy_consent_opt_in:e.kr_privacy_consent_opt_in,marketing_notifs_opt_out:e.marketing_notifs_opt_out});let i={...a.signupOptions,birthday:(0,h.Z)(W),birthday_source_site:T.E_.PINTEREST,...t};try{let e;let t={facebook:L.Z.FACEBOOK,google:L.Z.GPLUS,google_one_tap:L.Z.GOOGLE_ONE_TAP,line:L.Z.LINE,sso:L.Z.SSO,socialSignupWithAge:void 0}[a.type];"google"===a.type?e=12981:"google_one_tap"===a.type&&(e=12982),(0,B.Rp)({event:"signup_api_call_start",provider:$}),await w(i,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:e,aux_data:{...(0,x.Z)(b.type),...t?{signup_login_method:t}:Object.freeze({})}}}),Y()}catch(e){switch((0,B.Rp)({event:"signup_api_call_failure",provider:$}),f&&f(),e.api_error_code){case j.tz:(0,B.My)("dweb.birthdaycollection.signup_error.underage"),_.t8(u.It,"1",(0,_.kZ)(u.It)),v(!0),A(!1);break;case j.NF:(0,B.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),D(e.message||r.bt("We need to know your age to provide this service to you.", "We need to know your age to provide you this service.", "signup.birthdaycollection.error.missingAge", undefined, true));break;case j.tL:(0,B.My)("dweb.birthdaycollection.signup_error.overage"),D(e.message||r.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "signup.birthdaycollection.error.overage", undefined, true));break;case j.iZ:(0,B.My)("dweb.birthdaycollection.signup_error.invalid_email"),D(r.bt("Your email address is invalid.", "Your email is invalid.", "signup.birthdaycollection.error.invalidEmail", undefined, true));break;case j.Jt:(0,B.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),D(r.bt("Please use your name or the name of your brand", "Please stick to your name, or the name of your brand", "signup.birthdaycollection.error.emailContainsPinterest", undefined, true));break;default:(0,B.My)("dweb.birthdaycollection.signup_error.other"),D(r.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "signup.birthdaycollection.error.other", undefined, true))}}};return k?(0,g.jsx)(l.xu,{"data-test-id":"consents-step-modal",width:484,children:(0,g.jsx)(I.Z,{isRegistering:!1,onBackButtonClick:()=>A(!1),onSubmitHandler:q,validationError:V})}):P?(0,g.jsx)(z.Z,{birthday:W,onEditBirthday:()=>v(!1)}):(0,g.jsx)(l.xu,{paddingX:5,paddingY:5,children:(0,g.jsx)(l.xu,{paddingX:12,children:(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,g.jsx)(l.xu,{height:48,marginBottom:1,marginTop:5,width:48,children:(0,g.jsx)(l.Ee,{alt:r.bt("Birthday image", "Birthday Image", "signup.birthdaycollection.image.alt", undefined, true),naturalHeight:48,naturalWidth:48,src:c})}),(0,g.jsx)(l.xu,{marginBottom:2,children:(0,g.jsx)(l.X6,{align:"center",size:"600",children:r.bt("Enter your date of birth", "Enter your birthdate", "signup.birthdaycollection.title", undefined, true)})}),(0,g.jsx)(l.xu,{marginBottom:4,width:310,children:(0,g.jsx)(l.xu,{marginBottom:4,children:(0,g.jsx)(l.xv,{align:"center",children:r.bt("To help keep Pinterest safe, we now require your date of birth. Your date of birth also helps us provide more personalised recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "signup.birthdaycollection.subheader1", undefined, true)})})}),(0,g.jsx)(l.xu,{marginBottom:4,width:280,children:(0,g.jsx)(l.nv,{autoComplete:"bday",disabled:N,errorMessage:V,id:"birthday",onChange:({value:e})=>{D(""),F(!e),G(e)},size:"lg",type:"date",value:W||""})}),(0,g.jsx)(l.xu,{marginBottom:10,width:280,children:(0,g.jsx)(l.xv,{align:"center",color:"subtle",children:(0,d.ML)(r)})}),(0,g.jsx)(l.xu,{marginBottom:3,width:280,children:(0,g.jsx)(l.zx,{color:"red",disabled:O,fullWidth:!0,onClick:()=>{if((0,B.Rp)({event:"submit_birthday",provider:$}),W&&!(0,d.Cd)(W,M.kx)){D((0,d.Uy)(r));return}q({})},text:r.bt("Create account", "Create account", "signup.birthdaycollection.submit_label", undefined, true)})}),(0,g.jsx)(l.xu,{marginBottom:9,marginTop:2,width:340,children:(0,g.jsx)(E.Z,{isSignupStep:!0})}),(0,g.jsx)(l.xu,{marginBottom:2,children:(0,g.jsx)(S,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var F=o(80749);function N({disablePostSignupNextUrl:e,onBackButtonClick:t,nextUrlParam:o,onBirthdayUnderage:i,registrationCredentials:a}){let l=(0,y.ZP)(),n=(0,w.B)(),{recaptchaV3Token:r,refreshToken:c}=(0,Z.D)(),{register:d,viewer:h}=(0,p.B$)(),[m,b]=(0,s.useState)(!1),[f,P]=(0,s.useState)(""),v="email";switch(a?.signupOptions.type){case"google":v="google";break;case"facebook":v="facebook";break;case"line":v="line";break;case"sso":v="sso"}let k=async({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:s})=>{b(!0);let p={...a.signupOptions,country:n.country,recaptchaV3Token:r,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:s},g={};"email"===a.signupOptions.type&&(g={first_name:(0,F.Z)(a.signupOptions.email||"",n.country),last_name:""});try{let t={facebook:L.Z.FACEBOOK,google:L.Z.GPLUS,google_one_tap:L.Z.GOOGLE_ONE_TAP,line:L.Z.LINE,sso:L.Z.SSO,socialSignupWithAge:void 0,consent:void 0}[a.type];(0,B.Rp)({event:"signup_api_call_start",provider:v}),await d({...p,...g},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,x.Z)(h.type),...t?{signup_login_method:t}:Object.freeze({})}}}),(0,B.My)("dweb.consentStep.signup_success"),(0,B.Rp)({event:"signup_api_call_success",provider:v}),C.ZP.handleSignupRedirect(o,e)}catch(e){switch(b(!1),(0,B.Rp)({event:"signup_api_call_failure",provider:v}),c&&c(),e.api_error_code){case j.tz:(0,B.My)("dweb.consentStep.signup_error.underage"),_.t8(u.It,"1",_.kZ(u.It)),"email"===a.signupOptions.type&&i({email:a.signupOptions.email,birthday:new Date(1e3*a.signupOptions.birthday).toISOString().split("T")[0]});break;case j.NF:(0,B.My)("dweb.consentStep.signup_error.eu_missing_age"),P(e.message||l.bt("We need to know your age to provide this service to you.", "We need to know your age to provide you this service.", "signup.consentStep.error.missingAge", undefined, true));break;case j.tL:(0,B.My)("dweb.consentStep.signup_error.overage"),P(e.message||l.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "signup.consentStep.error.overage", undefined, true));break;case j.iZ:(0,B.My)("dweb.consentStep.signup_error.invalid_email"),P(l.bt("Your email address is invalid.", "Your email is invalid.", "signup.consentStep.error.invalidEmail", undefined, true));break;case j.Jt:(0,B.My)("dweb.consentStep.signup_error.email_contain_pinterest"),P(l.bt("Please use your name or the name of your brand", "Please stick to your name, or the name of your brand", "signup.consentStep.error.emailContainsPinterest", undefined, true));break;default:(0,B.My)("dweb.consentStep.signup_error.other"),P(l.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "signup.consentStep.error.other", undefined, true))}}};return(0,g.jsx)(I.Z,{isRegistering:m,onBackButtonClick:()=>{t()},onSubmitHandler:k,validationError:f})}var U=o(525364),V=o(920434),D=o(108321),W=o(630592),G=o(239493),H=o(827499),$=o(767874),Y=o(996065),q=o(322079),K=o(614792),X=o(911037),J=o(510989),Q=o(372085),ee=o(454514),et=o(732837),eo=o(588604),ei=o(345276),es=o(535053),ea=o(608516),el=o(13848),en=o(311297),er=o(498903),ec=o(747602);function ed(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let e_=(0,s.lazy)(()=>o.e(64781).then(o.bind(o,764781))),eu="emailpwdstep";class eh extends s.Component{constructor(e){super(e),ed(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:D.w[j.an]})}),ed(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),ed(this,"setLoadingState",e=>{let{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)}),ed(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),ed(this,"debouncedCheckIfSsoUser",(0,V.Z)(async e=>{(0,er.Z)(e??"",[(0,ec.aH)({message:"invalid email"}),(0,ec.GT)({message:"invalid email"})])?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),ed(this,"handleEmailChange",e=>{let{isOnSsoExperiment:t}=this.props;this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0}),t&&this.debouncedCheckIfSsoUser(e.target.value)}),ed(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),ed(this,"handleEmailSignUp",()=>{let{authenticateWithSso:e,email:t,history:o,handleSsoRedirect:i,isOnSsoExperiment:s,i18n:a}=this.props;if(s){let{isSsoEmail:s,exchangeCodeToTokenUrl:l,existingUserSso:n,existingUserIsSso:r,ssoAuthorizationUri:c}=this.state;if(s){if(n){if(r){this.props.logContextEvent({event_type:102,view_parameter:3271,element:14367}),e({callbacks:{success:e=>{let{authCode:t}=e,{container:o,email:i,login:s,pageContext:a}=this.props;if(i&&t){let e={sso_user_email:i,sso_auth_code:t};s({creds:e,loggingOptions:{loggingData:{container:o,page:a?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(e),t=>{(0,B.My)(`unauth.login.sso.loginError.${eu}`,{code:t.api_error_code,message:t.message}),this.handleLoginFailure(t,e)})}},error:e=>{(0,B.My)(`unauth.login.sso.error.${eu}`,{code:e.api_error_code,message:e.message}),(0,G.x)(a.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "emailPasswordStep.errorMessage.sso.login", undefined, true)),this.setLoadingState(!1)}},exchangeCodeToTokenUrl:l,isLogin:!0,modalUrl:c??""});return}}else{i&&i(),(0,eo.i)(t,o);return}}}(0,B.My)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let l=(0,er.Z)(this.props.email??"",this.emailValidators);if(l)this.setState({emailValidationError:l}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${eu}`);else{let e=(0,er.Z)(this.props.password??"",this.asciiValidators);e&&(this.setState({passwordValidationError:e}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${eu}`)),(l=(0,er.Z)(this.props.password??"",this.loginPasswordValidators))?(this.setState({passwordValidationError:l}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eu}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable()),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}}),ed(this,"register",({birthday:e})=>{let{container:t,email:o,name:i,pageContext:s,password:a,onBirthdayUnderage:l,requestContext:n,signupSource:r,register:c,i18n:d}=this.props,h={type:"email",birthday:e,email:o,password:a,country:n.country,first_name:i,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"},p={container:t,page:s?.pageType,signupSource:r};(0,B.Rp)({event:"signup_api_call_start",provider:"email"}),c(h,{signupContext:p,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then(()=>{let{showResponseMessageModal:e}=this.props;(0,B.My)("unauth.signup_one_step.completed"),(0,B.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):C.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)},e=>{switch(this.setLoadingState(!1),(0,B.Rp)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),e.api_error_code){case j.tz:_.t8(u.It,"1"),l?l({birthday:this.props.birthday,email:o}):this.showUnderAgeError(e.message);break;case j.NF:this.setState({birthdayValidationError:e.message||d.bt("We need to know your age to provide this service to you.", "We need to know your age to provide you this service.", "userRegistration.missingAgeError", undefined, true)});break;case j.tL:this.setState({birthdayValidationError:e.message||d.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});break;case j.iZ:(0,B.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:d.bt("Your email address is invalid.", "Your email is invalid.", " - ", undefined, true)});break;case j.Jt:(0,B.My)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:d.bt("Please use your name or the name of your brand", "Please stick to your name, or the name of your brand", " - ", undefined, true)});break;default:(0,G.x)(d.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true))}})}),ed(this,"checkEmailExistsWithCompletion",({email:e,handleEmailExists:t,handleEmailNotExist:o,handleError:i})=>{let{i18n:s}=this.props;(0,Q.Z)({url:"/v3/register/exists/",data:{email:e}}).then(e=>{this.setState({emailValidationError:null}),!1===e.resource_response.data?o():t()},e=>{let t=s.bt("Hmm...that doesn't look like an email address", "Hmm...that doesn't look like an email address", " - ", undefined, true);e.api_error_code===j.bd?t=e.message:(0,er.Z)(this.props.email,this.asciiValidators)&&(0,B.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${eu}`),this.setState({emailValidationError:t}),i?.()})}),ed(this,"checkEmailValidation",async e=>{let{i18n:t,showToast:o}=this.props;if((0,X.Z)(e)||(0,X.z)(e,"yahoo")||(0,X.z)(e,"hotmail")){this.setState({emailValidationError:t.bt("Sorry, this doesn't look like a valid email address", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)});return}try{let{data:o}=(await (0,Q.Z)({url:"/v3/email/validation/",data:{email:e}})).resource_response||{};o&&o.is_valid?this.setState({emailValidationError:null}):this.setState({emailValidationError:t.bt("Sorry, this doesn't look like a valid email address", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)})}catch(e){e?.message?o(({hideToast:t})=>(0,g.jsx)(ee.ZP,{duration:3e3,onHide:t,text:e.message||"",type:"error"})):(0,B.My)(`unauth.login.error.${eu}.ERROR${e.api_error_code}`)}}),ed(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),ed(this,"renderSignupForm",()=>{let{birthday:e,email:t,i18n:o,onBirthdayChange:i,password:s,suppressFocus:a,viewType:n,viewParameter:r,component:c,attributionLabel:h,trackConversionUpsell:p}=this.props,{birthdayValidationError:m,isSsoEmail:x,existingUserSso:y,existingUserIsSso:w}=this.state,b=x&&(!y||y&&w),f=(0,d.Uy)(o),P=e=>{p({element:e,eventType:14689})};return this.state.showRegisterForm?(0,g.jsx)(Y.Z,{attributionLabel:h,buttonText:b?o.bt("Continue with SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true):o.bt("Continue", "Continue", "Continue button on web", undefined, true),buttonTextLabel:o.bt("Continue creating your Pinterest account", "Continue creating your Pinterest account", "Accessiblity button text to continue creating an account", undefined, true),component:c,email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:o.bt("Continue with email", "Continue with email", "Sign up button", undefined, true),emailText:o.bt("Email address", "Email", "Text on button asking for email", undefined, true),emailValidationError:this.state.emailValidationError,isSsoEmail:b,onButtonClick:()=>{if("1"===_.U2(u.It)){this.showUnderAgeError();return}if(e&&!(0,d.Cd)(e,M.kx)){this.setState({birthdayValidationError:f});return}this.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp()},onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:s??"",passwordText:o.bt("Create a password", "Create a password", "Text asking the user to create a password while registering", undefined, true),passwordValidationError:this.state.passwordValidationError,signupForm:{birthdayProps:{birthday:e,birthdayValidationError:m,disabled:"1"===_.U2(u.It),setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:i},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===_.U2(u.It)},suppressFocus:a,viewParameter:r,viewType:n}):(0,g.jsx)(l.xu,{"data-test-id":"emailSignUpButton",children:(0,g.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{P(13506),(0,B.NC)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.setState({showRegisterForm:!0})},text:o.bt("Continue with email", "Continue with email", "Text on the sign up button for signing up with email", undefined, true)})})}),ed(this,"showUnderAgeError",e=>{let{i18n:t}=this.props;this.setState({birthdayValidationError:e||t.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Error message shown when underage user tries to register", undefined, true)})});let t=new URLSearchParams(e.location.search),o=parseFloat(t.get("aec")||"0");t.delete("aec"),t.size>0&&`?${t.toString()}`!==e.location.search&&e.history.replace({pathname:e.location.pathname,search:t.toString()}),this.state={accountRecoveryModalType:o===j.yV||o===j.$j?C.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,facebookValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===this.props.container,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:i}=e;this.emailValidators=[(0,ec.aH)({message:i.bt("You missed a bit! Don't forget to add your email address.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true)}),(0,ec.GT)({message:i.bt("That doesn't look like an email address.", "Hmm...that doesn't look like an email address.", " - ", undefined, true)})];let s=i.bt("Your password is too short. It needs to be 6+ characters.", "Your password is too short! You need 6+ characters.", " - ", undefined, true),a=i.bt("Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "EmailPasswordStep.password.onlyASCII", undefined, true);this.requireBirthdayValidatorMessage=i.bt("You missed a bit. Don’t forget to add your birthday.", "You missed a spot. Don’t forget to add your birthday.", "signup.emailpasswordstep.birthday.require.validator_message", undefined, true);let n=i.bt("Invalid date", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true);this.passwordValidators=[(0,ec.aH)({message:s}),(0,en.Z)({shortPassStr:s,samePasswordStr:i.bt("Please make your username and password different.", "Please make your username and password different.", " - ", undefined, true),blackPassStr:i.bt("Please create a stronger password.", "Please make a stronger password.", " - ", undefined, true)})],this.asciiValidators=[(0,ec.oR)({message:a})],this.loginPasswordValidators=[(0,ec.aH)({message:s}),(0,ec.oR)({message:a}),(0,ec.Gy)({min:6,minErrorString:s})],this.birthdayValidators=[(0,ec.aH)({message:this.requireBirthdayValidatorMessage}),(0,ec.C9)({date:new Date(new Date().getFullYear(),0,1),message:n})]}componentDidMount(){this.props.email&&this.checkIfSsoUser()}handleLoginFailure(e,t){let{setPassword:o,email:i,onLoginWithMfa:s,i18n:a}=this.props,l=e.http_status===es.Ej?es.Ej:e.api_error_code;if(l===j.Zn){C.ZP.handleLoginMfa(t,{phoneNumberEnd:e.data?.phone_number_end},s);return}let n=(0,et.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{this.props.trackInteraction({action:"click",item:"password-reset-link"}),(0,Q.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>this.updateAccountRecoveryModal(C.Ny.PASSWORD_RESET_SENT))}});n?(this.setState({...n,accountRecoveryModalType:l?D.w[l]:void 0}),n.passwordValidationError&&o("")):(0,G.x)(a.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setLoadingState(!1)}handleLoginSuccess(e){C.ZP.storeLoginCredentialsToBrowser(e);let{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?C.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){let{viewer:t}=this.props,{isSsoEmail:o,existingUserSso:i,existingUserIsSso:s}=this.state;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:o&&(!i||i&&s)?L.Z.SSO:L.Z.EMAIL}}}validateEmailAvailable(){let{container:e,email:t,login:o,pageContext:i,password:s}=this.props;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:t,handleEmailExists:()=>{let a={username_or_email:t,password:s??""};o({creds:a,loggingOptions:{loggingData:{container:e,page:i?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(a),e=>this.handleLoginFailure(e,a))},handleEmailNotExist:async()=>{await this.checkEmailValidation(t);let{birthday:e,password:o,isConsentStepNeeded:i,onConsentStepNeeded:s}=this.props;if(this.setLoadingState(!1),this.state.emailValidationError)return;let a=await (0,er.U)(o??"",this.passwordValidators);if(a){this.setState({passwordValidationError:a}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eu}`);return}let l=(0,er.Z)(e||"",this.birthdayValidators);if(l){(0,B.My)(`unauth.login.error.CLIENT_ERROR.invalidbirthday.${eu}`),this.setState({birthdayValidationError:l});return}let n=e?(0,h.Z)(e):void 0;if(void 0===n){this.setState({birthdayValidationError:this.requireBirthdayValidatorMessage});return}if((0,X.Z)(t)){this.setState({emailFieldHasError:!0});return}if(this.setState({emailValidationError:null}),(0,B.My)("unauth.signup_step_1.completed"),i&&s){s({type:"consent",signupOptions:{type:"email",email:t,password:o,birthday:n}});return}this.register({birthday:n})}})}render(){let{additionalChildren:e,container:t,disablePostSignupNextUrl:o,email:i,loadingIndicatorCallback:a,nextUrlParam:n,disableFBSignup:r,onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:d,onLoginWithMfa:_,switchToSocialSignupWithAgeFlow:u,showLineConnectButton:h,showResponseMessageModal:p,showSignupWelcomeLoadingFn:m,trackConversionUpsell:x,requestContext:y}=this.props,{accountRecoveryModalType:w,facebookValidationError:b,googleValidationError:f,hideFBGoogleToolTip:P,showRegisterForm:v}=this.state,k=e=>{x({element:e,eventType:14689})},A=y.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup_iteration").anyEnabled;return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:[(0,g.jsx)(D.Z,{email:i,modalType:w,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,g.jsxs)(l.xu,{children:[this.renderSignupForm(),!!v&&(0,g.jsx)(W.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[!A&&(0,g.jsx)(H.Z,{container:t,disableFBSignup:r,disablePostSignupNextUrl:o,loadingIndicatorCallback:a,onClick:()=>{k(13505)},onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:d,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:p,showSignupWelcomeLoadingFn:m,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},tooltip:!P&&b||null}),(0,g.jsx)(l.xu,{height:10}),(0,g.jsx)(l.xu,{children:(0,g.jsx)($.Z,{container:t,nextUrlParam:n,onClick:()=>{k(13504)},onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:p,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},tooltip:!P&&f||null})}),h&&(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(l.xu,{height:10}),(0,g.jsx)(J.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,g.jsx)(ea.Z,{children:(0,g.jsx)(e_,{container:t,loadingIndicatorCallback:a,nextUrlParam:n,onClick:()=>{k(13507)},onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:p,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u}})})})]})]})]}),(0,g.jsx)(E.Z,{isSignupStep:!0}),e]})}}function ep(e){let t=(0,K.lO)(),o=(0,w.B)(),{showToast:i}=(0,el.F9)(),{register:l,viewer:n}=(0,p.B$)(),c=(0,q.Z)(),d=(0,r.Z)(),{viewType:_,viewParameter:u}=(0,U.SU)(),h=(0,f.Z)(),m=(0,y.ZP)(),{country:x}=o,b=(0,a.TH)(),v=(0,a.k6)(),{recaptchaV3Token:k,refreshToken:A}=(0,Z.D)(),[S,E]=(0,s.useState)(),[z,j]=(0,s.useState)(""),[C,T]=(0,s.useState)(""),{trackConversionUpsell:L}=(0,P.Z)(),{checkExperiment:I}=(0,R.F)(),{authenticateWithSso:B,verifySsoUser:M}=(0,ei.Z)();return(0,g.jsx)(eh,{...e,attributionLabel:e.attributionLabel,authenticateWithSso:B,birthday:S,checkExperiment:I,history:v,i18n:m,isConsentStepNeeded:I("kr_privacy_consent").anyEnabled,isOnSsoExperiment:I("web_sso_auth_enabled").anyEnabled,location:b,logContextEvent:d,login:c,name:z,onBirthdayChange:e=>E(e.value),pageContext:t,password:C,recaptchaV3Token:k,refreshRecaptchaV3Token:A,register:l,requestContext:o,setNameFromEmail:()=>j((0,F.Z)(e.email,x)),setPassword:T,showLineConnectButton:"JP"===x,showToast:i,trackConversionUpsell:L,trackInteraction:h,verifySsoUser:M,viewer:n,viewParameter:u,viewType:_})}var eg=o(399404),em=o(892731);let ex=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:a})=>{let n=(0,y.ZP)();(0,s.useEffect)(()=>{(0,B.My)("unauth.fb_phone_only_signup.email_step")},[]),n.bt("We use your email address for account creation and for important security and legal notices.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let r=n.bt("We're unable to create your account without your email address. To continue, make sure you provide an email address to create your account.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,g.jsx)(l.xu,{marginTop:3,children:(0,g.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),a()},children:[(0,g.jsx)(l.xv,{align:"start",overflow:"normal",children:r}),(0,g.jsx)(l.xu,{marginTop:3}),(0,g.jsx)(l.xu,{children:(0,g.jsx)(l.nv,{ref:em.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:n.bt("Email address", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,g.jsx)(l.xu,{marginTop:5}),(0,g.jsx)(l.zx,{color:"red",disabled:!e,fullWidth:!0,text:n.bt("Continue", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,g.jsx)(l.xu,{marginTop:2}),(0,g.jsx)(l.zx,{fullWidth:!0,onClick:()=>{(0,B.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:n.bt("Not now", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})};var ey=o(192978),ew=o(776427);function eb(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ef={EMAIL:"email"};class eP extends s.Component{constructor(e){super(e),eb(this,"mounted",!1),eb(this,"handleEmailChange",({value:e})=>{this.setState({email:e})}),eb(this,"showError",(e,t)=>{this.mounted&&t===ef.EMAIL&&this.setState({emailError:e})}),eb(this,"handleSubmit",()=>{let{i18n:e}=this.props;if((0,B.My)("unauth.fb_phone_only_signup.submit_email"),(0,B.Rp)({event:"submit_email",provider:"facebook"}),this.state.email)(0,B.My)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{let t=e.bt("Email address is required", "Email is required", "email error message", undefined, true);this.setState({emailError:t})}}),eb(this,"handleSignupSuccess",()=>{C.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),(0,B.My)("unauth.fb_phone_only_signup.signup_success"),(0,B.Rp)({event:"signup_api_call_success",provider:"facebook"})}),eb(this,"handleSignupFailure",e=>t=>{let{i18n:o}=this.props,i=t.message||o.bt("Something went wrong… Click 'Continue' to try again.", "Oops! Something went wrong… Click Continue to try again.", "Error during signup during FB email collection step", undefined, true);this.showError(i,e),(0,B.My)("unauth.fb_phone_only_signup.signup_failure"),(0,B.Rp)({event:"signup_api_call_failure",provider:"facebook"})}),eb(this,"attemptEmailSignupOrLogin",()=>{let{desktopCoreLoginContext:{register:e},i18n:t}=this.props,{email:o}=this.state,i=[(0,ec.GT)({message:t.bt("Hmm... that doesn't look like an email address.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],s=(0,er.Z)(o,i);if(s){(0,B.My)("unauth.fb_phone_only_signup.email_validation_failure"),this.setState({emailError:s});return}let{registrationCredentials:{type:a,signupOptions:l},showSocialSignupWithAgeStep:n,showEmailAlreadyExistModal:r}=this.props;(0,Q.Z)({url:"/v3/register/exists/",data:{email:o}}).then(t=>{if(!1===t.resource_response.data){let t={...l,email:o,email_source_site:T.E_.PINTEREST},{birthday:i}=t;void 0!==i&&(0,eg.Z)(i)?((0,B.Rp)({event:"signup_api_call_start",provider:"facebook"}),(t.facebook_token?(0,ew.MI)(t.facebook_token).then(ey.Z):Promise.resolve(Object.freeze({}))).then(o=>{if(this.props.checkExperiment("kr_privacy_consent").anyEnabled){this.props.onConsentStepNeeded({type:"consent",signupOptions:{...o,...t,birthday:i,birthday_source_site:T.E_.FACEBOOK}});return}e({...o,...t,birthday:i,birthday_source_site:T.E_.FACEBOOK},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(this.handleSignupSuccess,()=>this.handleSignupFailure(ef.EMAIL))})):n({type:a,signupOptions:t})}else r({email:o}),(0,B.My)("unauth.fb_phone_only_signup.email_existed")},e=>{let o=t.bt("Hmm... that doesn't look like an email address.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true);e.api_error_code===j.bd&&(o=e.message),this.showError(o,ef.EMAIL),(0,B.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:(0,g.jsx)(ex,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}let ev=e=>{let t=(0,p.B$)(),o=(0,w.B)(),{checkExperiment:i}=(0,R.F)(),s=(0,y.ZP)();return(0,g.jsx)(eP,{...e,checkExperiment:i,desktopCoreLoginContext:t,i18n:s,requestContext:o})};var ek=o(915978),eA=o(40545),eS=o(167912),eE=o(724402),ez=o(205841),ej=o(96157),eC=o(391884),eT=o(14583);let eL=void 0!==i?i:i=o(904020),eR=({fallback:e,pinId:t,iconButton:o})=>{let i=(0,y.ZP)(),s=(0,eS.useLazyLoadQuery)(eL,{pinId:t});if(!t)return e;let{dominantColor:a,embed:n,imageSpec_236x:r}=s.v3GetPinQuery?.data??{},c={"236x":r?.url??""},d=(0,eC.Z)({imagesUrls:c,embedSrc:n?.src,embedType:n?.type,preferredResolution:"236x",excludeOriginals:!0});return d?(0,g.jsxs)(l.xu,{"data-test-id":"signup-image-wrapper",height:80,margin:"auto",position:"relative",width:82,children:[(0,g.jsx)(l.xu,{height:72,margin:"auto",marginBottom:6,marginTop:4,width:56,children:(0,g.jsx)(l.zd,{height:72,rounding:2,width:56,children:(0,g.jsx)(l.Ee,{alt:i.bt("Save Pin image", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),color:a||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:d})})}),!!o&&(0,g.jsx)(l.xu,{bottom:!0,position:"absolute",right:!0,children:o})]}):e};function eZ({container:e,fallback:t,savePinId:o,user:i,signupSource:s}){let n=(0,y.ZP)(),{path:r}=(0,a.$B)(),c=(0,a.TH)(),d=(0,ej.L6)(c),_=(0,f.Z)(),u=o||("/pin/:id"===r?c.pathname.split("/")[2]:null);switch(e){case"follow":return(0,g.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:8,children:(0,g.jsx)(ez.qE,{accessibilityLabel:n.bt("User avatar", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),name:i?.full_name??"",outline:!0,size:"md",src:i?.image_large_url??""})});case"save":case"download":return d&&u?(0,g.jsx)(eT.Z,{fallback:t,children:(0,g.jsx)(eR,{fallback:t,iconButton:"downloadImageBtnUnauth"===s?(0,g.jsx)(l.zd,{rounding:"circle",children:(0,g.jsx)("div",{"aria-hidden":"true",onClick:()=>{_({action:"click",item:"download-image-button",within:"unauth-signup-modal"})},children:(0,g.jsx)(l.xu,{alignItems:"center",color:"lightWash",dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:`solid 3px ${eE.PP}`}},direction:"column",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,g.jsx)(l.JO,{accessibilityLabel:n.bt("Sign up to download", "Sign Up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true),color:"default",icon:"download"})})})}):null,pinId:u})}):t;default:return t}}var eI=o(696448);function eB({large:e}){return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},display:"block",height:45,width:45,children:(0,g.jsx)(eI.Z,{size:e?50:40})})}class eM extends s.Component{constructor(...e){var t,o,i;super(...e),t="componentDidMount",o=()=>{let{container:e,modalType:t}=this.props;(0,B.My)("web.unauth.modal_title.view"),(0,B.My)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{container:e,titleText:t}=this.props;return(0,g.jsx)("h1",{style:{color:"#333",fontSize:"revamped_business_login_page"===e?"28px":"32px",fontWeight:"revamped_business_login_page"===e?500:600,letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===e?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all"},children:t})}}var eO=o(494125);let eF=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:s})=>{let a=(0,y.ZP)();(0,eO.Z)(()=>{(0,B.My)("unauth.line_missing_email.email_step")}),a.bt("We use your email address for account creation and for important security and legal notices.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let n=a.bt("We're unable to create your account without your email address. To continue, make sure you provide an email address to create your account.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,g.jsx)(l.xu,{marginTop:3,children:(0,g.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),s()},children:[(0,g.jsx)(l.xv,{align:"start",overflow:"normal",children:n}),(0,g.jsx)(l.xu,{marginBottom:5,marginTop:3,children:(0,g.jsx)(l.nv,{ref:em.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:a.bt("Email address", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,g.jsx)(l.zx,{color:"red",disabled:!e,fullWidth:!0,text:a.bt("Continue", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,g.jsx)(l.xu,{marginTop:2}),(0,g.jsx)(l.zx,{fullWidth:!0,onClick:()=>{(0,B.My)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:a.bt("Not now", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},eN=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:i,registrationCredentials:a,showSocialSignupWithAgeStep:n})=>{let r=(0,p.B$)(),c=(0,y.ZP)(),[d,_]=(0,s.useState)(""),[u,h]=(0,s.useState)("");return(0,eO.Z)(()=>{t(!1)}),(0,g.jsx)(l.xu,{marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,width:268,children:(0,g.jsx)(eF,{email:d,emailError:u,handleEmailChange:({value:e})=>_(e),handleSubmit:()=>{if((0,B.My)("unauth.line_missing_email.submit_email"),!d){h(c.bt("Email address is required", "Email is required", "email error message", undefined, true));return}(0,B.My)("unauth.line_missing_email.submit_email");let{register:i}=r,s=[(0,ec.GT)({message:c.bt("Hmm... that doesn't look like an email address.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],l=(0,er.Z)(d,s);if(l){(0,B.My)("unauth.line_missing_email.email_validation_failure"),h(l);return}let{type:_,signupOptions:u}=a;(0,Q.Z)({url:"/v3/register/exists/",data:{email:d}}).then(s=>{if(!1!==s.resource_response.data){o({email:d}),(0,B.My)("unauth.line_missing_email.email_existed");return}t(!0);let{birthday:a}=u;void 0===a?(n({type:_,signupOptions:{...u,email:d}}),t(!1)):i({...u,email:d,birthday:a},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(()=>{t(!1),C.ZP.handleSignupRedirect(e||C.ZP.defaultSocialLoginRedirectUrl(),!0),(0,B.My)("unauth.line_missing_email.signup_success")},e=>{t(!1),h(e.message||c.bt("Something went wrong… Click 'Continue' to try again.", "Oops! Something went wrong… Click Continue to try again.", "unauth.lineEmailCollect.error", undefined, true)),(0,B.My)("unauth.line_missing_email.signup_failure")})},e=>{h(e.api_error_code===j.bd?e.message:c.bt("Hmm... that doesn't look like an email address.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)),(0,B.My)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:i})})};var eU=o(818895),eV=o(214877),eD=o(549629),eW=o(313566),eG=o(339001),eH=o(610954);let e$=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:i,phoneNumberEnd:a}){let[n,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(""),[_,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),{isAuthenticated:m,loginState:x}=(0,w.B)(),f=(0,y.ZP)(),P=(0,K.lO)(),v=(0,q.Z)(),k={container:e,page:P?.pageType},{logContextEvent:A}=(0,eV.v)();(0,eD.Q)({view_type:565,view_parameter:3731}),(0,s.useEffect)(()=>{!o&&C.ZP.isFullyLoggedIn(m,x)&&C.ZP.handleRedirect(i)},[]);let S=f.bt("Continue", "Continue", " - ", undefined, true);return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},width:268,children:[_&&(0,g.jsx)(eH.Z,{rounding:8}),(0,g.jsx)(l.xu,{paddingY:6,children:(0,g.jsx)(l.xv,{align:"center",size:"200",children:a?(0,eG.nk)(f.bt("Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", "Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", " - ", undefined, true),{phoneNumberEnd:(0,g.jsx)(l.xv,{weight:"bold",children:a},"phone")}):f.bt("Please check your phone for a code and enter it in the field below to log in.", "Please check your phone for a code and enter it in the field below to log in.", " - ", undefined, true)})}),(0,g.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),A({view_type:565,view_parameter:3731,event_type:101,element:12019});let o=(0,er.Z)(c??"",[(0,ec.aH)({message:f.bt("You missed a bit! Don't forget to add your verification code.", "You missed a spot! Don't forget to add your verification code.", " - ", undefined, true)}),(0,ec.VC)({message:f.bt("Hmm...that doesn't look like a verification code.", "Hmm...that doesn't look like a verification code.", " - ", undefined, true)})]);o?(r(o),(0,B.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(r(null),u(!0),v({creds:{...t,mfa_token:c},loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{A({view_type:565,view_parameter:3731,event_type:9992});let e=window.location.pathname===b.lfe||window.location.pathname.startsWith(b.rOJ)?"/":window.location.pathname;C.ZP.handleRedirect(i||e)},e=>{e.message?r(e.message):(0,G.x)(f.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),u(!1)}))},children:[(0,g.jsx)(eW.Z,{autoComplete:"off",focused:!0,hasError:!!n,id:"mfaCode",name:"code",onChange:e=>d(e.target.value),placeholder:f.bt("Verification code", "Verification code", " - ", undefined, true),tooltip:n,type:"text",value:c}),(0,g.jsx)(l.xu,{height:10}),(0,g.jsx)(l.zx,{accessibilityLabel:S,color:"red",fullWidth:!0,text:S,type:"submit"})]}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,eG.nk)(f.bt("If you didn't get it, we can {{ resendCode }}.", "If you didn't get it, we can {{ resendCode }}.", " - ", undefined, true),{resendCode:(0,g.jsx)(l.rU,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),A({view_type:565,view_parameter:3731,event_type:101,element:12920}),u(!0),v({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{u(!1),p(!0)},e=>{u(!1),e.message?r(e.message):(0,G.x)(f.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true))})},underline:"hover",children:(0,g.jsx)(l.xv,{size:"100",weight:"bold",children:f.bt("resend the code", "resend the code", " - ", undefined, true)})},"code")})}),h&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,g.jsx)(ee.ZP,{duration:5e3,onHide:()=>p(!1),text:f.bt("We have sent you a new code.", "We sent you a new code!", "login2fa.resendCode.success", undefined, true)})})]})};var eY=o(883939);let eq={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},eK=({children:e,noBoxShadow:t})=>{let o={...eq,...t?{boxShadow:"none"}:{}},{viewer:i}=(0,p.B$)(),s=(0,p.Cw)();return"LIMITED_LOGIN"===i.type&&s?(0,g.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},overflow:"hidden",children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{width:"number"==typeof s.height&&"number"==typeof s.width?600*(s.width/s.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:s.url?`url(${s.url})`:""}},height:"100%",maxWidth:400})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},width:400,children:e})]}):(0,g.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},eX=({children:e,email:t,footer:o,handleNotYouClick:i,header:a,noBoxShadow:n,title:r,viewerInfo:c})=>{let{viewer:d}=(0,p.B$)(),_=(0,y.ZP)();return(0,g.jsx)(eK,{noBoxShadow:n,children:(0,g.jsxs)(s.Fragment,{children:[a,(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},display:"block",height:40,width:40,children:(0,g.jsx)(eI.Z,{size:40})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 48px 16px"}},maxHeight:150,overflow:"hidden",width:"auto",children:r}),"LIMITED_LOGIN"===d.type&&(0,g.jsx)(l.xu,{marginBottom:4,paddingX:12,children:(0,g.jsx)(eY.Z,{})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:120,children:(0,g.jsx)(ez.qE,{name:c.firstName,src:c.imageUrl??void 0})}),(0,g.jsx)(l.xu,{marginBottom:3,children:(0,g.jsx)(l.xv,{align:"center",children:t})}),e,(0,g.jsx)(l.xu,{paddingY:5,children:(0,g.jsx)(l.iz,{})}),(0,g.jsx)(l.xu,{"data-test-id":"login-switch-account",children:(0,g.jsx)(l.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),i()},children:(0,g.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:(0,g.jsx)(l.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:_.bt("Not you? Log in with a different account", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,g.jsx)(l.xu,{marginBottom:0,marginTop:1,children:o})]})})};var eJ=o(876569),eQ=o(30378),e0=o(307772);let e1=e=>{eQ.Z.resume(e0.LU),(0,B.My)(`web.dismiss_account_switcher.${e}`)};var e3=o(300494),e4=o(835599),e2=o(623891),e8=o(445011),e5=o(386008);let e7={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},e6={home_page:{...e7,minHeight:"initial"},pinBookmarklet:{...e7,boxShadow:"none"},revamped_business_login_page:{...e7,margin:void 0,textAlign:void 0}},e9={minHeight:"400px",padding:"20px 10px 24px"},te={margin:"0 auto 22px",width:"270px"},tt=(e,t)=>{switch(t){case"boardInvite":return e.bt("Sign up to accept your board invite", "Sign up to accept your board invite", "Sign up copy board invite", undefined, true);case"saveButton":return e.bt("Sign up to see more", "Sign up to see more", "signup copy save button", undefined, true);case"saveButtonExp":return e.bt("Join Pinterest to save this idea", "Join Pinterest to save this idea", "FullPageSignup.signupTagline.save", undefined, true);case"homePage":return e.bt("Welcome to Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Sign up to save this Pin!", "Sign up to save this Pin!", "signup copy save button from third party website", undefined, true);case"downloadImageBtnDweb":return e.bt("Never lose track of your ideas again. Sign up for an account", "Never lose track of your ideas again! Sign up for an account", "mweb.unauth.download_modal.download_value_prop", undefined, true);case"downloadImageBtnUnauth":return e.bt("Sign up to download", "Sign Up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true);case"followButton":return e.bt("Join Pinterest to follow", "Join Pinterest to follow", "mweb.unauth.follow_modal.follow_value_prop", undefined, true);default:return e.bt("Sign up to see more", "Sign up to see more", "sigup copy default includes pin click and scrolling", undefined, true)}},to=(e,t)=>{switch(t){case"boardInvite":return e.bt("Log in to accept your board invite", "Log in to accept your board invite", "Login copy board invite", undefined, true);case"homePage":return e.bt("Welcome to Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Sign in to save this Pin!", "Sign in to save this Pin!", "Login copy save button from third party website", undefined, true);default:return e.bt("Log in to see more", "Log in to see more", "Title on desktop login modal", undefined, true)}};function ti({container:e,savePinId:t,customLoginTagline:o,customSignupTagline:i,handleCloseButtonClick:c,handleShowingSignupWelcomeLoading:d,handleSsoRedirect:_,hideAccountSwitchValueProp:u,inviter:h,isAccountSwitch:b=!1,isBusiness:v,nextUrlParam:k,removeSignupLoginToggleFooter:A,renderBusinessCreateButton:E,showCloseIcon:j,showResponseMessageModal:C,signupRedirectUrl:T,signupSource:L="defaultSource",suppressFocus:Z,toggleType:I="DEFAULT_TOGGLE",signupFlow:M,attributionLabel:F,onRedirectToSignup:U}){let V=(0,w.B)(),D=(0,y.ZP)(),{viewer:{info:W,type:G}}=(0,p.B$)(),H=(0,r.Z)(),$=(0,f.Z)(),{checkExperiment:Y}=(0,R.F)(),[q,K]=(0,s.useState)(!1),[X,J]=(0,s.useState)(!1),[Q,ee]=(0,s.useState)(!1),[et,eo]=(0,s.useState)("signup"===(0,e2.Z)().type?{type:"signup"}:M),{trackConversionUpsell:ei}=(0,P.Z)(),[es,ea]=(0,s.useState)(!1),el=(0,x.Z)(G),{username:en}=(0,a.UO)(),er=(0,e5.cm)(),ec=en?er(en):null,ed="commentComposer"===L,e_="login"===et.type?14212:14214,[eu,eh]=(0,s.useState)(e_),eg=Y("dweb_unauth_remove_fb_signup_iteration").anyEnabled,[em,ex]=(0,s.useState)(!1),ey="revamped_business_login_page"===e,ew=(0,e8.w)("FullPageSignup");(0,s.useEffect)(()=>((0,B.My)(`unauth.authentication_modal.shown.${I}.${et.type}`),()=>{b&&((0,e3.Z)("add_account_dismiss",null,e),e1(e))}),[]);let eb=(0,s.useRef)(et.type);(0,s.useEffect)(()=>{eb.current!==et.type&&(eb.current=et.type,(0,B.My)(`unauth.authentication_modal.shown.${I}.${et.type}`))});let ef=(0,s.useRef)(M);(0,s.useEffect)(()=>{ef.current.type!==M.type&&(ef.current=M,eo(M))});let eP=e6[e]??e7,eS=()=>k?decodeURIComponent(k):k,eE=e=>eS()?(0,e4.Z)(e,{next:eS()}):e,ej=e=>eo({type:"EmailCollection",registrationCredentials:e}),eC=e=>eo({type:"socialSignupWithAge",registrationCredentials:e}),eT=e=>eo({type:"consents",registrationCredentials:e}),eL=(e,t)=>eo({type:"loginMfa",creds:e,phoneNumberEnd:t?.phoneNumberEnd||void 0}),eR=e=>{(0,B.My)(`unauth.personalized_login.prevent_register.${e}`),ea(!0),J(!1),eo({type:"signup"})},eI=()=>{$({action:"click",item:"login-switch-account",within:"personalized-login"}),(0,B.NC)("click_change_signin_account"),H({aux_data:el,element:10879,event_type:101}),ei({eventType:14689,element:10879})},eO=e=>{(0,B.My)(`unauth.authentication_modal.${e}.${I}.${et.type}`)},eF=e=>{eO("login_toggle_click"),(0,B.NC)("click_toggle_login"),$({action:"click",item:"login-button"}),ei({eventType:14689,element:13914}),eo({type:"login",email:e?.email}),eh(14212),ei({eventType:14688,component:14212,element:13914,upsellReason:F,incrementUpsellReasonCounter:!1}),K(!1)},eV=({email:e})=>{if(eO("signup_toggle_click"),(0,B.NC)("click_toggle_signup"),ei({eventType:14689,element:13913}),T){(0,n.Z)(T,!1);return}eh(14214),ei({eventType:14688,component:14214,element:13913,upsellReason:F,incrementUpsellReasonCounter:!1}),eo({type:"signup",email:e})},eD=({email:e})=>(0,g.jsx)(l.iP,{fullWidth:!1,onTap:t=>{let o={event_type:101,element:10880};v?H(o):(t.event.preventDefault(),$({action:"click",item:"signup-toggle-button",within:"personalized-login"}),H({...o,aux_data:el}),eV({email:e}))},children:(0,g.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:(0,g.jsx)(l.xu,{"data-test-id":"need-account-link",children:(0,g.jsx)(l.rU,{href:v?eE("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:D.bt("Need an account? Sign up now", "Need an account? Sign up now", "Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account", undefined, true)})})})}),eW=eg?em:void 0,eY=eg?()=>{(0,B.My)("remove_fb_signup.dweb_login_form"),J(!1),ex(!0)}:void 0,eK=j&&(0,g.jsx)(eA.Z,{onClick:c});if(Q&&["signup","login","socialSignupWithAge"].includes(et.type))return(0,g.jsx)(eJ.Z,{});switch(et.type){case"signup":case"respondMessage":{let o=q?D.bt("Welcome back to Pinterest!", "Welcome back to Pinterest!", "welcoming user back to pinterest in signup modal when we recognize their email", undefined, true):i||tt(D,L),a=h&&!h.is_default_image?h:null,n=(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:te},width:"login_page"!==e?400:void 0,children:(0,g.jsx)(eM,{container:e,modalType:"signup",titleText:a&&("respondMessage"===M.type?(D.bt("Sign up and let {{ name }} know what you think", "Sign up and let {{ name }} know what you think", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name):(D.bt("Join {{ name }} on Pinterest for more ideas", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name))||(["login_page","home_page","save","download","follow"].includes(e)?o:void 0!==ew?ew:D.bt("Unlimited free access to the world's best ideas", "Unlimited free access to the world's best ideas", "FullPageSignup.signupTitle.save", undefined, true))})});return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eP},"data-test-id":"signup-default-modal",width:484,children:[X&&(0,g.jsx)(eH.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:a?{minHeight:"400px",padding:"30px 10px 20px"}:e9},children:[eK,a?(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:108,children:(0,g.jsx)(ez.qE,{name:a.first_name||a.full_name,src:a.image_medium_url,verified:"respondMessage"===M.type})}),n]}):(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(eZ,{container:e,fallback:(0,g.jsx)(eB,{large:"homePage"!==L}),savePinId:t,signupSource:L,user:ec}),n,(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:te},children:!q&&(0,g.jsx)(l.xu,{marginBottom:4,marginTop:-4,children:(0,g.jsx)(l.xv,{align:"center",size:"300",children:"login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e?o:"downloadImageBtnDweb"===L&&D.bt("Discover a better way to keep your ideas organised", "Discover a better way to keep your ideas organized", "mweb.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"downloadImageBtnUnauth"===L&&D.bt("Download this image and more with a Pinterest account", "Download this image and more with a Pinterest Account", "web.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"followButton"===L&&(0,eG.nk)(D.bt("Create an account to follow {{ creatorName }}", "Create an account to follow {{ creatorName }}", "mweb.unauth.signup_modal.follow_value_prop_subheader", undefined, true),{creatorName:ec?.full_name})||"homePage"===L&&D.bt("Find new ideas to try", "Find new ideas to try", "Value prop on desktop signup modal on home page", undefined, true)||"saveButtonExp"===L&&D.bt("Unlimited free access to the world's best ideas", "Unlimited free access to the world's best ideas", "FullPageSignup.signupSubTitle.saDDve", undefined, true)||D.bt("Discovery starts here", "Discovery starts here", "Pinterest value proposition on desktop login modal", undefined, true)})})})]}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},"data-test-id":"signup-options",position:"relative",children:(0,g.jsx)(ep,{additionalChildren:!A&&(0,g.jsx)(S,{layout:"NOT_NOW_BUTTON"===I&&"SIGNUP_LARGE"||"home_page"===e&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:()=>eF({email:et.email}),shouldHideBusinessCreateFooterLink:!!E,type:"signupToLogin"}),attributionLabel:F,component:eu,container:e,disablePostSignupNextUrl:!k,email:et.email??"",handleSsoRedirect:_,loadingIndicatorCallback:J,nextUrlParam:eS(),onBirthdayUnderage:({birthday:e,email:t})=>{eo({type:"UnderageConfirmation",birthday:e,email:t})},onConsentStepNeeded:eT,onFBMissingEmail:ej,onFBPhoneOnlyConnectVerified:ej,onLoginWithMfa:eL,setEmail:e=>eo((et.type,{...et,email:e})),showResponseMessageModal:"respondMessage"===M.type?C:void 0,showSignupWelcomeLoadingFn:e=>{ee(e),d&&d(e)},signupSource:L,suppressFocus:Z,switchToSocialSignupWithAgeFlow:eC})})]}),E&&E()]})}case"login":{if(!es&&!b&&W&&"AUTH"!==G&&"bottom.right.upsell.email"!==e){let t=W.hasPassword||W.connectedToFacebook||W.connectedToGoogle;return(0,g.jsx)(eX,{email:et.email??"",footer:eD({email:et.email}),handleNotYouClick:()=>{ea(!0),eI()},header:(0,g.jsxs)(s.Fragment,{children:[X&&(0,g.jsx)(eH.Z,{}),eK]}),noBoxShadow:"pinBookmarklet"===e,title:(0,g.jsx)(eM,{container:e,modalType:"personalizedLogin",titleText:(0,eG.nk)(D.bt("Welcome back, {{name}}!", "Welcome back, {{name}}!", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:W?W.firstName:""}).join("")}),viewerInfo:W,children:(0,g.jsx)(eU.ZP,{attributionLabel:F,component:eu,container:e,disableFBSignup:eY,disablePostSignupNextUrl:!k,email:W.email,hideEmailField:!0,hideFacebookButton:t&&!W.connectedToFacebook,hideGoogleButton:t&&!W.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!W.hasPassword,hideTermsOfService:!0,loadingIndicatorCallback:J,loginButtonTextOverride:D.bt("Continue", "Continue", " - ", undefined, true),nextUrlParam:eS(),onEmailChange:()=>{},onLoginWithMfa:eL,requestContext:V,shouldHideFBButtonForSignup:eW,showResponseMessageModal:"respondMessage"===M.type?C:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eR}})})}let t=ed?D.bt("Log in to comment", "Log in to comment", "dweb.unauth.comment_compose.upsell_tagline", undefined, true):o||to(D,L),i=(0,g.jsx)(l.xu,{bottom:!0,color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},height:62,left:!0,width:"100%",children:(0,g.jsx)(l.iP,{fullHeight:!0,onTap:()=>{(0,n.Z)((0,e4.Z)("/login",{}),!0),(0,B.My)("unauth.business.login_personal_account.click"),H({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,g.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,g.jsx)(l.xv,{weight:"bold",children:D.bt("Log in to a personal account", "Log in to a personal account", "bizsite.revampSignup.redirectToPersonalAccountLogin", undefined, true)})})})});return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eP},"data-test-id":"login-modal-default",width:ey?480:484,children:[X&&(0,g.jsx)(eH.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{...e9,...ey?{padding:"40px"}:{}}},children:[eK,em&&eg&&(0,g.jsx)(ek.Z,{}),!ey&&(0,g.jsx)(eB,{large:"homePage"!==L}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ey?{...te,width:void 0,marginBottom:"40px"}:te},width:["login_page","revamped_business_login_page"].includes(e)?void 0:400,children:(0,g.jsx)(eM,{container:e,modalType:"login",titleText:t})}),b&&!u&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:te},children:(0,g.jsx)(l.xu,{marginBottom:8,marginTop:-4,children:(0,g.jsx)(l.xv,{align:"center",size:"300",children:D.bt("Have another Pinterest account? Log in to easily switch between them", "Have another Pinterest account? Log in to easily switch between them", "Subtitle on the login modal that explains to a user why they would add an additional account to their profile", undefined, true)})})}),(0,g.jsx)(eU.ZP,{attributionLabel:F,component:eu,container:e,disableFBSignup:eY,disablePostSignupNextUrl:!k,email:et.email,handleSsoRedirect:_,isAccountSwitch:b,loadingIndicatorCallback:J,nextUrlParam:eS(),onEmailChange:e=>eo({...et,email:e.target.value}),onFBPhoneOnlyConnectVerified:ej,onLoginWithMfa:eL,onRedirectToSignup:U,requestContext:V,shouldHideFBButtonForSignup:eW,showResponseMessageModal:"respondMessage"===M.type?C:void 0,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:eC}}),v?!ey&&(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,g.jsx)(m,{}),(0,g.jsx)(l.xv,{size:"100",weight:"bold",children:(0,g.jsx)(l.rU,{href:eE("/business/create"),children:D.bt("Create new account", "Create new account", "Link to the page to create a new business account instead of logging in", undefined, true)})})]}):!b&&!A&&(0,g.jsx)(S,{layout:"NOT_NOW_BUTTON"===I&&"LOGIN_INLINE"||"SMALL_TOGGLE"===I&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{eV({email:et.email})},type:"loginToSignup"})]}),ey&&i]})}case"loginMfa":return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eP},"data-test-id":"login-modal-mfa",width:489,children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e9},children:[eK,(0,g.jsx)(eB,{}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...te,padding:"0 10px"}},width:"100%",children:(0,g.jsx)(eM,{container:e,modalType:"loginMfa",titleText:D.bt("Two-factor authentication required", "Two-factor authentication required", "desktopLoginModal.2fa.title", undefined, true)})}),(0,g.jsx)(e$,{container:e,creds:et.creds,isAccountSwitch:b,nextUrlParam:eS(),phoneNumberEnd:et.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eP},"data-test-id":"birthday-collection-modal",minHeight:"0",children:(0,g.jsx)(O,{disablePostSignupNextUrl:!k,handleLoginToggleButtonClick:eF,loadingIndicatorCallback:J,nextUrlParam:eS(),registrationCredentials:et.registrationCredentials,showResponseMessageModal:"respondMessage"===M.type?C:void 0})});case"EmailCollection":{let e=()=>{eo({type:"signup",email:et.registrationCredentials.signupOptions.email}),J(!1)},t=({email:e})=>eo({type:"EmailAlreadyExist",email:e});return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e7},"data-test-id":"line"===et.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,children:[X&&(0,g.jsx)(eH.Z,{}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e9},children:[eK,(0,g.jsx)(eB,{}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:te},width:310,children:(0,g.jsx)(l.X6,{size:"600",children:D.bt("What's your email address?", "What's your email address?", "Prompt for email address in after sign in with line", undefined, true)})}),"line"===et.registrationCredentials.type?(0,g.jsx)(eN,{loadingIndicatorCallback:J,nextUrlParam:k,onNotNowClick:e,registrationCredentials:et.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eC}):(0,g.jsx)(ev,{loadingIndicatorCallback:J,nextUrlParam:k,onConsentStepNeeded:eT,onNotNowClick:e,registrationCredentials:et.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eC})]})]})}case"EmailAlreadyExist":return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eq},"data-test-id":"login-modal-existing-email",children:[X&&(0,g.jsx)(eH.Z,{}),(0,g.jsx)(eB,{}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:te},maxHeight:120,overflow:"hidden",width:350,children:(0,g.jsx)(eM,{container:e,modalType:"personalizedLogin",titleText:(0,eG.nk)(D.bt("It looks as though you're already on Pinterest", "Looks like you're already on Pinterest", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:W?W.firstName:""}).join("")})}),(0,g.jsx)(l.xu,{marginBottom:3,children:(0,g.jsx)(l.xv,{align:"center",children:et.email})}),(0,g.jsx)(eU.ZP,{attributionLabel:F,component:eu,container:e,disableFBSignup:eY,disablePostSignupNextUrl:!k,email:et.email,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,loadingIndicatorCallback:J,loginButtonTextOverride:D.bt("Continue", "Continue", " - ", undefined, true),nextUrlParam:eS(),onEmailChange:()=>{},onLoginWithMfa:eL,requestContext:V,shouldHideFBButtonForSignup:eW,showResponseMessageModal:"respondMessage"===M.type?C:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eR}}),(0,g.jsx)(l.xu,{paddingY:5,children:(0,g.jsx)(l.iz,{})}),(0,g.jsx)(l.xu,{"data-test-id":"login-switch-account",children:(0,g.jsx)(l.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),eo({type:"login"}),ea(!0),eI()},children:(0,g.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:(0,g.jsx)(l.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:D.bt("Not you? Log in with a different account", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,g.jsx)(l.xu,{marginBottom:4,marginTop:1,children:eD({email:et.email})}),eK]});case"UnderageConfirmation":return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:eP},"data-test-id":"underage-confirmation-modal",children:(0,g.jsx)(z.Z,{birthday:et.birthday,onEditBirthday:()=>{eo({type:"signup",email:et.email}),J(!1)}})});case"consents":return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eP},"data-test-id":"consents-step-modal",width:484,children:[eK,(0,g.jsx)(N,{disablePostSignupNextUrl:!k,nextUrlParam:eS(),onBackButtonClick:()=>{eo({type:"signup",email:"email"===et.registrationCredentials.signupOptions.type?et.registrationCredentials.signupOptions.email:""})},onBirthdayUnderage:({birthday:e,email:t})=>{eo({type:"UnderageConfirmation",birthday:e,email:t})},registrationCredentials:et.registrationCredentials})]});default:return null}}},40545:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),s=o(140017),a=o(5859),l=o(785893);let n=({onClick:e,zIndex:t})=>{let o=(0,a.B)(),n=(0,s.ZP)();return(0,l.jsx)(i.xu,{"data-test-id":"full-page-signup-close-button",display:"block",height:40,left:o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!o.isRTL,top:!0,width:40,zIndex:t?new i.Ry(t):void 0,children:(0,l.jsx)(i.hU,{accessibilityLabel:n.bt("close", "close", "accessible label for close button", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:e,size:"md"})})}},767874:(e,t,o)=>{o.d(t,{Z:()=>E});var i=o(667294),s=o(883119),a=o(516562),l=o(239493),n=o(363994),r=o(661641),c=o(43531),d=o(322079),_=o(415382),u=o(614792),h=o(140017),p=o(54576),g=o(96452),m=o(640258),x=o(897650),y=o(974371),w=o(508218),b=o(516256),f=o(340523),P=o(5859),v=o(217058),k=o(494125),A=o(785893);let S=({container:e,isAccountSwitch:t,nextUrlParam:o,onLoginWithMfa:n,onLoginWithSuspended:S,onLoginWithVoluntarilyDeactivated:E,showResponseMessageModal:z,socialSignupCallbacks:j,tooltip:C,showLoginRateLimited:T,onClick:L,logoCentered:R=!1,buttonStatic:Z=!1,handleGoogleConnectResponseOverride:I})=>{let{viewer:{type:B}}=(0,a.B$)(),M=(0,d.Z)(),O=(0,u.lO)(),F=(0,h.ZP)(),{checkExperiment:N}=(0,f.F)(),U=(0,y.M)(),V=(0,i.useRef)(null),{locale:D}=(0,P.B)();return(0,k.Z)(()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer})),(0,k.Z)(()=>{let i=({credential:i,select_by:s})=>{if(I){I();return}let a=(0,x.mK)((0,x.PL)(s));M({creds:{google_open_id_token:i},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:O?.pageType,trigger:a},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,_.Z)(B),signup_login_method:b.Z.GPLUS}}},isAccountSwitch:t}).then(i=>{let s=i?.resource_response.data?.user;t&&s&&(0,p.Z)(s,"google",e),z?z(!1):w.ZP.handleRedirect(o||w.ZP.defaultSocialLoginRedirectUrl()),N("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,c.Z)()},e=>{switch(g.ik.includes(e.api_error_code)&&T?.(),e.api_error_code){case g.E6:E?.(e.message);break;case g.Zn:n?.({google_open_id_token:i},{phoneNumberEnd:e.data?.phone_number_end});break;case g.xN:if("ACCOUNT_RECOVERY"===j.type)j.switchToAccountRecoverySignupFlow("google");else{(0,v.Rp)({event:"start",provider:"google"});let e=(0,m.Z)(i),t={container:window.googleConnectButtonContainer,page:O?.pageType,trigger:a},o={type:"google",google_open_id_token:i,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};j.switchToSocialSignupWithAgeFlow({type:"google",context:t,signupOptions:{...o}})}break;case g.iU:(0,l.x)(e.message||"");break;default:e.api_error_code===g.an&&S?S():(0,l.x)(F.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true))}})};return(async()=>{await U?.ensureInit("button",i),(0,x.ru)({buttonRef:V,locale:D,isDesktop:!0,logo_alignment:R?"center":"left",onClick:L})})(),()=>{U?.removeButtonCallback(i)}}),(0,A.jsxs)(s.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,A.jsx)(s.xu,{height:44,children:(0,A.jsx)(s.xu,{ref:V,position:Z?"static":"absolute",width:"100%"})}),!!C&&(0,A.jsx)(r.Z,{anchor:V.current,message:C})]})};function E(e){let{checkExperiment:t}=(0,f.F)(),{anyEnabled:o}=t("web_google_disabled");return o?(0,A.jsx)(n.Z,{tooltip:e.tooltip}):(0,A.jsx)(S,{...e})}},363994:(e,t,o)=>{o.d(t,{Z:()=>_});var i=o(667294),s=o(883119),a=o(656134),l=o(661641),n=o(140017),r=o(53162),c=o(623891),d=o(785893);function _(e){let t=(0,n.ZP)(),{tooltip:o,onClick:_,isGoogleSocialConnect:u}=e,[h,p]=(0,i.useState)(),g=!!(0,c.Z)().from_login,m=(0,i.useRef)(null),x=(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(s.xu,{height:24,marginTop:1,width:24,children:(0,d.jsx)(r.Z,{size:20})}),(0,d.jsx)(s.xu,{marginStart:2,children:(0,d.jsx)(s.xv,{weight:"bold",children:u?t.bt("Link account to Google", "Link account to Google", "googleSocialConnectButtonWithDisabledSDK.buttonText", undefined, true):t.bt("Connect with Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]});return(0,d.jsxs)(s.xu,{ref:m,"data-test-id":"google-connect-button",position:"relative",children:[(0,d.jsx)(s.iP,{onTap:_?_():()=>p(!0),children:u?(0,d.jsx)(s.xu,{alignItems:"center",borderStyle:g?"sm":void 0,color:"default",display:"flex",height:44,justifyContent:"center",marginTop:2,paddingX:4,position:"relative",rounding:5,width:"100%",children:x}):(0,d.jsx)(s.xu,{alignItems:"center",borderStyle:g?"sm":void 0,color:"secondary",display:"flex",height:40,justifyContent:"center",marginTop:2,position:"relative",rounding:5,width:"100%",children:x})}),!!o&&(0,d.jsx)(l.Z,{anchor:m.current,message:o}),h&&(0,d.jsx)(a.Z,{onDismiss:()=>p(!1),type:"google"})]})}},883939:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(883119),s=o(847160),a=o(140017),l=o(166770),n=o(785893);let r=({useDefaultText:e})=>{let{limitedLoginModalSubheader:t}=(0,l.H)(),o=(0,a.ZP)();return(0,n.jsx)(i.xv,{align:"center",overflow:"normal",children:e||!t?(0,s.lt)(o):t.text})}},818895:(e,t,o)=>{o.d(t,{OL:()=>K,ZP:()=>J});var i=o(667294),s=o(616550),a=o(883119),l=o(214877),n=o(525364),r=o(920434),c=o(108321),d=o(630592),_=o(516562),u=o(239493),h=o(827499),p=o(767874),g=o(996065),m=o(120726),x=o(877457),y=o(322079),w=o(415382),b=o(614792),f=o(510989),P=o(372085),v=o(140017),k=o(30378),A=o(307772),S=o(54576),E=o(96452),z=o(732837),j=o(508218),C=o(516256),T=o(588604),L=o(345276),R=o(340523),Z=o(61137),I=o(5859),B=o(535053),M=o(608516),O=o(702497),F=o(217058),N=o(623409),U=o(468653),V=o(311297),D=o(498903),W=o(747602),G=o(785893);function H(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let $=(0,i.lazy)(()=>o.e(64781).then(o.bind(o,764781))),Y=O.lfe,q="loginmodal",K="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class X extends i.Component{constructor(e){super(e),H(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),H(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:c.w[E.an],loading:!1})}),H(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:K,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:K,callback:"verifyCaptcha"})}catch(e){}}),H(this,"handleButtonClick",async(e,t)=>{let{authenticateWithSso:o,desktopCoreLoginContext:{viewer:i},email:s,handleSsoRedirect:a,history:l,isOnSsoExperiment:n,logContextEvent:r}=this.props;if(n){let{isSsoEmail:e,exchangeCodeToTokenUrl:n,existingUserSso:c,existingUserIsSso:d,ssoAuthorizationUri:_}=this.state;if(e){if(!c&&s){a&&a(),(0,T.i)(s,l);return}if(d){r({event_type:101,element:14367,aux_data:{...(0,w.Z)(i.type),signup_login_method:C.Z.SSO}}),o({callbacks:{success:e=>{let{authCode:o}=e;s&&o&&this.loginUser("sso",{sso_user_email:s??"",sso_auth_code:o},t)},error:e=>{(0,F.My)(`unauth.login.sso.error.${q}`,{code:e.api_error_code,message:e.message}),this.handleLoginFailure("sso",{api_error_code:0},{sso_user_email:"",sso_auth_code:""})}},exchangeCodeToTokenUrl:n,isLogin:!0,modalUrl:_??""});return}}}r({event_type:101,element:30,aux_data:{...(0,w.Z)(i.type),signup_login_method:C.Z.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let c=(0,D.Z)(this.props.email??"",this.emailValidators);if(c)this.setState({emailValidationError:c}),(0,F.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${q}`);else{this.setState({emailValidationError:null}),c=await (0,D.U)(this.props.password,this.passwordValidators);let e=(0,D.Z)(this.props.password,this.asciiValidators);c?(this.setState({passwordValidationError:c}),(0,F.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${q}`)):e?(this.setState({passwordValidationError:e}),(0,F.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${q}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t))}}),H(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),H(this,"loadRecaptchaView",()=>{if("undefined"!=typeof document&&document.head){if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{let e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}}),H(this,"handleLoginFailure",(e,t,o)=>{let{email:i,i18n:s,loadingIndicatorCallback:a,setPassword:l}=this.props;(0,F.My)(`unauth.login.error.LOGIN_FAILURE.${e}`),a(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();let n=t.http_status||t.httpStatus,r=n===B.Ej?B.Ej:t.api_error_code;if(r===E.Zn){j.ZP.handleLoginMfa(o,{phoneNumberEnd:t.data?.phone_number_end},this.props.onLoginWithMfa);return}if(n===B.Ej&&r===E.bd&&t.message&&"!"!==t.message[t.message.length-1]&&!j.ZP.isExceedRecaptchaLocalLimit()||r===E._K&&n===B.AB&&!j.ZP.isExceedRecaptchaLocalLimit()){this.loadRecaptchaView(),this.setState({passwordValidationError:s.bt("Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha", undefined, true),loading:!1});return}if(n===B.Rl&&r===E.nY){this.setState({passwordValidationError:s.bt("Your account is connected to Facebook - use the Facebook button to log in", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true),loading:!1});return}let d=(0,z.Z)({error:t,source:"login",onClickPasswordReset:()=>{(0,F.My)("unauth_password_reset_link_tapped"),(0,P.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>this.updateAccountRecoveryModal(j.Ny.PASSWORD_RESET_SENT))}});d?(this.setState({...d,accountRecoveryModalType:r?c.w[r]:void 0,loading:!1}),d.passwordValidationError&&l("")):((0,F.My)("unauth.login.error.LOGIN_FAILURE.unknow_error",{loginMethod:e,error:t}),(0,u.x)(s.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setState({loading:!1}))}),H(this,"verifyCaptcha",()=>{let e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);j.ZP.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),j.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),H(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.props.isOnSsoExperiment&&this.debouncedCheckIfSsoUser(),this.setState({hideFBGoogleToolTip:!0})}),H(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),H(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),H(this,"debouncedCheckIfSsoUser",(0,r.Z)(()=>{(0,D.Z)(this.props.email??"",this.emailValidators)?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),H(this,"handleBlur",()=>{this.setState({googleValidationError:null});let e=(0,D.Z)(this.props.email??"",this.asciiValidators);e&&(0,F.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${q}`),(e=(0,D.Z)(this.props.password,this.asciiValidators))&&(0,F.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${q}`)}),H(this,"renderSocialButtons",()=>{let{disablePostSignupNextUrl:e,hideFacebookButton:t,hideLineButton:o,hideGoogleButton:s,isAccountSwitch:l,isPersonalizedLoginFlyout:n,loadingIndicatorCallback:r,nextUrlParam:c,onLoginWithMfa:d,onFBPhoneOnlyConnectVerified:_,onFBMissingEmail:u,shouldHideFBButtonForSignup:g,disableFBSignup:m,container:x="unknown",socialSignupCallbacks:y,showResponseMessageModal:w,isLineAuthenticationEnabled:b,trackConversionUpsell:P,requestContext:v}=this.props,{hideFBGoogleToolTip:k}=this.state,A="ACCOUNT_RECOVERY"===y.type?{...y,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"facebook"===e?this.updateAccountRecoveryModal(j.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(j.Ny.PREVENT_GOOGLE_REGISTER),y.switchToAccountRecoverySignupFlow(e)}}:y,S=e=>{P({element:e,eventType:14689})},E=!(v.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup_iteration").anyEnabled&&g||t)&&(0,G.jsx)(h.Z,{container:x,disableFBSignup:m,disablePostSignupNextUrl:e,isAccountSwitch:l,loadingIndicatorCallback:r,nextUrlParam:c,onClick:()=>{S(13505)},onFBMissingEmail:u,onFBPhoneOnlyConnectVerified:_,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(j.Ny.RATE_LIMITED),showResponseMessageModal:w,socialSignupCallbacks:A,tooltip:null}),z=!s&&(0,G.jsx)(p.Z,{container:x,isAccountSwitch:l,logoCentered:"revamped_business_login_page"===x,nextUrlParam:c,onClick:()=>{S(13504)},onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(j.Ny.RATE_LIMITED),showResponseMessageModal:w,socialSignupCallbacks:A,tooltip:!k&&this.state.googleValidationError||null}),C=!o&&b&&(0,G.jsx)(f.Z,{name:"SafeSuspense_LineConnectButton",children:(0,G.jsx)(M.Z,{children:(0,G.jsx)($,{container:x,isAccountSwitch:l,loadingIndicatorCallback:r,nextUrlParam:c,onClick:()=>{S(13507)},onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(j.Ny.RATE_LIMITED),showResponseMessageModal:w,socialSignupCallbacks:A})})}),T=t||s?"0px":"8px";return(0,G.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:n?"9px":"10px"}},"data-test-id":"login-options",children:[E,(0,G.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{height:n?T:"10px"}}}),z,!o&&b&&(0,G.jsxs)(i.Fragment,{children:[(0,G.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{height:n?T:"10px"}}}),C]})]})}),H(this,"renderRegisterForm",()=>{let{container:e,disableEmailLogin:t,email:o,hideEmailField:s,hideFacebookButton:l,hideGoogleButton:n,hidePasswordField:r,i18n:c,isAccountSwitch:d,loginButtonTextOverride:_,password:u,suppressFocus:h,logContextEvent:p,requestContext:{isRTL:m},desktopCoreLoginContext:{viewer:x},viewType:y,viewParameter:b,component:f,attributionLabel:P}=this.props,{emailValidationError:v,loading:k,passwordValidationError:A,isSsoEmail:S,existingUserSso:E,existingUserIsSso:z}=this.state,j=S&&(!E||E&&z),C=_||c.bt("Log in", "Log in", "Copy on the button to log in", undefined, true);j&&(C=c.bt("Continue with SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let T=A&&(0,i.isValidElement)(A)?null:(0,G.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{float:m?"right":"left"}},marginBottom:3,marginTop:2,children:(0,G.jsx)(a.xv,{size:"200",weight:"bold",children:(0,G.jsx)(a.rU,{href:Y+(o?`?ue=${o}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,F.My)("login_modal_forget_account"),(0,F.NC)("click_forget_password"),p({event_type:101,element:10881,aux_data:{...(0,w.Z)(x.type)}})},children:c.bt("Forgotten your password?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,G.jsx)(g.Z,{attributionLabel:P,buttonText:C,component:f,container:e,disableEmailLogin:t,email:o,emailText:c.bt("Email", "Email", "Placeholder text for email field", undefined, true),emailValidationError:v,hideEmailField:s,hideFacebookButton:l,hideGoogleButton:n,hidePasswordField:r,isSsoEmail:j,loading:k&&!d,onButtonClick:()=>{this.handleButtonClick()},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:u,passwordResetLink:T,passwordText:c.bt("Password", "Password", " - ", undefined, true),passwordValidationError:A,suppressFocus:h,viewParameter:b,viewType:y})}),H(this,"renderOriginalForm",()=>{let{hideFacebookButton:e,hideGoogleButton:t,hidePasswordField:o}=this.props;return(0,G.jsxs)(i.Fragment,{children:[this.renderRegisterForm(),!o&&(!t||!e)&&(0,G.jsx)(d.Z,{}),this.renderSocialButtons()]})}),H(this,"renderButtons",()=>this.renderOriginalForm()),H(this,"renderTextAndLinkToSignup",()=>{let{onRedirectToSignup:e=()=>{}}=this.props;return(0,G.jsxs)(a.xu,{display:"flex",paddingY:6,children:[(0,G.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("Don’t have a business account?", "Don’t have a business account?", "businessAccountCreate.signupLink.text", undefined, true)}),(0,G.jsx)(a.xu,{marginStart:1,children:(0,G.jsx)(a.rU,{display:"inlineBlock",href:"#",onClick:({event:t,dangerouslyDisableOnNavigation:o})=>{t.preventDefault(),o(),e()},children:(0,G.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("Create one for free", "Create one for free", "businessAccountCreate.signupLink.CTA", undefined, true)})},0)})]})}),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:t}=e,o=t.bt("You missed a bit! Don't forget to add your email address.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true),s=t.bt("That doesn't look like an email address.", "Hmm...that doesn't look like an email address.", " - ", undefined, true),l=t.bt("Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Login.password.onlyASCII", undefined, true);this.emailValidators=[(0,W.aH)({message:o}),(0,W.GT)({message:s})];let n=t.bt("The password you entered is incorrect.", "The password you entered is incorrect.", " - ", undefined, true);this.passwordValidators=[(0,V.Z)({shortPassStr:n,samePasswordStr:n,blackPassStr:n})],this.asciiValidators=[(0,W.oR)({message:l})]}componentDidMount(){let{isAccountSwitch:e,email:t,nextUrlParam:o,requestContext:i,showResponseMessageModal:s}=this.props;j.ZP.isFullyLoggedIn(i.isAuthenticated,i.loginState)&&!e&&(s?s(!1):j.ZP.handleRedirect(o)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1,t&&this.checkIfSsoUser()}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,t,o){let{container:i="unknown",email:s,flushContextEvents:a,isAccountSwitch:l,loadingIndicatorCallback:n,login:r,pageContext:c,showResponseMessageModal:d,desktopCoreLoginContext:{viewer:_},requestContext:u}=this.props;this.setState({loading:!0}),n(!0);let h=t||{username_or_email:s||"",password:this.props.password},p={container:i,page:c?c.pageType:void 0},g=C.Z.EMAIL;"facebook"===e?g=C.Z.FACEBOOK:"google"===e?g=C.Z.GPLUS:"sso"===e&&(g=C.Z.SSO),k.Z.pause(A.LU),a(),r({creds:h,loggingOptions:{loggingData:p,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,w.Z)(_.type),signup_login_method:g}}},isAccountSwitch:l,recaptchaV2Token:o,recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then((e={})=>{j.ZP.storeLoginCredentialsToBrowser(h);let t=this.props.nextUrlParam||j.ZP.defaultLoginRedirectUrl(),{anyEnabled:o}=u.experimentsClient.checkExperiment("m10n_measurement_pinterest_tag_us");if(o&&"undefined"!=typeof window&&window.pintrk)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:s})}catch(e){}if(l&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){let{user:o}=e.resource_response.data;(0,S.Z)(o,"email",i),t="/"+o.username}else j.ZP.storeLoginCredentialsToBrowser(h);d?d(!1):j.ZP.handleRedirect(t)},t=>this.handleLoginFailure(e,t,h))}render(){let{email:e,container:t}=this.props,o="revamped_business_login_page"===t;return(0,G.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:o?"100%":268,children:[(0,G.jsx)(c.Z,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),o&&this.renderTextAndLinkToSignup(),!this.props.hideTermsOfService&&(0,G.jsx)(m.Z,{style:o?"biz-revamp":"normal"})]})}}function J(e){let t=(0,v.ZP)(),{flushContextEvents:o,logContextEvent:a}=(0,l.v)(),r=(0,b.lO)(),c=(0,s.k6)(),{recaptchaV3Token:d,refreshToken:u}=(0,Z.D)(),h=(0,_.B$)(),{country:p}=(0,I.B)(),g=(0,y.Z)(),[m,w]=(0,i.useState)(""),{viewType:f,viewParameter:P}=(0,n.SU)(),k=(0,x.g)(),{trackConversionUpsell:A}=(0,U.Z)(),{checkExperiment:S}=(0,R.F)(),{authenticateWithSso:E,verifySsoUser:z}=(0,L.Z)(),j=(0,N.Z)();return(0,G.jsx)(X,{...e,authenticateWithSso:E,desktopCoreLoginContext:h,flushContextEvents:o,history:c,i18n:t,isLineAuthenticationEnabled:"JP"===p,isOnSsoExperiment:S("web_sso_auth_enabled").anyEnabled,logContextEvent:a,login:g,pageContext:r,password:m,recaptchaV3Token:d,refreshRecaptchaV3Token:u,setPassword:w,trackConversionUpsell:A,trackInteraction:j,unauthDesktopSignupModalPageContext:k,verifySsoUser:z,viewParameter:P,viewType:f})}},996065:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(667294),s=o(883119);let a=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var l=o(446984),n=o(313566),r=o(140017),c=o(339001),d=o(663915),_=o(217058),u=o(468653),h=o(785893);function p({buttonText:e,buttonTextLabel:t,container:o="",disableEmailLogin:p,email:g,emailFieldHasError:m,emailLabel:x,emailText:y,emailValidationError:w,hideEmailField:b,hideFacebookButton:f,hideGoogleButton:P,hidePasswordField:v,isSsoEmail:k,onButtonClick:A,onEmailBlur:S,onEmailChange:E,onPasswordChange:z,password:j,passwordResetLink:C,passwordText:T,passwordValidationError:L,signupForm:R,suppressFocus:Z,component:I}){let B=(0,r.ZP)(),[M,O]=(0,i.useState)(!!R),[F,N]=(0,i.useState)(null),[U,V]=(0,i.useState)(""),{trackConversionUpsell:D}=(0,u.Z)(),W=w;!W&&(v||p)&&(f||P?!f&&P?W=B.bt("Your account is connected to Facebook - use the Facebook button to log in", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true):f&&!P&&(W=B.bt("Your account is connected to Google - use the Google button to log in", "Your account is connected to Google - use the Google button to log in", "Customized desktop login for users with Google", undefined, true)):W=B.bt("Your account is connected to Facebook and Google - use the buttons to log in", "Your account is connected to Facebook and Google - use the buttons to log in", "Customized desktop login for users with FB and Google", undefined, true));let G=v||k,H=e=>{D({element:e,eventType:14689})},$="revamped_business_login_page"===o;return(0,h.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),A(e)},children:[!b&&(0,h.jsx)(s.xu,{marginBottom:$?4:1,marginStart:2,children:(0,h.jsx)(s.__,{htmlFor:"email",children:(0,h.jsx)(s.xv,{size:$?"300":"200",children:B.bt("Email address", "Email", "registerForm.label.email", undefined, true)})})}),!b&&(0,h.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:$?36:7}},"data-test-id":"emailInputField",children:(0,h.jsx)(n.Z,{accessibilityLabel:x,autoComplete:"email",disabled:!!R?.registerRestricted,domainError:F?(0,c.nk)(B.bt("Did you mean {{ newEmail }}?", "Did you mean {{ newEmail }}?", " - ", undefined, true),{newEmail:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:F},"err_text")}):void 0,focused:!Z,hasError:!!w||!!m,id:"email",name:"id",onBlur:()=>{S?.(),R&&(g?R.checkEmailExistsWithCompletion({email:g,handleEmailExists:()=>{(0,_.My)("web.unauth.signup.email_entered"),M&&O(!1)},handleEmailNotExist:async()=>{M||O(!0),await R.checkEmailValidation(g)},handleError:()=>{O(!0)}}):O(!0));let e=e=>{V(e),g===e?N(null):(N(e),(0,_.My)("unauth.email_domain_typo_suggestion.shown"))},t=g&&-1!==g.indexOf("@")?g.split("@"):[];if(g&&g!==U||N(null),g&&t&&g.length<60){if(2===t.length){let o=t[1],i=o&&-1!==o.indexOf(".")?o.split("."):[];i.length>=2&&"gmail"===i[0]&&("com"!==i.slice(1).join(".")?e(t[0]+"@gmail.com"):N(null))}let o=t[1]&&a.includes(t[1])?null:t[1]&&a.map(e=>{let o=(0,d.Z)(e,t[1]);return 2===o||1===o?e:null}).filter(e=>"string"==typeof e);o&&o.length&&e(o[0]?`${t[0]}@${o[0]}`:"")}},onChange:E,placeholder:y,tooltip:W,type:"email",value:g})}),!G&&(0,h.jsx)(s.xu,{marginBottom:$?4:1,marginStart:2,marginTop:$?4:0,children:(0,h.jsx)(s.__,{htmlFor:"password",children:(0,h.jsx)(s.xv,{size:$?"300":"200",children:B.bt("Password", "Password", "registerForm.label.password", undefined, true)})})}),!G&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(s.xu,{"data-test-id":"passwordInputField",children:(0,h.jsx)(n.Z,{autoComplete:"new-password",disabled:!!p||!!R?.registerRestricted,focused:!!b&&!Z,hasError:!!L,id:"password",name:"password",onChange:z,onFocus:()=>{(0,_.NC)("focus_password")},placeholder:T,tooltip:L,type:"password",value:j})}),(0,h.jsx)(s.xu,{"data-test-id":"password-reset-button",children:C??null})]}),window.recaptchaCount>0?(0,h.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,R&&!k&&(0,h.jsx)(l.Z,{...R.birthdayProps}),R?.registerRestricted&&(0,h.jsx)(s.xu,{marginTop:2,children:(0,h.jsx)(s.xv,{color:"error",size:"100",children:B.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Signup.AgeStep.underageError", undefined, true)})}),!v&&(0,h.jsx)(s.xu,{"data-test-id":"registerFormSubmitButton",marginTop:$?7:2,children:(0,h.jsx)(s.zx,{accessibilityLabel:t,color:"red",disabled:p||!!R?.registerRestricted,fullWidth:!0,onClick:()=>{H(14214===I?12019:30),M?((0,_.NC)("press_signup_continue"),(0,_.Rp)({event:"start",provider:"email"})):((0,_.EX)({event:"start",provider:"email"}),(0,_.NC)("press_login_continue"))},text:e,type:"submit"})})]})}},656134:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),s=o(930837),a=o(140017),l=o(785893);function n({type:e,onDismiss:t}){let o=(0,a.ZP)(),n="facebook"===e?o.bt("Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):o.bt("Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),r="facebook"===e?o.bt("It looks as though Facebook isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):o.bt("It looks as though Google isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,l.jsx)(s.ZP,{accessibilityModalLabel:n,footer:(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(i.xu,{paddingX:1,children:(0,l.jsx)(i.zx,{color:"red",onClick:t,size:"md",text:o.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true)})})}),heading:n,isOpen:!0,onDismiss:t,children:(0,l.jsx)(i.xu,{paddingX:5,children:(0,l.jsx)(i.xv,{align:"center",children:r})})})}},120726:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(883119),s=o(140017),a=o(339001),l=o(340523),n=o(702497),r=o(785893);function c({style:e="normal",isSignupStep:t=!1}){let o=(0,s.ZP)(),{checkExperiment:c}=(0,l.F)(),d=(t,o,s)=>(0,r.jsx)(i.xu,{"data-test-id":t,display:"inlineBlock",children:(0,r.jsx)(i.xv,{color:"biz-revamp"===e?"subtle":"default",size:"100",weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:s,target:"blank",underline:"hover",children:o})})},t),_=d("tos",o.bt("Terms of Service", "Terms of Service", "termOfService.link.tos", undefined, true),n.U5h),u=d("privacy",o.bt("Privacy Policy", "Privacy Policy", "termOfService.link.privacyPolicy", undefined, true),"/_/_/policy/privacy-policy/"),h=d("noticeAtCollection",o.bt("Notice at collection", "Notice at collection", "termOfService.link.noticeAtCollection", undefined, true),n.cvl),p=d("deleteYourAccount",o.bt("delete your account", "delete your account", "termOfService.link.deleteYourAccount", undefined, true),n.QA0),g=t&&c("fdbr_teen_compliance").anyEnabled;return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity .2s linear"}},"data-test-id":"terms-of-service",marginTop:3,children:(0,r.jsx)(i.xv,{align:"center",color:"subtle",size:"100",children:g?(0,r.jsx)(()=>(0,a.nk)(o.bt("By continuing, you agree to Pinterest's {{ tos }} and acknowledge you've read our {{ privacyPolicy }}. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{ deleteYourAccount }}.", "By continuing, you agree to Pinterest's {{ tos }} and acknowledge you've read our {{ privacyPolicy }}. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{ deleteYourAccount }}.", "termOfService.text.floridaCompliance", undefined, true),{tos:_,privacyPolicy:u,deleteYourAccount:p}),{}):(0,r.jsx)(()=>(0,a.nk)(o.bt("By continuing, you agree to Pinterest's {{ tos }} and acknowledge that you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", "By continuing, you agree to Pinterest's {{ tos }} and acknowledge you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", "termOfService.text.default", undefined, true),{tos:_,privacyPolicy:u,noticeAtCollection:h}),{})})})}},661641:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(667294),s=o(883119),a=o(785893);function l({message:e,anchor:t}){let[o,l]=(0,i.useState)(!0);return o?(0,a.jsx)(s.Li,{anchor:t,idealDirection:"right",onDismiss:()=>l(!1),children:(0,a.jsx)(s.xu,{padding:3,children:(0,a.jsx)(s.xv,{color:"light",size:"200",weight:"bold",children:e})})}):null}},192978:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(11109);let s=e=>({type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,i.Z)(e.birthday):void 0})},43531:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(372085);let s=async()=>{try{let e=await (0,i.Z)({url:"/v3/users/me/"}),t=e.resource_response.data?.email||(e.resource_response.client_context||Object.freeze({})).user?.email;"undefined"!=typeof window&&window.pintrk&&window.pintrk("track","custom",{lead_type:"Pinterest Login",em:t})}catch(e){}}},415382:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(602377);let s=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?i.Z.LIMITED:i.Z.DEFAULT}},144556:(e,t,o)=>{o.d(t,{Z:()=>i});let i=e=>{let[t,o]=[e?.width||580,e?.height||400],[i,s]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${o},left=${Math.round((i-t)/2)},top=${s>o?Math.round((s-o)/2):0}`}},892731:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e){e&&e.focus()}},724402:(e,t,o)=>{o.d(t,{PP:()=>i,Y5:()=>s,YO:()=>r,ex:()=>n,j7:()=>l,kT:()=>a,yM:()=>c});let i=o(876594).wvI,s="#f0f0f0",a="#efefef",l="#e2e2e2",n="rgba(0, 0, 0, 0.06)",r="#ad081b",c="#4a8ad4"},80749:(e,t,o)=>{o.d(t,{Z:()=>s});let i=e=>e.split("").sort(()=>.5-Math.random()).join("");function s(e,t){let o=e.split("@")[0],s="";return(s=(s=o.includes(".")?o.replace("."," "):o.includes("_")?o.replace("_"," "):o).replace(/[0-9]/g,""),"GB"===t)?"User_"+i(s):s=s.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}},391884:(e,t,o)=>{o.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:o,preferredResolution:i,excludeOriginals:s}){if(!e&&!t&&!o)return"";if("gif"===t)return e||"";if(!o)return"";if(i){let e="474x"===i&&o["474x"]||"236x"===i&&o["236x"]||o["736x"];if(e)return e}let a=Object.keys(o).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:o[t]};return{...e,[i]:o[t]}}catch(t){return e}},{}),l=Object.keys(a);return s&&"orig"===l[l.length-1]&&l.pop(),a[l.pop()]||""}},736771:(e,t,o)=>{o.d(t,{Z:()=>i});let i={STARTED:1,FINISHED:2}},732837:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(883119),s=o(140017),a=o(339001),l=o(96452),n=o(785893);function r({apiErrorCode:e,errorMessage:t,onClickPasswordReset:o}){let r=(0,s.ZP)(),c=({text:e})=>(0,n.jsx)(i.xu,{display:"inlineBlock",children:(0,n.jsx)(i.iP,{onTap:o,children:(0,n.jsx)(i.xv,{color:"error",size:"200",weight:"bold",children:e},"err_text")})}),d=(e=>{switch(e){case l.yV:case l.$j:return(0,a.nk)(r.bt("We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "Error message when user is soft banned", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("Reset your password", "Reset your password", "Link text for password reset", undefined, true)})});case l.iK:return(0,a.nk)(r.bt("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", "Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("set a password.", "set a password.", "Link text to set password for user with account with only google auth", undefined, true)})});case l.nY:return(0,a.nk)(r.bt("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", "Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("set a password.", "set a password.", "Link text to set password for user with account with only facebook auth", undefined, true)})});case l.nf:return(0,a.nk)(r.bt("Your account is connected to Apple. This option only works on the Pinterest iOS app. To log in to Pinterest here, you’ll need to {{ resetPasswordLink }}", "Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "unauth.web.emailLogin", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("set a password.", "set a password.", "Link text to set password for user with account with only apple auth", undefined, true)})});case l.oP:return(0,a.nk)(r.bt("The password you entered is incorrect. Try again or {{ resetPasswordLink }}", "The password you entered is incorrect. Try again or {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(c,{text:r.bt("Reset your password", "Reset your password", "Link text for password reset", undefined, true)})});default:return[t]}})(e);return(0,n.jsx)(i.xu,{"data-test-id":"touchableErrorMessage",children:d.map((e,t)=>(0,n.jsx)(i.xv,{color:"error",inline:!0,size:"200",children:e},`err_message_${t}`))})}var c=o(535053),d=o(217058);let _=[...l.ZP,c.Ej,l.oP,l.nf].filter(e=>e!==l.RL&&e!==l.an);function u({error:e,onClickPasswordReset:t,source:o}){let i=e.api_error_code;(e.http_status||e.httpStatus)===c.Ej&&(i=c.Ej);let s=i&&_.includes(i)?(0,n.jsx)(r,{apiErrorCode:i,errorMessage:e.message??"",onClickPasswordReset:t}):e.message;if(s)switch(i){case l.oP:case l.RL:return{passwordValidationError:s};case l.nY:return{facebookValidationError:s};case l.iK:return{googleValidationError:s};case l.hU:return{emailValidationError:s};case l._K:return{passwordValidationError:s};default:return{emailValidationError:s}}else(0,d.My)(`unauth.login.error.SERVER_ERROR.unknown.${String(i)}.${o}`);return null}},835599:(e,t,o)=>{o.d(t,{Z:()=>i});let i=(e,t)=>{let o=new URL(e,"https://pinterest.com");return o.search=new URLSearchParams(t).toString(),o.toString().substring(o.origin.length)}},311297:(e,t,o)=>{o.d(t,{Z:()=>i});let i=e=>async()=>{let{Password:t}=await o.e(25778).then(o.bind(o,325778));return t(e)}},498903:(e,t,o)=>{async function i(e,t){let o;for(let i of t){let t=i(e);if(t instanceof Promise){let i=(await t)(e);if(i.errors.length>0){o=i.errors[0];break}}else if(t.errors.length>0){o=t.errors[0];break}}return o}o.d(t,{U:()=>i,Z:()=>s});let s=(e,t)=>{let o;return t.some(t=>{let i=t(e);return i.errors.length>0&&(o=i.errors[0],!0)}),o}},445011:(e,t,o)=>{o.d(t,{w:()=>r,A:()=>c});var i=o(140017),s=o(340523),a=o(149722);let l=new Map([["dweb_unauth_header_signup_title",new Map([["enabled_3",(e,t)=>t.bt("Find your next great idea", "Find your next great idea", "dweb_default_header_signup_title.find_your_next_great_idea", undefined, true)],["enabled_4",(e,t)=>t.bt("Discover ideas just for you", "Discover ideas just for you", "dweb_default_header_signup_title.discover_ideas_just_for_you", undefined, true)]])],["mweb_login_app_upsell_title",new Map([["enabled_1",(e,t)=>t.bt("You're ready to go!", "You're ready to go!", "mweb.nux.app_value_prop", undefined, true)],["enabled_2",(e,t)=>t.bt("Hooray! Let's go!", "Hooray! Let's Go!", "mweb.nux.app_value_prop", undefined, true)]])],["mweb_limited_login_app_upsell_title",new Map([["enabled_variant_1",(e,t)=>{let o=t.bt("Welcome back, {{ username }}!", "Welcome back, {{ username }}!", "welcome_back_username", undefined, true);return e?o.replace("{{ username }}",e):o.replace(", {{ username }}","")}]])]]),n=new Map([["mweb_nux_app_upsell_title",new Map([["enabled_1",(e,t)=>({title:e?(t.bt("You have great taste, {{ username }}! Get the app to see more", "You have great taste, {{ username }}! Get the app to see more", "mweb.nux.app_value_prop", undefined, true)).replace("{{ username }}",e):t.bt("You have great taste! Get the app to see more", "You have great taste! Get the app to see more", "mweb.nux.app_value_prop", undefined, true),subtitle:""})],["enabled_2",(e,t)=>({title:e?(t.bt("You have great taste, {{ username }}!", "You have great taste, {{ username }}!", "mweb.nux.app_value_prop", undefined, true)).replace("{{ username }}",e):t.bt("You have great taste!", "You have great taste!", "mweb.nux.app_value_prop", undefined, true),subtitle:t.bt("Get the app to see more", "Get the app to see more", "mweb.nux.app_value_prop_subtitle", undefined, true)})]])],["mweb_unauth_max_saves_login_upsell",new Map([["enabled_1",(e,t)=>({title:t.bt("Sign up to continue saving and access your ideas", "Sign up to continue saving and access your ideas", "mweb.unauth.signup_modal.multi_save_value_prop.v0", undefined, true),subtitle:""})],["enabled_2",(e,t)=>({title:"",subtitle:t.bt("Access your saved ideas and discover even more", "Access your saved ideas and discover even more", "mweb.unauth.signup_modal.multi_save_value_prop_subheader.v0", undefined, true)})],["enabled_3",(e,t)=>({title:t.bt("Access your saved ideas and discover even more", "Access your saved ideas and discover even more", "mweb.unauth.signup_modal.access_saved_ideas.v0", undefined, true),subtitle:""})],["enabled_4",(e,t)=>({title:"",subtitle:t.bt("Bring your ideas to life", "Bring your ideas to life", "mweb.unauth.signup_modal.bring_ideas_to_life.v0", undefined, true)})],["enabled_5",(e,t)=>({title:t.bt("Bring your ideas to life", "Bring your ideas to life", "mweb.unauth.signup_modal.bring_ideas_to_life_subheader.v0", undefined, true),subtitle:""})],["enabled_6",(e,t)=>({title:"",subtitle:t.bt("Sign up to continue saving and access your ideas", "Sign up to continue saving and access your ideas", "mweb.unauth.signup_modal.multi_save_value_prop.v0", undefined, true)})]])]]);function r(e){let t,o;let{checkExperiment:n}=(0,s.F)(),r=(0,a.Z)(),c=(0,i.ZP)();if(!e)return;switch(e){case"FullPageSignup":if(!(t=n("dweb_unauth_header_signup_title")).anyEnabled)return;o=l.get("dweb_unauth_header_signup_title");break;case"MobileLoginPage":if(!(t=n("mweb_login_app_upsell_title")).anyEnabled)return;o=l.get("mweb_login_app_upsell_title");break;case"LimitedLoginAppUpsell":if(!(t=n("mweb_limited_login_app_upsell_title")).anyEnabled)return;o=l.get("mweb_limited_login_app_upsell_title");break;default:return}let d=r.isAuth?r.firstName:null;if(!o)return;let _=o.get(t.group);if("function"!=typeof _)return;let u=_(d,c);if("string"==typeof u)return u}function c(e){let t,o;let{checkExperiment:l}=(0,s.F)(),r=(0,a.Z)(),c=(0,i.ZP)();if(!e)return;switch(e){case"UnauthHybridBannerSignupModal":if(!(t=l("dweb_unauth_gen_ai_bottom_right_upsell_experiment")).anyEnabled)return;o=n.get("dweb_unauth_gen_ai_bottom_right_upsell_experiment");break;case"MobileSignupModalContent":if(!(t=l("mweb_unauth_max_saves_login_upsell")).anyEnabled)return;o=n.get("mweb_unauth_max_saves_login_upsell");break;case"AppInstallStep":if(!(t=l("mweb_nux_app_upsell_title")).anyEnabled)return;o=n.get("mweb_nux_app_upsell_title");break;default:return}let d=r.isAuth?r.firstName:null;if(!o)return;let _=o.get(t.group);if("function"!=typeof _)return;let u=_(d,c);if("object"==typeof u&&null!==u)return{title:u.title,subtitle:u.subtitle}}},746613:e=>{e.exports="https://s.pinimg.com/webapp/birthday-08b9de02.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/64330.en_GB-bfdf61779793fe28.mjs.map