"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[51616],{446984:(e,t,o)=>{o.d(t,{Z:()=>c});var r=o(667294),n=o(883119),s=o(278967),i=o(140017),l=o(217058),a=o(785893);function c({birthday:e,birthdayValidationError:t,disabled:o,setBirthdayValidationError:c,onBirthdayChange:d}){let _=(0,i.ZP)();return(0,r.useEffect)(()=>{(0,l.My)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]),(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(n.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,a.jsxs)(n.kC,{children:[(0,a.jsx)(n.xu,{marginEnd:2,children:(0,a.jsx)(n.__,{htmlFor:"birthdate",children:(0,a.jsx)(n.xv,{size:"200",children:_.bt("Date of birth", "Birthdate", "registerForm.label.birthdate", undefined, true)})})}),(0,a.jsx)(n.u,{idealDirection:"right",text:_.bt("To help keep Pinterest safe, we now require your date of birth. Your date of birth also helps us provide more personalised recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "registerForm.label.birthdate.tooltipDescription", undefined, true),zIndex:s.C,children:(0,a.jsx)(n.JO,{accessibilityLabel:_.bt("Tooltip", "Tooltip", "registerForm.label.birthdate.tooltip.access", undefined, true),icon:"info-circle"})})]})}),(0,a.jsx)(n.xu,{"data-test-id":"signup-birthdate-field",children:(0,a.jsx)(n.nv,{autoComplete:"bday",disabled:o,errorMessage:t,id:"birthdate",onChange:e=>{d(e),c("")},size:"lg",type:"date",value:e||""})})]})}},313566:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(667294),n=o(883119),s=o(785893);function i({accessibilityLabel:e,autoComplete:t="on",disabled:o,domainError:i,focused:l,hasError:a,helperText:c,id:d,name:_,onBlur:h,onChange:u,onFocus:f,placeholder:x,tooltip:m,type:p,useExperimentalTextfield:g,value:P}){let b=(0,r.useRef)(l),y=(0,r.useRef)(null),k=(0,r.useRef)(a);return(0,r.useEffect)(()=>{b.current&&y.current?.focus()},[]),(0,r.useEffect)(()=>{!1===k.current&&a&&y.current?.focus(),k.current=a},[a]),(0,s.jsxs)("fieldset",{style:{position:"relative"},children:[(0,s.jsx)(n.xu,{display:"visuallyHidden",children:(0,s.jsx)(n.__,{htmlFor:d,children:e??x??""})}),(0,s.jsx)(n.nv,{ref:y,autoComplete:g?void 0:t,disabled:o,errorMessage:m?g&&i||m:"",helperText:g?void 0:c,id:d,name:_,onBlur:h,onChange:({event:e})=>{u(e)},onFocus:f,placeholder:x,size:g?void 0:"lg",type:p,value:P||""})]})}},378432:(e,t,o)=>{o.d(t,{Z:()=>u});var r=o(667294),n=o(883119),s=o(341640),i=o(658583),l=o(622541),a=o(454514),c=o(140017),d=o(508218),_=o(217058),h=o(785893);let u=({birthday:e,onEditBirthday:t,onConfirmBirthday:o=()=>{}})=>{let u=(0,c.ZP)(),[f,x]=(0,r.useState)(!1);return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(n.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,h.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,h.jsx)(n.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,h.jsx)(n.X6,{align:"center",size:"600",children:(0,s.ew)(e||"",u)})}),(0,h.jsx)(n.xu,{marginBottom:10,maxWidth:540,children:(0,h.jsx)(n.xv,{align:"center",children:(0,s.Pe)(u)})}),(0,h.jsx)(n.xu,{children:(0,h.jsxs)(n.kC,{children:[(0,h.jsx)(n.xu,{marginEnd:2,children:(0,h.jsx)(n.zx,{onClick:()=>{(0,_.My)("dweb.underageconfirmation.edit"),i.t8(l.It,"0",(0,i.kZ)(l.It)),t()},text:u.bt("Edit", "Edit", "signup.underageconfirmation.edit", undefined, true)})}),(0,h.jsx)(n.zx,{color:"red",onClick:()=>{x(!0),(0,_.My)("dweb.underageconfirmation.confirm"),o(),setTimeout(()=>{d.ZP.handleRedirect("/")},4e3)},text:u.bt("Confirm", "Confirm", "signup.underageconfirmation.confirm", undefined, true),type:"submit"})]})})]})}),f&&(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,h.jsx)(a.ZP,{duration:3500,onHide:()=>x(!f),text:u.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.underageconfirmation.error", undefined, true)})})]})}},614792:(e,t,o)=>{o.d(t,{Mi:()=>r,lO:()=>n});let{Provider:r,useMaybeHook:n}=(0,o(342513).Z)("pageContext")},911037:(e,t,o)=>{o.d(t,{Z:()=>n,z:()=>s});var r=o(663915);function n(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],o=e&&-1!==e.indexOf(".")?e.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;let n=(0,r.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===n||2===n))return!0}return!1}function s(e,t){let o=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==o.length)return!1;let n=o[1],s=n&&-1!==n.indexOf(".")?n.split("."):[],i=s[0];if(i===t&&s.length>3)return!0;if(s.length>=2){let e=(0,r.Z)(i,t);return i.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==s.length||i!==t||2!==s[1].length&&"com"!==s[1])&&(s.length,!1)}},663915:(e,t,o)=>{o.d(t,{Z:()=>r});function r(e,t){let o,r;if(0===e.length)return t.length;if(0===t.length)return e.length;let n=[];for(o=0;o<=t.length;o+=1)n[o]=[o];for(r=0;r<=e.length;r+=1)n[0][r]=r;for(o=1;o<=t.length;o+=1)for(r=1;r<=e.length;r+=1)t.charAt(o-1)===e.charAt(r-1)?n[o][r]=n[o-1][r-1]:n[o][r]=Math.min(n[o-1][r-1]+1,Math.min(n[o][r-1]+1,n[o-1][r]+1));return n[t.length][e.length]}},588604:(e,t,o)=>{o.d(t,{i:()=>l});var r=o(29156),n=o(88682),s=o(598228);let i=e=>`/signup/sso-business-account?email=${e}`,l=(e,t,o)=>{let l=window.location.origin,a=i(e);o&&(a=(0,n.Z)(a,o)),l===s.C0?t.push(a):(0,r.Z)(`${s.C0}${a}`)}},345276:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(372085),n=o(217058),s=o(624797);let i=e=>{let{hostname:t}=(0,s.Qc)(e);return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},l=({origin:e,data:t})=>i(e)?String(t):null;function a(){let e="undefined"!=typeof window;return{verifySsoUser:async e=>{try{let{authorization_uri:t,existing_user:o,existing_user_is_sso:n,is_sso:s,redirect_uri:i,exchange_code_to_token_info_url:l}=(await (0,r.Z)({url:"/v3/sso/info/",method:"POST",data:{email:e}})).resource_response.data;return{authorizationUri:t,exchangeCodeToTokenUrl:l,existingUser:o,existingUserIsSso:n,isSso:s,redirectUri:i}}catch(e){return(0,n.My)("coreSso.verifyUser.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null}}},authenticateWithSso:({callbacks:t,exchangeCodeToTokenUrl:o,isLogin:n,modalUrl:i})=>{let a;if(!e){t.error?.({api_error_code:0,message:"Window is undefined"});return}let c=async e=>{if(!e.isTrusted)return;let i=l(e),d=(0,s.mB)(i);if(d.code){if(n){t.success({authCode:d.code});return}try{let{sso_id:e,sso_id_token:n,sso_email:s,sso_user_name:i}=(await (0,r.Z)({url:o,method:"POST",data:{code:d.code,state:d.state}})).resource_response.data;e&&n&&s&&i?t.success({ssoId:e,ssoIdToken:n,ssoEmail:s,ssoUserName:i}):t.error?.({api_error_code:0,message:"No tokens returned"})}catch(e){t.error?.(e)}finally{a&&!a.closed&&a.close(),window.removeEventListener("message",c)}}};window.addEventListener("message",c),a=window.open(i,"_blank","width=600,height=600")}}}},245593:(e,t,o)=>{o.d(t,{Z:()=>f});var r=o(667294),n=o(883119),s=o(214877),i=o(454514),l=o(140017),a=o(339001),c=o(610954),d=o(554786),_=o(785893);let h={terms:"terms",collectionUsePersonalInfo:"collectionUsePersonalInfo",thirdPartyProvisionPersonalInfo:"thirdPartyProvisionPersonalInfo",overseasTransferPersonalInfo:"overseasTransferPersonalInfo"},u="optionalMarketingConsent";function f({isBusiness:e,isRegistering:t,onBackButtonClick:o,onSubmitHandler:f,removeSpacing:x,validationError:m}){let p=(0,l.ZP)(),g=(0,d.HG)(),{logContextEvent:P}=(0,s.v)(),[b,y]=(0,r.useState)([]),[k,A]=(0,r.useState)(!1),v=[{name:p.bt("Required", "Required", "consentStep.sections.required.title", undefined, true),description:p.bt("I consent to the following:", "I consent to the following:", "consentStep.sections.required.description", undefined, true),checkboxes:[{key:h.terms,text:e?p.bt("Business Terms of Service.", "Business Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text.business", undefined, true):p.bt("Terms of Service.", "Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text", undefined, true),learnMore:{text:p.bt("Learn more", "Learn more", "consentStep.sections.required.checkbox.termOfService.learnMore", undefined, true),url:e?"https://business.pinterest.com/business-terms-of-service":"https://policy.pinterest.com/terms-of-service"}},{key:h.collectionUsePersonalInfo,text:p.bt("Collection and use of personal information.", "Collection and Use of Personal Information.", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.text", undefined, true),learnMore:{text:p.bt("Learn more", "Learn more", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-1-collection-and-use-of-personal-information"}},{key:h.thirdPartyProvisionPersonalInfo,text:p.bt("Third party provision of personal information.", "Third Party Provision of Personal Information.", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.text", undefined, true),learnMore:{text:p.bt("Learn more", "Learn more", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-2-third-party-provision-of-personal-information"}},{key:h.overseasTransferPersonalInfo,text:p.bt("Overseas transfer of personal information.", "Overseas Transfer of Personal Information.", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.text", undefined, true),learnMore:{text:p.bt("Learn more", "Learn more", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-3-overseas-transfer-of-personal-information"}}]},{name:p.bt("Optional", "Optional", "consentStep.sections.optional.title", undefined, true),checkboxes:[{key:u,text:p.bt("By ticking, I consent to the receipt of marketing information and the use of personal information for sending marketing communications. You can change this at any time by visiting your settings.", "By checking, I consent to the receipt of marketing information and use of personal information for sending marketing communications. You may change this at any time by visiting your settings.", "consentStep.sections.required.checkbox.optionalMarketingConsent.text", undefined, true),learnMore:{text:p.bt("Learn more", "Learn more", "consentStep.sections.required.checkbox.optionalMarketingConsent.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-4-receipt-of-marketing-information-and-use-of-personal-information-for-sending-marketing-information"}}]}],z=v.flatMap(e=>e.checkboxes.map(e=>e.key));(0,r.useEffect)(()=>{P({event_type:13,view_type:10,view_parameter:4038}),m&&A(!0)},[m]);let j=()=>Object.values(h).every(e=>b.includes(e)),T=e=>e.learnMore?(0,a.nk)(`${e.text} {{ learnMoreLink }}`,{learnMoreLink:(0,_.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(n.rU,{display:"inline",href:e.learnMore.url,target:"blank",underline:"always",children:e.learnMore.text})},`${e.key}-learnMore`)}):e.text,S=({checked:e,id:t})=>{let o=[];"agreeToAll"===t&&e?o=["agreeToAll",...z]:"agreeToAll"===t||(o=e?[...b,t]:b.filter(e=>e!==t),!e&&o.includes("agreeToAll")?o=o.filter(e=>"agreeToAll"!==e):o.length!==z.length||o.includes("agreeToAll")||(o=["agreeToAll",...o])),y(o)},w=(0,_.jsx)(n.zx,{color:"red",dataTestId:"consent-step-next-button",disabled:!j(),fullWidth:!0,onClick:()=>{j()&&(P({element:96,event_type:g?101:102,view_type:10,view_parameter:4038}),f({kr_privacy_consent_opt_in:!0,marketing_notifs_opt_out:!b.includes(u)}))},size:"lg",text:p.bt("Next", "Next", "consentStep.button.next", undefined, true),type:"button"}),{paddingY:C,paddingX:I}=x?{paddingY:0,paddingX:0}:{paddingY:g?10:8,paddingX:g?10:0};return(0,_.jsxs)(n.xu,{paddingX:I,paddingY:C,children:[t&&(0,_.jsx)(c.Z,{rounding:8}),(0,_.jsxs)(n.xu,{marginBottom:9,paddingX:8,children:[(0,_.jsx)(n.xu,{marginBottom:4,children:(0,_.jsxs)(n.kC,{direction:"column",gap:{column:4,row:0},children:[(0,_.jsx)(n.kC,{justifyContent:"center",children:(0,_.jsx)(n.X6,{accessibilityLevel:2,size:"400",children:p.bt("Consents", "Consents", "consentStep.title", undefined, true)})}),(0,_.jsx)(n.xv,{color:"subtle",size:"300",children:p.bt("Before you can create an account, you need to agree to the required terms below.", "Before you can create an account, you'll need to agree to the required terms below.", "consentStep.description", undefined, true)})]})}),(0,_.jsx)(n.xu,{children:(0,_.jsxs)(n.kC,{direction:"column",gap:{column:4,row:0},justifyContent:"start",children:[(0,_.jsx)(n.xu,{marginBottom:4,children:(0,_.jsx)(n.XZ,{checked:b.includes("agreeToAll"),id:"agreeToAll",label:p.bt("Agree to all", "Agree to all", "consentStep.checkbox.agreeToAll.text", undefined, true),name:"agreeToAll",onChange:({checked:e})=>S({checked:e,id:"agreeToAll"})})}),(0,_.jsx)(n.kC,{direction:"column",gap:{column:6,row:0},children:v.map(e=>(0,_.jsx)(n.pg,{legend:e.name,legendDisplay:"hidden",children:(0,_.jsxs)(n.kC,{direction:"column",gap:{column:2,row:0},children:[(0,_.jsxs)(n.xu,{children:[(0,_.jsx)(n.xv,{align:"start",color:"subtle",size:"100",children:e.name}),e.description?(0,_.jsx)(n.xu,{marginBottom:2,marginTop:2,children:(0,_.jsx)(n.xv,{align:"start",size:"300",children:e.description})}):null]}),e.checkboxes.map((e,t)=>(0,_.jsx)(n.xu,{marginTop:0===t?0:2,children:(0,_.jsxs)(n.kC,{gap:{column:0,row:2},children:[(0,_.jsx)(n.XZ,{checked:b.includes(e.key),id:e.key,name:e.key,onChange:({checked:t})=>S({checked:t,id:e.key})}),(0,_.jsx)(n.__,{htmlFor:e.key,children:(0,_.jsx)(n.xv,{children:T(e)})})]})},e.key))]})},e.name))})]})})]}),g?(0,_.jsxs)(n.kC,{gap:{column:0,row:2},justifyContent:"end",children:[(0,_.jsx)(n.xu,{width:117,children:(0,_.jsx)(n.zx,{dataTestId:"consent-step-back-button",fullWidth:!0,onClick:()=>{o&&o()},size:"lg",text:p.bt("Back", "Back", "consentStep.buttons.back", undefined, true),type:"button"})}),(0,_.jsx)(n.xu,{width:94,children:w})]}):w,k&&(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,_.jsx)(i.ZP,{duration:3500,onHide:()=>A(!k),text:m})})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/51616.en_GB-9baa124d2485ea3b.mjs.map